{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/hexo-theme-yilia/source/mobile.d238ee.js","path":"mobile.d238ee.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/main.234bc0.css","path":"main.234bc0.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/slider.885efe.js","path":"slider.885efe.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/main.234bc0.js","path":"main.234bc0.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/fonts/default-skin.b257fa.svg","path":"fonts/default-skin.b257fa.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.3a9902.eot","path":"fonts/iconfont.3a9902.eot","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/fonts/tooltip.4004ff.svg","path":"fonts/tooltip.4004ff.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.6e162c.woff","path":"fonts/iconfont.6e162c.woff","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/img/default-skin.png","path":"img/default-skin.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.9abe9f.svg","path":"fonts/iconfont.9abe9f.svg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.d0da7e.ttf","path":"fonts/iconfont.d0da7e.ttf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/img/preloader.gif","path":"img/preloader.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/img/show.png","path":"img/show.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-yilia/source/img/logo.jpg","path":"img/logo.jpg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"b77534b872754a70ae2a77349e9f87ce0e7039ce","modified":1510822322000},{"_id":"themes/hexo-theme-yilia/.DS_Store","hash":"0b84e5f7597e3782645374e9f52c0659b08ad8f0","modified":1491093678000},{"_id":"themes/hexo-theme-yilia/.babelrc","hash":"b1b76475ac17dc9e2fa50af96c9e31eea2d0f2b4","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.eslintrc.js","hash":"5696ae049de010ed3786768b0c359f14c05b5ec6","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.eslintignore","hash":"df0a50b13cc00acb749226fee3cee6e0351fb1d9","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.editorconfig","hash":"da6d022b8f4d9c961e2f8f80677e92af8de0db4d","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.gitignore","hash":"9c4b7d27a1e3e5efa0c8ed143a032a85d586b03b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/_config.yml","hash":"918072238f5e595702480dc905d7a5aa6c7b23ec","modified":1510472641000},{"_id":"themes/hexo-theme-yilia/.gitattributes","hash":"e0f24dceeb1e6878a1dd9b01a2b9df1bc037a867","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/README.md","hash":"8444a63c50d8a7e40bb3f1f10e549a60da94a21f","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/package.json","hash":"946b26ae0dff42c590068f0a58ecd326ed059b68","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/webpack.config.js","hash":"c4dca5c60822c90359e48fad373be768ae9fb43d","modified":1491092347000},{"_id":"source/_posts/.DS_Store","hash":"67ca02010a9f20e07b77f79fe5fe631237a2c3dd","modified":1506261128000},{"_id":"source/_posts/2017-04-04.md","hash":"7f3680ad803fa25bb7de5f4cec0d0256064c4ce5","modified":1504357277000},{"_id":"source/_posts/2017-04-11.md","hash":"b6540a66f0ae229bbf600f9933541ae7bbab51e7","modified":1503752313000},{"_id":"source/_posts/2017-04-10.md","hash":"2007b7532a86a9a051c140444b8c8d672c5fed10","modified":1503752313000},{"_id":"source/_posts/2017-05-02.md","hash":"7fedceed371345b4ea84d6edca285a6fd115d30d","modified":1503752313000},{"_id":"source/_posts/2017-06-11.md","hash":"bba7cd0287d97f8c0d7f45bd0d7b69eb931e50be","modified":1504357352000},{"_id":"source/_posts/2017-06-10.md","hash":"54c2d41c8a1d30a11125b1675b65ad5d908f224b","modified":1504357400000},{"_id":"source/_posts/2017-05-07.md","hash":"659c113fdeec3ee0af857e7a678e13bf68a2d5e2","modified":1503752313000},{"_id":"source/_posts/ajax.md","hash":"64e183b97cca8a579321426cf5bfe557e31137cf","modified":1503752313000},{"_id":"source/_posts/2017-06-12.md","hash":"56ab56d99a85e2649738da4bca9ed242051fdef6","modified":1504411254000},{"_id":"source/_posts/vue-ssr.md","hash":"d203eb2182c5db477941c967e0dc9bc5fd1a4ef7","modified":1503752313000},{"_id":"source/_posts/vue-ssr3.md","hash":"62915e65956ca7d59bf764f83bbebfb065b585b2","modified":1503752313000},{"_id":"source/_posts/vue-ssr2.md","hash":"ea8e62902507106a4bf631f47da9bb83fab3b7b4","modified":1503752313000},{"_id":"source/_posts/webgl-2017-07-01.md","hash":"76a07991a8c0428aa9d81bb436f870c959eaafbb","modified":1504412158000},{"_id":"source/_posts/webgl-2017-07-02.md","hash":"a35d04de0101fdf3d7c6df7f1a8d6d469c7bfe7a","modified":1504499616000},{"_id":"source/_posts/webgl-2017-07-04.md","hash":"08eb5650d403f375646881d276af3272bc47dedc","modified":1504619271000},{"_id":"source/_posts/webgl-2017-07-03.md","hash":"cbf0ef1180b2753cab9aec69c238aabe449756b0","modified":1504499605000},{"_id":"source/_posts/webgl-2017-07-06.md","hash":"cff250464061984c19a2850fe6d1709894bd5bc0","modified":1507192265000},{"_id":"source/_posts/webgl-2017-07-10.md","hash":"5e0756df8d9f10efee56cb913645e41b69e0dcd7","modified":1508040600000},{"_id":"source/_posts/webgl-2017-07-08.md","hash":"8114ba06023ba3ca90b92aa36f8b385f2a882f92","modified":1507290442000},{"_id":"source/_posts/webgl-2017-07-09.md","hash":"ef96908a6cff2bb7cd77b2a53dbeb5efe9bf8ccc","modified":1508034021000},{"_id":"source/_posts/webgl-2017-07-12.md","hash":"91166fc3904fea3e7489794a5913f8562c0b0b07","modified":1509272021000},{"_id":"source/_posts/webgl-2017-07-11.md","hash":"5fae17eca22ea8facf0be8cfb7af9a7199f9226b","modified":1509874823000},{"_id":"source/_posts/webgl-2017-07-13.md","hash":"f8376a662054cbd8754ec45eebb8e5af73de024f","modified":1510223047000},{"_id":"source/_posts/webgl-2017-07-14.md","hash":"00bb360bafa48879967468512ec64621ceff3374","modified":1510485690000},{"_id":"source/_posts/webgl-2017-07-16.md","hash":"c803372fa23b78a08651865d98689977cfff8f06","modified":1510563147000},{"_id":"source/_posts/webgl-2017-07-15.md","hash":"672ab12ee09ccbbd6968e3ba50c2679843458f0a","modified":1510494977000},{"_id":"source/_posts/webgl-2017-07-17.md","hash":"77769bb6f3a5973c2423f2517930bcb275b2c042","modified":1510666835000},{"_id":"source/_posts/webgl-2017-07-18.md","hash":"2ae28b23d7e6ae0b3947488384d11e6626ce6d73","modified":1510826075000},{"_id":"source/categories/index.md","hash":"8cdcbc26f07f436675a5a5eb3bc84a1a7bbd63e2","modified":1491115574000},{"_id":"themes/hexo-theme-yilia/.git/FETCH_HEAD","hash":"5885194d6adf0f9790b410a42f0f9642e9f2a770","modified":1491092391000},{"_id":"themes/hexo-theme-yilia/.git/config","hash":"256e47c5a4386e6881318e44d2a716fdc3197863","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/ORIG_HEAD","hash":"ec274ad8176ea701ec280f2352a47451b498c39a","modified":1491092391000},{"_id":"themes/hexo-theme-yilia/.git/packed-refs","hash":"144a02fde3eaced071755091d413698cb7e8382d","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/index","hash":"0cfa1aa7ac01258ba2fcac875cd13e1c783d45d4","modified":1503204623000},{"_id":"themes/hexo-theme-yilia/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/languages/zh-tw.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/layout.ejs","hash":"0a332bdbd3b86c231d690614687f5b97186b85d5","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/index.ejs","hash":"a35dc900203f9d8dd863ea4c1722198d6d457ec8","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/.DS_Store","hash":"4cf2103ba402ede4e35924760df7b32fff7525cb","modified":1491093678000},{"_id":"themes/hexo-theme-yilia/source/mobile.d238ee.js","hash":"a054884092af1cc5c2c14e5e11a4dac6d9254481","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/main.234bc0.css","hash":"0ba37e8f05b5efd14ec9a5eab28ae0c0a06abd5c","modified":1504442545000},{"_id":"themes/hexo-theme-yilia/source-src/css.ejs","hash":"94dbdb02ca11849e415d54fb28546a598f2cffb1","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/slider.885efe.js","hash":"1f1a6548c6016cc132bf65a1701cc8421a1f8414","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/.DS_Store","hash":"6bd59b6930c3f152d22826a8daeea4fd54fe7cc1","modified":1491543561000},{"_id":"themes/hexo-theme-yilia/source-src/script.ejs","hash":"c21381e1317db7bb157f1d182b8c088cb7cba411","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/main.234bc0.js","hash":"988c141a741441812bcf4c408ef530d7a01522f3","modified":1491092347000},{"_id":"source/_posts/2017-05-07/3.png","hash":"f35883f1d4a930a5ed9090f32c58fe6f4ec21841","modified":1494163229000},{"_id":"source/_posts/2017-05-07/1.png","hash":"b3afc9f9b15595ca71cb9f7a3f9a150009c41f4e","modified":1494162933000},{"_id":"source/_posts/2017-05-07/2.png","hash":"63dc5115954f65778dac9be5b64da7a66d28b997","modified":1494162948000},{"_id":"source/_posts/2017-06-11/01.jpeg","hash":"a082a77ecb145c4bf5ac40420eb9dd79aa45cdb3","modified":1503820393000},{"_id":"source/_posts/2017-06-11/02.jpeg","hash":"4bfb34072f539b8367d62220d63ff09f64f8263e","modified":1503820436000},{"_id":"source/_posts/2017-06-12/01.jpeg","hash":"edbd185f826339e53b0e5589a061ed551f815a9e","modified":1504357891000},{"_id":"source/_posts/2017-06-12/03.jpeg","hash":"0b012a70995089687e185731d39284dae19724f2","modified":1504362730000},{"_id":"source/_posts/2017-06-12/02.jpeg","hash":"9fd24d8ad11fec889adbad561319e7c39bbb3cdd","modified":1504362705000},{"_id":"source/_posts/2017-06-12/05.jpeg","hash":"f4832a8ff5b1b440b48d40754a29c77164512da9","modified":1504409726000},{"_id":"source/_posts/ajax/111.png","hash":"2055c99c7528d767b60e30d092f940bdeae34507","modified":1491095615000},{"_id":"source/_posts/2017-06-12/06.jpeg","hash":"7632d800121462464cd159837319398b8af9925d","modified":1504410596000},{"_id":"source/_posts/vue-ssr2/2.jpeg","hash":"2dcb76db17520c9302d7c86b3fa7618b7bd2ce3b","modified":1503752313000},{"_id":"source/_posts/vue-ssr2/3.jpeg","hash":"5b8c1a59b6bb1e55b0beb27b47852718981782f2","modified":1503752313000},{"_id":"source/_posts/webgl-2017-07-01/.DS_Store","hash":"6a611939b3f11e4ab9cb79fa282767cb708c7f53","modified":1503755974000},{"_id":"source/_posts/webgl-2017-07-01/03.jpeg","hash":"bc6b53c34104f47984e0ca30200ab9e5ed8ff8e5","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/04.jpeg","hash":"b12449f26e6e1f57ee795b3dd2ab40b69d7e6ea7","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/07.jpeg","hash":"5859052106fca9a386b97116c72f3815ebd407bd","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/09.jpeg","hash":"ac7dd15c2dd685fe54f04cb2279739f6e913cd77","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/11.jpeg","hash":"6460798902cac012f6cecb3216c51a4dd14a46fc","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/10.jpeg","hash":"07d2cf14b7a4bb486e2c44d89c08d9873093df32","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/12.jpeg","hash":"d792adaf7049bab3a419fc176d4d62afb0299514","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/13.jpeg","hash":"02d7caa28587d7198402cfb9500db3ab85fb6eae","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/14.jpeg","hash":"2ad46d294f5286bd1f665513a77059dc9490c84b","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-03/01.jpeg","hash":"22bdda31eb9bac80277080fd2424f677b15d0171","modified":1504422835000},{"_id":"source/_posts/webgl-2017-07-03/02.jpeg","hash":"e623a9a82048e7e534d8ce0596963f8f74481acf","modified":1504433289000},{"_id":"source/_posts/webgl-2017-07-03/05.jpeg","hash":"f15a6bc585bbf21f72d2faa63d26f74e4860a108","modified":1504444618000},{"_id":"source/_posts/webgl-2017-07-04/02.jpeg","hash":"710b23c1dc6623db1343c19a419c439c824ffa93","modified":1504618531000},{"_id":"source/_posts/webgl-2017-07-04/01.jpeg","hash":"d77e822505fe4adfb187fc6cc69e354e021b6541","modified":1504532729000},{"_id":"source/_posts/webgl-2017-07-04/04.jpeg","hash":"f0bec32549570dea08ec88dee6bc868437d1ff89","modified":1504619037000},{"_id":"source/_posts/webgl-2017-07-04/03.jpeg","hash":"a6249aeadec43f859853462815b2e98de144d414","modified":1504618800000},{"_id":"source/_posts/webgl-2017-07-06/4.jpeg","hash":"a6de64667296657f43373603ff515506a0e52de1","modified":1506245670000},{"_id":"source/_posts/webgl-2017-07-06/1.jpeg","hash":"5aa58e09552aedf5cebc18ddbc11e056d3fd1da1","modified":1506244164000},{"_id":"source/_posts/webgl-2017-07-06/3.jpeg","hash":"2b1e062d7124cffe0e381bd5abffcc28b3909590","modified":1506245139000},{"_id":"source/_posts/webgl-2017-07-06/2.jpeg","hash":"aca0c62ee7ce7b649a31238ebe7eb7b8cf4e8df0","modified":1506244876000},{"_id":"source/_posts/webgl-2017-07-08/2.jpeg","hash":"7419ba73e6f8c5bc2dfcb710daf25c95a55ae2bd","modified":1507196719000},{"_id":"source/_posts/webgl-2017-07-08/.DS_Store","hash":"89cd76026009acbf3c46fab308de948407309ab7","modified":1506261127000},{"_id":"source/_posts/webgl-2017-07-08/3.jpeg","hash":"7b802131222c42748ab93d43a8d4f1a6b61185e0","modified":1507289059000},{"_id":"source/_posts/webgl-2017-07-08/6.jpeg","hash":"9058c301b9f79d31954c74812db9da8c8c98f751","modified":1507290227000},{"_id":"source/_posts/webgl-2017-07-08/7.jpeg","hash":"fda2210e8c0ae280ed63b18e316eb51c1ba5215a","modified":1507290411000},{"_id":"source/_posts/webgl-2017-07-09/1.jpeg","hash":"65f82116bc3403c6751d71940c9a4e287fca844f","modified":1508033616000},{"_id":"source/_posts/webgl-2017-07-10/1.jpeg","hash":"6488f62098428ca180b53f7a3d7399a6ea4d9b68","modified":1508036245000},{"_id":"source/_posts/webgl-2017-07-10/2.jpeg","hash":"c7b2839321301ed0ed01227bf1d3a9a01b4a0b96","modified":1508040568000},{"_id":"source/_posts/webgl-2017-07-11/01.jpeg","hash":"c8dff683ee454fbd46a3d11806fad3d71c16c0ac","modified":1509262476000},{"_id":"source/_posts/webgl-2017-07-11/4.jpeg","hash":"7ee581b83f58f086b902520d7ad8a578b5935023","modified":1509266622000},{"_id":"source/_posts/webgl-2017-07-11/9.jpeg","hash":"62b6fe08a3235f28db6b514f6ade9099ef888094","modified":1509874797000},{"_id":"source/_posts/webgl-2017-07-13/1.jpeg","hash":"5f887cdad535ebe1608b63e2497fab3658a23fe1","modified":1510151366000},{"_id":"source/_posts/webgl-2017-07-13/3.jpeg","hash":"f9e16005257770bc7914df1baf81008eb0b274dd","modified":1510222695000},{"_id":"source/_posts/webgl-2017-07-13/4.jpeg","hash":"1d5dd114f524a89725764c6345048c8d2e6c4f03","modified":1510222725000},{"_id":"source/_posts/webgl-2017-07-14/2.jpeg","hash":"8459e1a6654831da901b5a1a7adebb67f790b662","modified":1510484449000},{"_id":"source/_posts/webgl-2017-07-15/2.jpeg","hash":"e8b9c3af85ece3be9c8788fd9e1aec9b8743912c","modified":1510493484000},{"_id":"source/_posts/webgl-2017-07-15/1.jpeg","hash":"05981ddef46b2868e4e7364112ae1e4d3f7a3101","modified":1510492784000},{"_id":"source/_posts/webgl-2017-07-15/3.jpeg","hash":"2f2ceaf0621ef84cca7a2d7fd613a2a9df3f45e1","modified":1510494579000},{"_id":"source/_posts/webgl-2017-07-15/4.jpeg","hash":"7d2b14e22e98fa80c292d9f5121c74f8e6cc5728","modified":1510494967000},{"_id":"source/_posts/webgl-2017-07-16/4.jpeg","hash":"13da2848dc7f13e6767cfbd17a07dd446c198e0e","modified":1510563136000},{"_id":"source/_posts/webgl-2017-07-17/2.jpeg","hash":"f61de43a72968807e62a7373dcb2b0af864bb59b","modified":1510564463000},{"_id":"source/_posts/webgl-2017-07-17/1.jpeg","hash":"2586ab3dd40743a9a9a3c4f66d1d6e4eeec7827f","modified":1510564261000},{"_id":"source/_posts/webgl-2017-07-17/4.jpeg","hash":"88a373bc29d456d484430dc2a50d74e1e4eb4a64","modified":1510665383000},{"_id":"source/_posts/webgl-2017-07-17/5.jpeg","hash":"c82b05bb68d95423c9c89fa88844065856ead7c0","modified":1510666182000},{"_id":"source/_posts/webgl-2017-07-18/3.jpeg","hash":"1c86af9d1dababab0c180c783079dea51dd13f6f","modified":1510823955000},{"_id":"source/_posts/webgl-2017-07-17/3.jpeg","hash":"af2555454995db1457aa717b075080ef899674d3","modified":1510664163000},{"_id":"source/_posts/webgl-2017-07-16/3.jpeg","hash":"afbb6bc72ee72eeb6294816fa69d2846b2b5e86c","modified":1510560753000},{"_id":"source/_posts/webgl-2017-07-18/2.jpeg","hash":"23b78084c4b88de59bfd40209bfbf56ce5be89bd","modified":1510822192000},{"_id":"source/_posts/webgl-2017-07-18/4.jpeg","hash":"ef3ad7857f4cef0aa2447b0c178155f888d5b4f2","modified":1510825972000},{"_id":"source/_posts/webgl-2017-07-17/6.jpeg","hash":"bb3b954151d61c157911fdb0da0d70e37f169fb4","modified":1510666764000},{"_id":"themes/hexo-theme-yilia/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/logs/HEAD","hash":"a809e105d052f880c1d2aa45840dff50e85330e7","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/.git/info/exclude","hash":"bb5a85730dcf100facee799c05cc4f6affec0745","modified":1491092317000},{"_id":"themes/hexo-theme-yilia/layout/_partial/after-footer.ejs","hash":"143710485f734c5a997e0b1c26192bbba2982bcc","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/archive-post.ejs","hash":"1f7d4819b7f67602c4a1b99871808d2160b60978","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/article.ejs","hash":"2caf8cc76d0a814680a11b6e8c3765032b54138f","modified":1504356977000},{"_id":"themes/hexo-theme-yilia/layout/_partial/baidu-analytics.ejs","hash":"f0e6e88f9f7eb08b8fe51449a8a3016273507924","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/footer.ejs","hash":"1d1ba016fc3999e43d5a3af7908cd4fb4113cfab","modified":1491114892000},{"_id":"themes/hexo-theme-yilia/layout/_partial/css.ejs","hash":"1b91850e8708ce4c83e3cc3f474921182d792308","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/head.ejs","hash":"64f092186b5a744aa1603ce22bb1d44a34446add","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/mobile-nav.ejs","hash":"7fbbfabf5e29525b24ada14613c21a26789132b4","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/left-col.ejs","hash":"2387d91cf94b0b36e8a36841992a5fce63ebd069","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/mathjax.ejs","hash":"151a1ef2173ba7b6789d349f0f8da89616cc1394","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/tools.ejs","hash":"f5e98b6013c968afb867626ed6617cd1cedc3d3a","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/script.ejs","hash":"c4a0f16d554e7e7007856d45b78443d7bf0b40b7","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/viewer.ejs","hash":"e495790b2abe2290875817e42bd505bc611d3e26","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.3a9902.eot","hash":"51d4e8d333ae7867915037983ea5d4b2ad971930","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.6e162c.woff","hash":"709373d566526ad4bdb330757a3915e3c5e37b66","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/img/.DS_Store","hash":"5abb8453dc15577d5fa0fa02c41ebb7159cffc04","modified":1504356218000},{"_id":"themes/hexo-theme-yilia/source/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.9abe9f.svg","hash":"772383b62548e2a4fa560d589e05929b9f6f7f7b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/fonts/iconfont.d0da7e.ttf","hash":"53ea5a5027a2fab93bcdad18cad6dc5f1b728726","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source/img/show.png","hash":"bfe9486ee51f9037434279cf2b0ff5ddc84d886f","modified":1504356206000},{"_id":"themes/hexo-theme-yilia/source-src/js/Q.js","hash":"d011af172064b6c6e0c7051d8f9879373ddac113","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/anm.js","hash":"4a4c5d82b09a3063f91a434388e6aa064fd7fd98","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/browser.js","hash":"04095b38cfd4316a23f8eb14b1ffaf95f78a4260","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/main.js","hash":"d665f4cf30450984591bc8ad2348a1baf720d04b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/fix.js","hash":"17be4f27eb8951835c29dafd0f6ba1b18e47cc6b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/mobile.js","hash":"4d823b039fd296d24a454eae5a798b93c44560cb","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/share.js","hash":"b090f82cf80cba7da764753906d9e2cc2acdf30d","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/report.js","hash":"4f1d9a18a936ce40b037f636a39127dd19175b6e","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/slider.js","hash":"3bf0d70ae171404a0dc73c33ec48927fc2521a54","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/util.js","hash":"8456e9d6b19532742582c99b2fb9d09e146e1c58","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/js/viewer.js","hash":"808a2e1ed407984cfdc929b827d3638f70ec9a2a","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/_core.scss","hash":"24f347a2412abbf58318369152504da9538f8d3b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/_function.scss","hash":"93a50dd19a93485712da1f8d0a1672482dd1eabc","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/archive.scss","hash":"b750499d5120f963b683d0c96ac3f345c714e448","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/article-inner.scss","hash":"ce24ab7049be634c17a163e2db39f1f0b1f7c119","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/article-main.scss","hash":"3fad68bd74260326f83090b0974dd80707e7bac7","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/article-nav.scss","hash":"b68772aa2b47d0ed89ce95d4e9d3d27931fe885c","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/article.scss","hash":"0f6d61af99ed4db87f8589db1feaea7747b55963","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/duoshuo.scss","hash":"5e3feefbbba70d8da0ec2c75db41762dd4762a81","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/fonts.scss","hash":"3f5808a49a7365e3f813f78ba96b692f7ca27886","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/global.scss","hash":"b4cb4f45a55d4250cd9056f76dab2a3c0dabcec4","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/footer.scss","hash":"7c995410b25baaf61dfc5e148e22ca60330abcd3","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/grid.scss","hash":"849a29fcd7150214fcf7b9715fa5dc71d1f9b896","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/left.scss","hash":"0ce6345a86c44e3fea5a4aa439614541112538f3","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/highlight.scss","hash":"3719994c2c9393813cc1d42b657205c368a329cb","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/main.scss","hash":"40c055e8360973a75db7c13f3280a4f465f9e5e3","modified":1503194536000},{"_id":"themes/hexo-theme-yilia/source-src/css/mobile.scss","hash":"12abb65289eed5391d657b963a20f96a473b1cbd","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/mobile-slider.scss","hash":"f053c609d84df0dd9eee1d11ddf0c19163a456be","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/share.scss","hash":"150c6425f6582e7ec78a873256ce49c9930e8805","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/page.scss","hash":"bf206bb7f7d0967bc8b7fdf01b7ffc99aff9ba88","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/reward.scss","hash":"80a4fcf9171d4a33235da96ac8a2b7dcabc45dfb","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/scroll.scss","hash":"9c8dfd1c76854ef063494ca76fac6360b391ed6d","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/social.scss","hash":"b5324302815491d0a5e63142f1ead2048ad3f72f","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/tags-cloud.scss","hash":"c8aa84fca93862d3caae77c552873b8610f33327","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/tags.scss","hash":"ac67a3c7097849206244db9b0ba91daaba017ef5","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/tools.scss","hash":"61917c928d09783a3bc8a91503a59ab3a8696e90","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/tooltip.scss","hash":"53d5a554bc2f38e9bb3d26400a47767013c05216","modified":1491092347000},{"_id":"source/_posts/2017-06-12/04.jpeg","hash":"2f8a989fe72d65e2866bccd1b6b3b46f013695a8","modified":1504408948000},{"_id":"source/_posts/vue-ssr/11.png","hash":"ab5ed2f6789ff7bb6ff7132e8e3df5f01faf69e5","modified":1503143598000},{"_id":"source/_posts/vue-ssr/22.jpeg","hash":"85b1ea4114f8700acb8733a0055ff086f19c11fe","modified":1503144085000},{"_id":"source/_posts/webgl-2017-07-01/05.jpeg","hash":"c566f55816e17e0090bf5828253d6110db733764","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/01.jpeg","hash":"42447f5818e428c21ed64984747a0195863f11b2","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/08.jpeg","hash":"c465bcedddb5afeece69b4e9e19f31da04156735","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-01/06.jpeg","hash":"51cee3ed4d1b432fa6a57058e4f520108e5eefbd","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-02/02.jpeg","hash":"6b414b4841c552f3b2b6f4ef4acabf876b686bd6","modified":1504413871000},{"_id":"source/_posts/webgl-2017-07-02/01.jpeg","hash":"11889ad055dd286dc343fa9298822a0cd53cde8a","modified":1504413597000},{"_id":"source/_posts/webgl-2017-07-03/04.jpeg","hash":"d763e811ab78817019418ff895e5228068980f61","modified":1504443719000},{"_id":"source/_posts/webgl-2017-07-03/03.jpeg","hash":"6e7796a03b6b3696c84583d90dd511e824319ae2","modified":1504433792000},{"_id":"source/_posts/webgl-2017-07-06/5.jpeg","hash":"f2244b58aa5d5a3bece6a6e72ea4231490644fe4","modified":1506260305000},{"_id":"source/_posts/webgl-2017-07-08/5.jpeg","hash":"f2244b58aa5d5a3bece6a6e72ea4231490644fe4","modified":1506260305000},{"_id":"source/_posts/webgl-2017-07-11/2.jpeg","hash":"bad0cc3d5f473a2999e36987dc01f3e281eeb248","modified":1509263605000},{"_id":"source/_posts/webgl-2017-07-11/3.jpeg","hash":"b4f0f4f2f7ae48a7f1c92fd450580df0953a1784","modified":1509264388000},{"_id":"source/_posts/webgl-2017-07-11/6.jpeg","hash":"c87b67ab322e61fcd7e67234b8739b196f0feddc","modified":1509871103000},{"_id":"source/_posts/webgl-2017-07-11/8.jpeg","hash":"63af8df9399d14bd90e796bb7910d7cc647702d8","modified":1509873203000},{"_id":"source/_posts/webgl-2017-07-11/7.jpeg","hash":"d9b3de79ab6f3c0343b897e062a3f8c919b96a67","modified":1509872699000},{"_id":"source/_posts/webgl-2017-07-12/1.jpeg","hash":"33e5989b7e3033971fdf1748e919e7678e6f43c5","modified":1509271910000},{"_id":"source/_posts/webgl-2017-07-13/2.jpeg","hash":"491c232c14624ad4ffb17574a153ce5c6f4239d0","modified":1510221905000},{"_id":"source/_posts/webgl-2017-07-14/01.jpeg","hash":"1546388755cbb21cccce3e83075be06e9255b411","modified":1510483552000},{"_id":"source/_posts/webgl-2017-07-14/4.jpeg","hash":"6c85183087b2a023f14d45fefa1099aaeedf49a1","modified":1510485665000},{"_id":"source/_posts/webgl-2017-07-14/3.jpeg","hash":"622f3e9f2abeb0ee5a9b095f7de08ab8880c1f40","modified":1510484925000},{"_id":"source/_posts/webgl-2017-07-16/1.jpeg","hash":"701733b5b16252ad94c32464949797fcc6ec1f46","modified":1510557518000},{"_id":"source/_posts/webgl-2017-07-16/2.jpeg","hash":"16de4c89287b44dd2a44d04a20fe976eab36c29d","modified":1510560123000},{"_id":"source/_posts/webgl-2017-07-18/1.jpeg","hash":"774f4c1ac34a2b0abbd84a4322e1a370441944ab","modified":1510820503000},{"_id":"themes/hexo-theme-yilia/source/img/logo.jpg","hash":"7ddb617f784f4b5dbfecddf32600c19749087ecd","modified":1491093635000},{"_id":"source/_posts/vue-ssr3/11.jpeg","hash":"5a94d2a1847cb115eaa07d7089cfa3f95f89ea20","modified":1503752313000},{"_id":"source/_posts/vue-ssr2/4.jpeg","hash":"12de3851c4c673e3a549f16d1a9059e9299e0137","modified":1503752313000},{"_id":"source/_posts/webgl-2017-07-01/15.jpeg","hash":"45617c40cacf2cf6aad91759fef16502fc673f2a","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-11/5.jpeg","hash":"37eca1e94c2bba4f56cd8fe94315ae66061ca36e","modified":1509870947000},{"_id":"themes/hexo-theme-yilia/.git/refs/heads/master","hash":"ec274ad8176ea701ec280f2352a47451b498c39a","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/objects/pack/pack-7cbda1a00de83cde49bfab56b11029c9d89eaeba.idx","hash":"a61b8f72c229073a53ea75276b885df11940a11a","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/post/date.ejs","hash":"ef71c4081e866a494367575c59610e7e6339ece0","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/post/category.ejs","hash":"c2dccf1a95ec09ceeee5004293ac7edb7e1c9a66","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/post/duoshuo.ejs","hash":"57018a5825aca8d277b161ed0990dd9c5a031cc0","modified":1503149201000},{"_id":"themes/hexo-theme-yilia/layout/_partial/post/nav.ejs","hash":"1036c8e4e1a7bc935ba173744da735a0d6ed09cd","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/post/tag.ejs","hash":"2e783e68755abb852760eb0e627a3fbb50a05a55","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/post/share.ejs","hash":"341103df70d0b476e3acd0afbc507a4a120d8f5f","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/core/_animation.scss","hash":"63a37f26276f9207405afe0f2d65339ce295bbaf","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/core/_mixin.scss","hash":"3bba5c77bad5981eac859fe05c9561d580ba7fa9","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/core/_media-queries.scss","hash":"491ab3378d5c11005ba65c607608bb36b368a9d5","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/core/_reset.scss","hash":"fab871fa93bd542e76a71a56428f2994a4aaf443","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/core/_variables.scss","hash":"fb511c505d1309249f21dc577d4ad2bad99a764f","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/fonts/iconfont.eot","hash":"51d4e8d333ae7867915037983ea5d4b2ad971930","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/fonts/iconfont.ttf","hash":"53ea5a5027a2fab93bcdad18cad6dc5f1b728726","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/fonts/iconfont.woff","hash":"709373d566526ad4bdb330757a3915e3c5e37b66","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/fonts/iconfont.svg","hash":"772383b62548e2a4fa560d589e05929b9f6f7f7b","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/img/checkered-pattern.png","hash":"049262fa0886989d750637b264bed34ab51c23c8","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/source-src/css/img/tooltip.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1491092347000},{"_id":"source/_posts/vue-ssr2/1.jpeg","hash":"5749f39a018e4b53e0c332e8208870ad8f82997c","modified":1503752313000},{"_id":"source/_posts/webgl-2017-07-01/02.jpeg","hash":"2a4a8313c0e80fd6a125266fb6d813ddba4b4cdd","modified":1503805985000},{"_id":"source/_posts/webgl-2017-07-08/1.jpeg","hash":"b8e7a031918613633a970eac447c9b33adc3ad78","modified":1507194087000},{"_id":"themes/hexo-theme-yilia/.git/logs/refs/heads/master","hash":"a809e105d052f880c1d2aa45840dff50e85330e7","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/logs/refs/remotes/origin/HEAD","hash":"a809e105d052f880c1d2aa45840dff50e85330e7","modified":1491092347000},{"_id":"themes/hexo-theme-yilia/.git/objects/pack/pack-7cbda1a00de83cde49bfab56b11029c9d89eaeba.pack","hash":"20c4b1f9c67efe010d0ae13728a02a3bb7d29a84","modified":1491092347000},{"_id":"public/content.json","hash":"34c3e789f21b01ad64c54482206ca091d180216f","modified":1510826260038},{"_id":"public/categories/index.html","hash":"01f4814c45bcd77cfd0d651f048c0754fee8d0a1","modified":1510826260490},{"_id":"public/webgl-2017-07-16/index.html","hash":"5cc0bb18596102a6912533d8d0c02dd174bc8928","modified":1510826260515},{"_id":"public/webgl-2017-07-15/index.html","hash":"d9d66bf5ed5f4c7b89cae3b5553df242fcbdb714","modified":1510826260516},{"_id":"public/webgl-2017-07-17/index.html","hash":"d3a737f1676ba0490e3f52bed9b81a57660d2445","modified":1510826260516},{"_id":"public/webgl-2017-07-13/index.html","hash":"1500d43e68ac7529efd5a08d6d83cbc94f433ce8","modified":1510826260516},{"_id":"public/webgl-2017-07-14/index.html","hash":"d17ff9164e2a3c393caa9295ae12ed87ecde1645","modified":1510826260516},{"_id":"public/webgl-2017-07-12/index.html","hash":"75d1742fe1923a27b37a3352449249a86f61038e","modified":1510826260516},{"_id":"public/webgl-2017-07-10/index.html","hash":"9a1ad427ad8d4aa75731bf4dd0fc2c8010779e4e","modified":1510826260516},{"_id":"public/webgl-2017-07-11/index.html","hash":"78d1342a8d7124c44d15dfc0255c9e01c38acbb0","modified":1510826260517},{"_id":"public/webgl-2017-07-08/index.html","hash":"4c48646c32658558296ff71966efabfcdf99e834","modified":1510826260517},{"_id":"public/webgl-2017-07-09/index.html","hash":"196d6ffec940c9bb948d4c4a8711609472c62512","modified":1510826260517},{"_id":"public/webgl-2017-07-06/index.html","hash":"c90db1be5c2ad2558b2bf3cb3ec4fd2591e75d1f","modified":1510826260517},{"_id":"public/webgl-2017-07-04/index.html","hash":"93ddb8f992eaa2fe120a3a0ef46af9f075cd960e","modified":1510826260517},{"_id":"public/webgl-2017-07-03/index.html","hash":"05c74f7b880eb2545fdb9f9c64cd0bb89a8d6aff","modified":1510826260517},{"_id":"public/webgl-2017-07-01/index.html","hash":"213bdf9d0cd6235694447006dafe31e991849f9f","modified":1510826260517},{"_id":"public/webgl-2017-07-02/index.html","hash":"9065171f228c4782e1f76f8024f887e3797afd2d","modified":1510826260517},{"_id":"public/2017-06-11/index.html","hash":"1eefea35e56f4918be15eb0c5372cfa23001fb36","modified":1510826260517},{"_id":"public/2017-06-12/index.html","hash":"ea66eae66968b56025a50f852ef0178eb31cffd2","modified":1510826260517},{"_id":"public/2017-06-10/index.html","hash":"a2f6e438139dfe62c30e1fc037a7c2f8fe629184","modified":1510826260517},{"_id":"public/vue-ssr3/index.html","hash":"7dd973c475f38aacc705457011d04fd07f30472e","modified":1510826260518},{"_id":"public/vue-ssr2/index.html","hash":"bd50db3446bf77b8fd380bffe01d1d75036a076b","modified":1510826260518},{"_id":"public/vue-ssr/index.html","hash":"5670513e3609f948d759862853462a6c528cc415","modified":1510826260518},{"_id":"public/2017-05-07/index.html","hash":"4a6db798d0af12aafa70d49d818d3f6a2738f87a","modified":1510826260518},{"_id":"public/2017-05-02/index.html","hash":"f6fb54cb0a7d10a099c20558446802a4d00abe87","modified":1510826260518},{"_id":"public/2017-04-11/index.html","hash":"9e42c9fe036f59a1cca5882915f9a2fd6ca17e55","modified":1510826260518},{"_id":"public/2017-04-10/index.html","hash":"41fb41f9959ca61c9716d26f1708303005801129","modified":1510826260518},{"_id":"public/2017-04-04/index.html","hash":"f1b39f9bd7c0740a5952691a293a183ca03137cf","modified":1510826260518},{"_id":"public/ajax/index.html","hash":"dd79f8553ab04cd46b4f7f8e8a356d8ae58315d8","modified":1510826260518},{"_id":"public/archives/page/2/index.html","hash":"cffcac1b0a2cb938772c9f539cd1dd14c1cf9b7c","modified":1510826260518},{"_id":"public/archives/page/3/index.html","hash":"638918d1fcf346b303c93adf90d6644ca916bc8f","modified":1510826260518},{"_id":"public/archives/index.html","hash":"81a0ee0e5797b3e2a4665261119f5e8e293b59b1","modified":1510826260518},{"_id":"public/archives/2017/index.html","hash":"545ec80f30afbeeabfe421c098c7a066fd0e15e0","modified":1510826260518},{"_id":"public/archives/2017/05/index.html","hash":"57838fff8cc5a99a3b035af3d06165af3f98d677","modified":1510826260518},{"_id":"public/archives/2017/page/3/index.html","hash":"cfd42eea9f9e64a0533fba293a91e15ce923afaa","modified":1510826260519},{"_id":"public/archives/2017/07/index.html","hash":"e60c33814aed43ed00d34ac480e77a0369ff8982","modified":1510826260519},{"_id":"public/archives/2017/page/2/index.html","hash":"36b0252f96b3b8fca167baa6db21156bc28a8721","modified":1510826260519},{"_id":"public/archives/2017/07/page/2/index.html","hash":"685450e0428d8eea501b72fd02b416afd203aa5f","modified":1510826260519},{"_id":"public/categories/js/index.html","hash":"99a66ef5124e251b353e7e174dedcd4cc0b20e6f","modified":1510826260519},{"_id":"public/archives/2017/04/index.html","hash":"42298c4972ab57fc3b915ae79516a44f84757036","modified":1510826260519},{"_id":"public/index.html","hash":"bb44f85a6c55ee3bf223cb52392587d0b5780c0c","modified":1510826260519},{"_id":"public/page/2/index.html","hash":"be9d65fa935a6699878f94e7ec6d1c7c1f8161b8","modified":1510826260519},{"_id":"public/page/3/index.html","hash":"8a6bdc02edecce88614db68c76e26e371d70c8ef","modified":1510826260519},{"_id":"public/archives/2017/06/index.html","hash":"573b71be3540179206684464aed950a8b4ae17f0","modified":1510826260519},{"_id":"public/tags/javascript/index.html","hash":"a1575dc5fe2e8187d4c4cdcee7bff995a685c6fb","modified":1510826260519},{"_id":"public/tags/node/index.html","hash":"f1f5a23fd785ac326aeb996f16d48ad7c5aede6e","modified":1510826260519},{"_id":"public/tags/es6/index.html","hash":"6ac681a448d1feb7aae7638fe4d190e1899a185e","modified":1510826260519},{"_id":"public/tags/ajax/index.html","hash":"80edc1c22ef6d9fb68c7039a66683723f6c47921","modified":1510826260519},{"_id":"public/tags/javascript/page/2/index.html","hash":"a9f346ef1be32836d6f4d109999fe433a90996fd","modified":1510826260519},{"_id":"public/tags/javascript/page/3/index.html","hash":"1670ec93b3c41530c68697017c9a397ba517bc90","modified":1510826260519},{"_id":"public/tags/react/index.html","hash":"0211f69af7221b7d471cc0d5f63f4ec1e71007a5","modified":1510826260519},{"_id":"public/tags/302/index.html","hash":"78874778548c977c2f827f07f81f3098cd9dc92f","modified":1510826260519},{"_id":"public/tags/vue/index.html","hash":"add06ee6e85f41c55e3c13e51dc4d6ef5ba55222","modified":1510826260519},{"_id":"public/tags/webgl/index.html","hash":"65b8da48200490a86285a9ffe3f7dcef2b9b23a0","modified":1510826260519},{"_id":"public/webgl-2017-07-18/index.html","hash":"c27f0d7c43a8ed8ea11a31a4f6814811199a511f","modified":1510826260548},{"_id":"public/tags/webgl/page/2/index.html","hash":"1c7b88ecb2e63a96aa994fa11330f31bb7ecbbfa","modified":1510826260548},{"_id":"public/tags/three-js/index.html","hash":"4fde1a1da5bb9b76e029f0029e4e39899565ecfa","modified":1510826260548},{"_id":"public/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1510826260562},{"_id":"public/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1510826260562},{"_id":"public/fonts/iconfont.3a9902.eot","hash":"51d4e8d333ae7867915037983ea5d4b2ad971930","modified":1510826260562},{"_id":"public/fonts/iconfont.6e162c.woff","hash":"709373d566526ad4bdb330757a3915e3c5e37b66","modified":1510826260562},{"_id":"public/fonts/iconfont.d0da7e.ttf","hash":"53ea5a5027a2fab93bcdad18cad6dc5f1b728726","modified":1510826260562},{"_id":"public/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1510826260562},{"_id":"public/fonts/iconfont.9abe9f.svg","hash":"772383b62548e2a4fa560d589e05929b9f6f7f7b","modified":1510826260563},{"_id":"public/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1510826260563},{"_id":"public/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1510826260563},{"_id":"public/img/show.png","hash":"bfe9486ee51f9037434279cf2b0ff5ddc84d886f","modified":1510826260563},{"_id":"public/webgl-2017-07-09/1.jpeg","hash":"65f82116bc3403c6751d71940c9a4e287fca844f","modified":1510826260563},{"_id":"public/ajax/111.png","hash":"2055c99c7528d767b60e30d092f940bdeae34507","modified":1510826260563},{"_id":"public/2017-06-11/01.jpeg","hash":"a082a77ecb145c4bf5ac40420eb9dd79aa45cdb3","modified":1510826260563},{"_id":"public/2017-06-11/02.jpeg","hash":"4bfb34072f539b8367d62220d63ff09f64f8263e","modified":1510826260563},{"_id":"public/webgl-2017-07-10/2.jpeg","hash":"c7b2839321301ed0ed01227bf1d3a9a01b4a0b96","modified":1510826260563},{"_id":"public/2017-05-07/1.png","hash":"b3afc9f9b15595ca71cb9f7a3f9a150009c41f4e","modified":1510826260563},{"_id":"public/webgl-2017-07-10/1.jpeg","hash":"6488f62098428ca180b53f7a3d7399a6ea4d9b68","modified":1510826260563},{"_id":"public/2017-05-07/2.png","hash":"63dc5115954f65778dac9be5b64da7a66d28b997","modified":1510826260563},{"_id":"public/2017-05-07/3.png","hash":"f35883f1d4a930a5ed9090f32c58fe6f4ec21841","modified":1510826260563},{"_id":"public/vue-ssr2/2.jpeg","hash":"2dcb76db17520c9302d7c86b3fa7618b7bd2ce3b","modified":1510826260563},{"_id":"public/vue-ssr2/3.jpeg","hash":"5b8c1a59b6bb1e55b0beb27b47852718981782f2","modified":1510826260563},{"_id":"public/webgl-2017-07-04/01.jpeg","hash":"d77e822505fe4adfb187fc6cc69e354e021b6541","modified":1510826260563},{"_id":"public/webgl-2017-07-04/02.jpeg","hash":"710b23c1dc6623db1343c19a419c439c824ffa93","modified":1510826260563},{"_id":"public/webgl-2017-07-04/03.jpeg","hash":"a6249aeadec43f859853462815b2e98de144d414","modified":1510826260563},{"_id":"public/webgl-2017-07-13/1.jpeg","hash":"5f887cdad535ebe1608b63e2497fab3658a23fe1","modified":1510826260563},{"_id":"public/webgl-2017-07-04/04.jpeg","hash":"f0bec32549570dea08ec88dee6bc868437d1ff89","modified":1510826260563},{"_id":"public/webgl-2017-07-16/3.jpeg","hash":"afbb6bc72ee72eeb6294816fa69d2846b2b5e86c","modified":1510826260563},{"_id":"public/webgl-2017-07-16/4.jpeg","hash":"13da2848dc7f13e6767cfbd17a07dd446c198e0e","modified":1510826260563},{"_id":"public/webgl-2017-07-13/3.jpeg","hash":"f9e16005257770bc7914df1baf81008eb0b274dd","modified":1510826260564},{"_id":"public/webgl-2017-07-13/4.jpeg","hash":"1d5dd114f524a89725764c6345048c8d2e6c4f03","modified":1510826260564},{"_id":"public/webgl-2017-07-14/2.jpeg","hash":"8459e1a6654831da901b5a1a7adebb67f790b662","modified":1510826260564},{"_id":"public/webgl-2017-07-15/3.jpeg","hash":"2f2ceaf0621ef84cca7a2d7fd613a2a9df3f45e1","modified":1510826260564},{"_id":"public/webgl-2017-07-15/4.jpeg","hash":"7d2b14e22e98fa80c292d9f5121c74f8e6cc5728","modified":1510826260564},{"_id":"public/webgl-2017-07-15/2.jpeg","hash":"e8b9c3af85ece3be9c8788fd9e1aec9b8743912c","modified":1510826260564},{"_id":"public/webgl-2017-07-15/1.jpeg","hash":"05981ddef46b2868e4e7364112ae1e4d3f7a3101","modified":1510826260564},{"_id":"public/webgl-2017-07-03/01.jpeg","hash":"22bdda31eb9bac80277080fd2424f677b15d0171","modified":1510826260564},{"_id":"public/webgl-2017-07-03/05.jpeg","hash":"f15a6bc585bbf21f72d2faa63d26f74e4860a108","modified":1510826260564},{"_id":"public/webgl-2017-07-03/02.jpeg","hash":"e623a9a82048e7e534d8ce0596963f8f74481acf","modified":1510826260564},{"_id":"public/webgl-2017-07-06/2.jpeg","hash":"aca0c62ee7ce7b649a31238ebe7eb7b8cf4e8df0","modified":1510826260564},{"_id":"public/webgl-2017-07-06/4.jpeg","hash":"a6de64667296657f43373603ff515506a0e52de1","modified":1510826260565},{"_id":"public/2017-06-12/01.jpeg","hash":"edbd185f826339e53b0e5589a061ed551f815a9e","modified":1510826260565},{"_id":"public/webgl-2017-07-06/1.jpeg","hash":"5aa58e09552aedf5cebc18ddbc11e056d3fd1da1","modified":1510826260565},{"_id":"public/webgl-2017-07-06/3.jpeg","hash":"2b1e062d7124cffe0e381bd5abffcc28b3909590","modified":1510826260565},{"_id":"public/2017-06-12/02.jpeg","hash":"9fd24d8ad11fec889adbad561319e7c39bbb3cdd","modified":1510826260565},{"_id":"public/2017-06-12/03.jpeg","hash":"0b012a70995089687e185731d39284dae19724f2","modified":1510826260565},{"_id":"public/webgl-2017-07-08/3.jpeg","hash":"7b802131222c42748ab93d43a8d4f1a6b61185e0","modified":1510826260565},{"_id":"public/2017-06-12/06.jpeg","hash":"7632d800121462464cd159837319398b8af9925d","modified":1510826260565},{"_id":"public/webgl-2017-07-08/2.jpeg","hash":"7419ba73e6f8c5bc2dfcb710daf25c95a55ae2bd","modified":1510826260565},{"_id":"public/2017-06-12/05.jpeg","hash":"f4832a8ff5b1b440b48d40754a29c77164512da9","modified":1510826260566},{"_id":"public/webgl-2017-07-17/2.jpeg","hash":"f61de43a72968807e62a7373dcb2b0af864bb59b","modified":1510826260566},{"_id":"public/webgl-2017-07-17/1.jpeg","hash":"2586ab3dd40743a9a9a3c4f66d1d6e4eeec7827f","modified":1510826260566},{"_id":"public/webgl-2017-07-17/5.jpeg","hash":"c82b05bb68d95423c9c89fa88844065856ead7c0","modified":1510826260566},{"_id":"public/webgl-2017-07-17/4.jpeg","hash":"88a373bc29d456d484430dc2a50d74e1e4eb4a64","modified":1510826260566},{"_id":"public/webgl-2017-07-17/3.jpeg","hash":"af2555454995db1457aa717b075080ef899674d3","modified":1510826260566},{"_id":"public/webgl-2017-07-08/6.jpeg","hash":"9058c301b9f79d31954c74812db9da8c8c98f751","modified":1510826260566},{"_id":"public/webgl-2017-07-17/6.jpeg","hash":"bb3b954151d61c157911fdb0da0d70e37f169fb4","modified":1510826260566},{"_id":"public/webgl-2017-07-08/7.jpeg","hash":"fda2210e8c0ae280ed63b18e316eb51c1ba5215a","modified":1510826260566},{"_id":"public/webgl-2017-07-11/01.jpeg","hash":"c8dff683ee454fbd46a3d11806fad3d71c16c0ac","modified":1510826260566},{"_id":"public/webgl-2017-07-11/4.jpeg","hash":"7ee581b83f58f086b902520d7ad8a578b5935023","modified":1510826260566},{"_id":"public/webgl-2017-07-11/9.jpeg","hash":"62b6fe08a3235f28db6b514f6ade9099ef888094","modified":1510826260566},{"_id":"public/webgl-2017-07-01/04.jpeg","hash":"b12449f26e6e1f57ee795b3dd2ab40b69d7e6ea7","modified":1510826260566},{"_id":"public/webgl-2017-07-01/03.jpeg","hash":"bc6b53c34104f47984e0ca30200ab9e5ed8ff8e5","modified":1510826260566},{"_id":"public/webgl-2017-07-01/07.jpeg","hash":"5859052106fca9a386b97116c72f3815ebd407bd","modified":1510826260566},{"_id":"public/webgl-2017-07-01/10.jpeg","hash":"07d2cf14b7a4bb486e2c44d89c08d9873093df32","modified":1510826260566},{"_id":"public/webgl-2017-07-01/09.jpeg","hash":"ac7dd15c2dd685fe54f04cb2279739f6e913cd77","modified":1510826260567},{"_id":"public/webgl-2017-07-01/13.jpeg","hash":"02d7caa28587d7198402cfb9500db3ab85fb6eae","modified":1510826260567},{"_id":"public/webgl-2017-07-01/14.jpeg","hash":"2ad46d294f5286bd1f665513a77059dc9490c84b","modified":1510826260567},{"_id":"public/webgl-2017-07-01/11.jpeg","hash":"6460798902cac012f6cecb3216c51a4dd14a46fc","modified":1510826260567},{"_id":"public/webgl-2017-07-01/12.jpeg","hash":"d792adaf7049bab3a419fc176d4d62afb0299514","modified":1510826260567},{"_id":"public/webgl-2017-07-18/2.jpeg","hash":"23b78084c4b88de59bfd40209bfbf56ce5be89bd","modified":1510826260567},{"_id":"public/webgl-2017-07-18/3.jpeg","hash":"1c86af9d1dababab0c180c783079dea51dd13f6f","modified":1510826260567},{"_id":"public/webgl-2017-07-18/4.jpeg","hash":"ef3ad7857f4cef0aa2447b0c178155f888d5b4f2","modified":1510826260567},{"_id":"public/img/logo.jpg","hash":"7ddb617f784f4b5dbfecddf32600c19749087ecd","modified":1510826260572},{"_id":"public/webgl-2017-07-12/1.jpeg","hash":"33e5989b7e3033971fdf1748e919e7678e6f43c5","modified":1510826260574},{"_id":"public/webgl-2017-07-02/01.jpeg","hash":"11889ad055dd286dc343fa9298822a0cd53cde8a","modified":1510826260574},{"_id":"public/vue-ssr/22.jpeg","hash":"85b1ea4114f8700acb8733a0055ff086f19c11fe","modified":1510826260574},{"_id":"public/vue-ssr/11.png","hash":"ab5ed2f6789ff7bb6ff7132e8e3df5f01faf69e5","modified":1510826260575},{"_id":"public/webgl-2017-07-02/02.jpeg","hash":"6b414b4841c552f3b2b6f4ef4acabf876b686bd6","modified":1510826260575},{"_id":"public/webgl-2017-07-13/2.jpeg","hash":"491c232c14624ad4ffb17574a153ce5c6f4239d0","modified":1510826260575},{"_id":"public/webgl-2017-07-14/01.jpeg","hash":"1546388755cbb21cccce3e83075be06e9255b411","modified":1510826260575},{"_id":"public/webgl-2017-07-14/3.jpeg","hash":"622f3e9f2abeb0ee5a9b095f7de08ab8880c1f40","modified":1510826260575},{"_id":"public/webgl-2017-07-14/4.jpeg","hash":"6c85183087b2a023f14d45fefa1099aaeedf49a1","modified":1510826260575},{"_id":"public/webgl-2017-07-16/1.jpeg","hash":"701733b5b16252ad94c32464949797fcc6ec1f46","modified":1510826260575},{"_id":"public/webgl-2017-07-16/2.jpeg","hash":"16de4c89287b44dd2a44d04a20fe976eab36c29d","modified":1510826260576},{"_id":"public/webgl-2017-07-03/03.jpeg","hash":"6e7796a03b6b3696c84583d90dd511e824319ae2","modified":1510826260576},{"_id":"public/webgl-2017-07-03/04.jpeg","hash":"d763e811ab78817019418ff895e5228068980f61","modified":1510826260576},{"_id":"public/webgl-2017-07-06/5.jpeg","hash":"f2244b58aa5d5a3bece6a6e72ea4231490644fe4","modified":1510826260576},{"_id":"public/2017-06-12/04.jpeg","hash":"2f8a989fe72d65e2866bccd1b6b3b46f013695a8","modified":1510826260576},{"_id":"public/webgl-2017-07-08/5.jpeg","hash":"f2244b58aa5d5a3bece6a6e72ea4231490644fe4","modified":1510826260576},{"_id":"public/webgl-2017-07-11/3.jpeg","hash":"b4f0f4f2f7ae48a7f1c92fd450580df0953a1784","modified":1510826260576},{"_id":"public/webgl-2017-07-11/2.jpeg","hash":"bad0cc3d5f473a2999e36987dc01f3e281eeb248","modified":1510826260576},{"_id":"public/webgl-2017-07-11/7.jpeg","hash":"d9b3de79ab6f3c0343b897e062a3f8c919b96a67","modified":1510826260576},{"_id":"public/webgl-2017-07-11/6.jpeg","hash":"c87b67ab322e61fcd7e67234b8739b196f0feddc","modified":1510826260576},{"_id":"public/webgl-2017-07-11/8.jpeg","hash":"63af8df9399d14bd90e796bb7910d7cc647702d8","modified":1510826260576},{"_id":"public/webgl-2017-07-01/01.jpeg","hash":"42447f5818e428c21ed64984747a0195863f11b2","modified":1510826260576},{"_id":"public/webgl-2017-07-01/05.jpeg","hash":"c566f55816e17e0090bf5828253d6110db733764","modified":1510826260577},{"_id":"public/webgl-2017-07-01/06.jpeg","hash":"51cee3ed4d1b432fa6a57058e4f520108e5eefbd","modified":1510826260577},{"_id":"public/webgl-2017-07-01/08.jpeg","hash":"c465bcedddb5afeece69b4e9e19f31da04156735","modified":1510826260577},{"_id":"public/webgl-2017-07-18/1.jpeg","hash":"774f4c1ac34a2b0abbd84a4322e1a370441944ab","modified":1510826260577},{"_id":"public/mobile.d238ee.js","hash":"a054884092af1cc5c2c14e5e11a4dac6d9254481","modified":1510826260585},{"_id":"public/main.234bc0.js","hash":"988c141a741441812bcf4c408ef530d7a01522f3","modified":1510826260585},{"_id":"public/slider.885efe.js","hash":"1f1a6548c6016cc132bf65a1701cc8421a1f8414","modified":1510826260585},{"_id":"public/main.234bc0.css","hash":"0ba37e8f05b5efd14ec9a5eab28ae0c0a06abd5c","modified":1510826260585},{"_id":"public/vue-ssr3/11.jpeg","hash":"5a94d2a1847cb115eaa07d7089cfa3f95f89ea20","modified":1510826260585},{"_id":"public/vue-ssr2/4.jpeg","hash":"12de3851c4c673e3a549f16d1a9059e9299e0137","modified":1510826260585},{"_id":"public/webgl-2017-07-11/5.jpeg","hash":"37eca1e94c2bba4f56cd8fe94315ae66061ca36e","modified":1510826260585},{"_id":"public/webgl-2017-07-01/15.jpeg","hash":"45617c40cacf2cf6aad91759fef16502fc673f2a","modified":1510826260585},{"_id":"public/vue-ssr2/1.jpeg","hash":"5749f39a018e4b53e0c332e8208870ad8f82997c","modified":1510826260586},{"_id":"public/webgl-2017-07-01/02.jpeg","hash":"2a4a8313c0e80fd6a125266fb6d813ddba4b4cdd","modified":1510826260586},{"_id":"public/webgl-2017-07-08/1.jpeg","hash":"b8e7a031918613633a970eac447c9b33adc3ad78","modified":1510826260586}],"Category":[{"name":"javascript","_id":"cja2ay1ih000gsvldc54j7avx"}],"Data":[],"Page":[{"title":"","date":"2017-04-02T06:43:41.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: \ndate: 2017-04-02 14:43:41\n---\n","updated":"2017-04-02T06:46:14.000Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cja2ay1gv0001svldd2i7nmzy","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"nodejsprocess.nextTick","comments":1,"toc":true,"date":"2017-04-04T09:49:45.000Z","_content":"nodejsprocessnextTickvuenextTicknextTick\n\nNode.jsIOCPUnode.jsIOCPUIOnode.jsIO\n\n<!-- more -->\n\n## \n\n callback ****setTimeout(fn, 0) \n\nprocess.nextTick()foo()\n\n``` javascript\nfunction foo() {\n    console.error('foo');\n}\nprocess.nextTick(foo);\nconsole.error('bar');\n```\n\n\"bar\"foofoo()\n\n``` javascript\nbar\nfoo\n```\n\nsetTimeout()\n\n``` javascript\nsetTimeout(foo, 0);\nconsole.log('bar');\n```\n\nprocess.nextTick()setTimeout(fn, 0)process.nextTick()process.nextTick()netxTicknextTick\n\n## \n#### CPU\n\ncompute()\n\nwebserverprocess.nextTick()compute()\n\n``` javascript\nvar http = require('http');\nfunction compute() {\n    // performs complicated calculations continuously\n   // ...\n    process.nextTick(compute);\n}\nhttp.createServer(function(req, res) {\n     res.writeHead(200, {'Content-Type': 'text/plain'});\n     res.end('Hello World');\n}).listen(5000, '127.0.0.1');\ncompute();\n```\n\ncompute()process.nextTick()compute()httpcompute()compute()compute()http\n\nprocess.nextTick()CPUCPU\n\n#### \n\n\n\n``` javascript\nfunction maybeSync(arg, cb) {\n  if (arg) {\n    cb();\n    return;\n  }\n\n  fs.stat('file', cb);\n}\nmaybeSync(true, function() {\n  foo();\n});\nbar();\n```\n, foo()bar()nextTick\n\n``` javascript\nfunction definitelyAsync(arg, cb) {\n  if (arg) {\n    process.nextTick(cb);\n    return;\n  }\n\t\n  fs.stat('file', cb);\n}\n```\t\n\n#### \n\n\n\n``` javascript\nvar EventEmitter = require('events').EventEmitter;\nfunction StreamLibrary(resourceName) { \n    this.emit('start');\n    // read from the file, and for every chunk read, do:       \n    this.emit('data', chunkRead);      \n}\nStreamLibrary.prototype.__proto__ = EventEmitter.prototype;   // inherit from EventEmitter\n```\t\n\n\n\n``` javascript\nvar stream = new StreamLibrary('fooResource');\nstream.on('start', function() {\n    console.log('Reading has started');\n});\nstream.on('data', function(chunk) {\n    console.log('Received: ' + chunk);\n});\n```\t\n\nstartstartprocess.nextTick()\n\n``` javascript\nfunction StreamLibrary(resourceName) {\n    var self = this;\n    process.nextTick(function() {\n        self.emit('start');\n    });\n    // read from the file, and for every chunk read, do:       \n    this.emit('data', chunkRead);\n}\n```\t","source":"_posts/2017-04-04.md","raw":"---\ntitle: nodejsprocess.nextTick\ncomments: true\ntoc: true\ndate: 2017-04-04 17:49:45\ntags: \n    - 'javascript'\n    - 'node'\n---\nnodejsprocessnextTickvuenextTicknextTick\n\nNode.jsIOCPUnode.jsIOCPUIOnode.jsIO\n\n<!-- more -->\n\n## \n\n callback ****setTimeout(fn, 0) \n\nprocess.nextTick()foo()\n\n``` javascript\nfunction foo() {\n    console.error('foo');\n}\nprocess.nextTick(foo);\nconsole.error('bar');\n```\n\n\"bar\"foofoo()\n\n``` javascript\nbar\nfoo\n```\n\nsetTimeout()\n\n``` javascript\nsetTimeout(foo, 0);\nconsole.log('bar');\n```\n\nprocess.nextTick()setTimeout(fn, 0)process.nextTick()process.nextTick()netxTicknextTick\n\n## \n#### CPU\n\ncompute()\n\nwebserverprocess.nextTick()compute()\n\n``` javascript\nvar http = require('http');\nfunction compute() {\n    // performs complicated calculations continuously\n   // ...\n    process.nextTick(compute);\n}\nhttp.createServer(function(req, res) {\n     res.writeHead(200, {'Content-Type': 'text/plain'});\n     res.end('Hello World');\n}).listen(5000, '127.0.0.1');\ncompute();\n```\n\ncompute()process.nextTick()compute()httpcompute()compute()compute()http\n\nprocess.nextTick()CPUCPU\n\n#### \n\n\n\n``` javascript\nfunction maybeSync(arg, cb) {\n  if (arg) {\n    cb();\n    return;\n  }\n\n  fs.stat('file', cb);\n}\nmaybeSync(true, function() {\n  foo();\n});\nbar();\n```\n, foo()bar()nextTick\n\n``` javascript\nfunction definitelyAsync(arg, cb) {\n  if (arg) {\n    process.nextTick(cb);\n    return;\n  }\n\t\n  fs.stat('file', cb);\n}\n```\t\n\n#### \n\n\n\n``` javascript\nvar EventEmitter = require('events').EventEmitter;\nfunction StreamLibrary(resourceName) { \n    this.emit('start');\n    // read from the file, and for every chunk read, do:       \n    this.emit('data', chunkRead);      \n}\nStreamLibrary.prototype.__proto__ = EventEmitter.prototype;   // inherit from EventEmitter\n```\t\n\n\n\n``` javascript\nvar stream = new StreamLibrary('fooResource');\nstream.on('start', function() {\n    console.log('Reading has started');\n});\nstream.on('data', function(chunk) {\n    console.log('Received: ' + chunk);\n});\n```\t\n\nstartstartprocess.nextTick()\n\n``` javascript\nfunction StreamLibrary(resourceName) {\n    var self = this;\n    process.nextTick(function() {\n        self.emit('start');\n    });\n    // read from the file, and for every chunk read, do:       \n    this.emit('data', chunkRead);\n}\n```\t","slug":"2017-04-04","published":1,"updated":"2017-09-02T13:01:17.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1gp0000svldxa2io39l","content":"<p>nodejsprocessnextTickvuenextTicknextTick</p>\n<p>Node.jsIOCPUnode.jsIOCPUIOnode.jsIO</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> callback <strong></strong>setTimeout(fn, 0) </p>\n<p>process.nextTick()foo()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.error(<span class=\"string\">'foo'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\">process.nextTick(foo);</div><div class=\"line\"><span class=\"built_in\">console</span>.error(<span class=\"string\">'bar'</span>);</div></pre></td></tr></table></figure>\n<p>barfoofoo()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">bar</div><div class=\"line\">foo</div></pre></td></tr></table></figure>\n<p>setTimeout()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">setTimeout(foo, <span class=\"number\">0</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'bar'</span>);</div></pre></td></tr></table></figure>\n<p>process.nextTick()setTimeout(fn, 0)process.nextTick()process.nextTick()netxTicknextTick</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"CPU\"><a href=\"#CPU\" class=\"headerlink\" title=\"CPU\"></a>CPU</h4><p>compute()</p>\n<p>webserverprocess.nextTick()compute()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> http = <span class=\"built_in\">require</span>(<span class=\"string\">'http'</span>);</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">compute</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"comment\">// performs complicated calculations continuously</span></div><div class=\"line\">   <span class=\"comment\">// ...</span></div><div class=\"line\">    process.nextTick(compute);</div><div class=\"line\">&#125;</div><div class=\"line\">http.createServer(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>) </span>&#123;</div><div class=\"line\">     res.writeHead(<span class=\"number\">200</span>, &#123;<span class=\"string\">'Content-Type'</span>: <span class=\"string\">'text/plain'</span>&#125;);</div><div class=\"line\">     res.end(<span class=\"string\">'Hello World'</span>);</div><div class=\"line\">&#125;).listen(<span class=\"number\">5000</span>, <span class=\"string\">'127.0.0.1'</span>);</div><div class=\"line\">compute();</div></pre></td></tr></table></figure>\n<p>compute()process.nextTick()compute()httpcompute()compute()compute()http</p>\n<p>process.nextTick()CPUCPU</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">maybeSync</span>(<span class=\"params\">arg, cb</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span> (arg) &#123;</div><div class=\"line\">    cb();</div><div class=\"line\">    <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  fs.stat(<span class=\"string\">'file'</span>, cb);</div><div class=\"line\">&#125;</div><div class=\"line\">maybeSync(<span class=\"literal\">true</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  foo();</div><div class=\"line\">&#125;);</div><div class=\"line\">bar();</div></pre></td></tr></table></figure>\n<p>, foo()bar()nextTick</p>\n<pre><code class=\"javascript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">definitelyAsync</span>(<span class=\"params\">arg, cb</span>) </span>{\n  <span class=\"keyword\">if</span> (arg) {\n    process.nextTick(cb);\n    <span class=\"keyword\">return</span>;\n  }\n\n  fs.stat(<span class=\"string\">'file'</span>, cb);\n}\n</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre><code class=\"javascript\"><span class=\"keyword\">var</span> EventEmitter = <span class=\"built_in\">require</span>(<span class=\"string\">'events'</span>).EventEmitter;\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">StreamLibrary</span>(<span class=\"params\">resourceName</span>) </span>{ \n    <span class=\"keyword\">this</span>.emit(<span class=\"string\">'start'</span>);\n    <span class=\"comment\">// read from the file, and for every chunk read, do:       </span>\n    <span class=\"keyword\">this</span>.emit(<span class=\"string\">'data'</span>, chunkRead);      \n}\nStreamLibrary.prototype.__proto__ = EventEmitter.prototype;   <span class=\"comment\">// inherit from EventEmitter</span>\n</code></pre>\n<p></p>\n<pre><code class=\"javascript\"><span class=\"keyword\">var</span> stream = <span class=\"keyword\">new</span> StreamLibrary(<span class=\"string\">'fooResource'</span>);\nstream.on(<span class=\"string\">'start'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Reading has started'</span>);\n});\nstream.on(<span class=\"string\">'data'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">chunk</span>) </span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Received: '</span> + chunk);\n});\n</code></pre>\n<p>startstartprocess.nextTick()</p>\n<pre><code class=\"javascript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">StreamLibrary</span>(<span class=\"params\">resourceName</span>) </span>{\n    <span class=\"keyword\">var</span> self = <span class=\"keyword\">this</span>;\n    process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n        self.emit(<span class=\"string\">'start'</span>);\n    });\n    <span class=\"comment\">// read from the file, and for every chunk read, do:       </span>\n    <span class=\"keyword\">this</span>.emit(<span class=\"string\">'data'</span>, chunkRead);\n}\n</code></pre>\n","site":{"data":{}},"excerpt":"<p>nodejsprocessnextTickvuenextTicknextTick</p>\n<p>Node.jsIOCPUnode.jsIOCPUIOnode.jsIO</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> callback <strong></strong>setTimeout(fn, 0) </p>\n<p>process.nextTick()foo()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">foo</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.error(<span class=\"string\">'foo'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\">process.nextTick(foo);</div><div class=\"line\"><span class=\"built_in\">console</span>.error(<span class=\"string\">'bar'</span>);</div></pre></td></tr></table></figure>\n<p>barfoofoo()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">bar</div><div class=\"line\">foo</div></pre></td></tr></table></figure>\n<p>setTimeout()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">setTimeout(foo, <span class=\"number\">0</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'bar'</span>);</div></pre></td></tr></table></figure>\n<p>process.nextTick()setTimeout(fn, 0)process.nextTick()process.nextTick()netxTicknextTick</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"CPU\"><a href=\"#CPU\" class=\"headerlink\" title=\"CPU\"></a>CPU</h4><p>compute()</p>\n<p>webserverprocess.nextTick()compute()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> http = <span class=\"built_in\">require</span>(<span class=\"string\">'http'</span>);</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">compute</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"comment\">// performs complicated calculations continuously</span></div><div class=\"line\">   <span class=\"comment\">// ...</span></div><div class=\"line\">    process.nextTick(compute);</div><div class=\"line\">&#125;</div><div class=\"line\">http.createServer(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>) </span>&#123;</div><div class=\"line\">     res.writeHead(<span class=\"number\">200</span>, &#123;<span class=\"string\">'Content-Type'</span>: <span class=\"string\">'text/plain'</span>&#125;);</div><div class=\"line\">     res.end(<span class=\"string\">'Hello World'</span>);</div><div class=\"line\">&#125;).listen(<span class=\"number\">5000</span>, <span class=\"string\">'127.0.0.1'</span>);</div><div class=\"line\">compute();</div></pre></td></tr></table></figure>\n<p>compute()process.nextTick()compute()httpcompute()compute()compute()http</p>\n<p>process.nextTick()CPUCPU</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">maybeSync</span>(<span class=\"params\">arg, cb</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span> (arg) &#123;</div><div class=\"line\">    cb();</div><div class=\"line\">    <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  fs.stat(<span class=\"string\">'file'</span>, cb);</div><div class=\"line\">&#125;</div><div class=\"line\">maybeSync(<span class=\"literal\">true</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  foo();</div><div class=\"line\">&#125;);</div><div class=\"line\">bar();</div></pre></td></tr></table></figure>\n<p>, foo()bar()nextTick</p>\n<pre><code class=\"javascript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">definitelyAsync</span>(<span class=\"params\">arg, cb</span>) </span>{\n  <span class=\"keyword\">if</span> (arg) {\n    process.nextTick(cb);\n    <span class=\"keyword\">return</span>;\n  }\n\n  fs.stat(<span class=\"string\">'file'</span>, cb);\n}\n</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre><code class=\"javascript\"><span class=\"keyword\">var</span> EventEmitter = <span class=\"built_in\">require</span>(<span class=\"string\">'events'</span>).EventEmitter;\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">StreamLibrary</span>(<span class=\"params\">resourceName</span>) </span>{ \n    <span class=\"keyword\">this</span>.emit(<span class=\"string\">'start'</span>);\n    <span class=\"comment\">// read from the file, and for every chunk read, do:       </span>\n    <span class=\"keyword\">this</span>.emit(<span class=\"string\">'data'</span>, chunkRead);      \n}\nStreamLibrary.prototype.__proto__ = EventEmitter.prototype;   <span class=\"comment\">// inherit from EventEmitter</span>\n</code></pre>\n<p></p>\n<pre><code class=\"javascript\"><span class=\"keyword\">var</span> stream = <span class=\"keyword\">new</span> StreamLibrary(<span class=\"string\">'fooResource'</span>);\nstream.on(<span class=\"string\">'start'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Reading has started'</span>);\n});\nstream.on(<span class=\"string\">'data'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">chunk</span>) </span>{\n    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Received: '</span> + chunk);\n});\n</code></pre>\n<p>startstartprocess.nextTick()</p>\n<pre><code class=\"javascript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">StreamLibrary</span>(<span class=\"params\">resourceName</span>) </span>{\n    <span class=\"keyword\">var</span> self = <span class=\"keyword\">this</span>;\n    process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n        self.emit(<span class=\"string\">'start'</span>);\n    });\n    <span class=\"comment\">// read from the file, and for every chunk read, do:       </span>\n    <span class=\"keyword\">this</span>.emit(<span class=\"string\">'data'</span>, chunkRead);\n}\n</code></pre>"},{"title":"javascriptObject.assign()","comments":1,"date":"2017-04-11T13:55:28.000Z","_content":"\n## \n\n\n,()\n\nObject.assign(target, ...sources)\n\n\n\n1. \n1. \n1. stringSymbol\n\ngettertargetsetter\n\n<!-- more -->\n\n## \n\nMDN\n\n### \n\no1targetsetter\n\n\n``` javascript\n\nvar o1 = { a: 1 };\nvar o2 = { b: 2 };\nvar o3 = { c: 3 };\n\nvar obj = Object.assign(o1, o2, o3);\nconsole.log(obj); // { a: 1, b: 2, c: 3 }\nconsole.log(o1);  // { a: 1, b: 2, c: 3 }, target object itself is changed.\n\n```\n\n### \n\n, Object.defineProperty Object.keys(),for-in.\n\nObject.assign\n\n\n``` javascript\n\nvar obj = Object.create({ foo: 1 }, { // foo is an inherit property.\n  bar: {\n    value: 2  // bar is a non-enumerable property.\n  },\n  baz: {\n    value: 3,\n    enumerable: true  // baz is an own enumerable property.\n  }\n});\n\nvar copy = Object.assign({}, obj);\nconsole.log(copy); // { baz: 3 } \n\n``` \n\n### \n\n:\n\n\n``` javascript\n\nvar target = Object.defineProperty({}, 'foo', {\n  value: 1,\n  writable: false\n}); \n\nObject.assign(target, { bar: 2 })\n\n//{bar: 2, foo: 1}\n\nObject.assign(target, { foo: 2 })\n//Uncaught TypeError: Cannot assign to read only property 'foo' of object '#<Object>'()\n\n``` \n\n\n## Polyfill\n\nes5Object.assign\n\n\n\nassignObject\n\n({},)\nObjectoutforin(hasOwnProperty)\n\n\n``` javascript\n\n if (typeof Object.assign != 'function') {\n  (function () {\n    Object.assign = function (target) {\n     'use strict';\n     if (target === undefined || target === null) {\n       throw new TypeError('Cannot convert undefined or null to object');\n     }\n    \n     var output = Object(target);\n     for (var index = 1; index < arguments.length; index++) {\n       var source = arguments[index];\n       if (source !== undefined && source !== null) {\n         for (var nextKey in source) {\n           if (source.hasOwnProperty(nextKey)) {\n             output[nextKey] = source[nextKey];\n           }\n         }\n       }\n     }\n     return output;\n    };\n})();\n}\n\n``` \n\n## \n\n### \n\njavascript\n\n\n``` javascript\n\n// \nconst a = {t: 1, p: 'gg'};\nconst b = a;\nb.t = 3;\nconsole.log(a); // {t: 3, p: 'gg'}\nconsole.log(b); // {t: 3, p: 'gg'}\n\n//\nconst c = {t: 1, p: 'gg'};\nconst d = deepCopy(c);\nd.t = 3;\nconsole.log(c); // {t: 1, p: 'gg'}\nconsole.log(d); // {t: 3, p: 'gg'}\n\n``` \n\n\n\nes6 Object.assign()  \n\n\n\n``` javascript\n\n// Cloning an object\nvar obj = { a: 1 };\nvar copy = Object.assign({}, obj);\nconsole.log(copy); // { a: 1 }\n\n// Merging objects\nvar o1 = { a: 1 };\nvar o2 = { b: 2 };\nvar o3 = { c: 3 };\n\nvar obj = Object.assign(o1, o2, o3);\nconsole.log(obj); // { a: 1, b: 2, c: 3 }\nconsole.log(o1);  // { a: 1, b: 2, c: 3 }, target object itself is changed.\n\n```\n\nclonemerge\n\n\n``` javascript\n\nconst defaultOpt = {\n    title: 'hello', \n    name: 'oo', \n    type: 'line'\n};\n// \nconst opt1 = deepCopy(a);\nopt1.title = 'opt1';\nopt1.type = 'bar';\nopt1.extra = 'extra'; // \n// \nconst opt2 = Object.assign({}, a, {\n    title: 'opt2', \n    type: 'bar', \n    extra: 'extra'\n});\n\n```\n\nmerge\n\n\n``` javascript\n\nconst defaultOpt = {\n    title: {\n        text: 'hello world',\n        subtext: 'It\\'s my world.'\n    }\n};\n\nconst opt = Object.assign({}, defaultOpt, {\n    title: {\n        subtext: 'Yes, your world.'\n    }\n});\n\nconsole.log(opt);\n\n// \n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\n// \n{\n    title: {\n        subtext: 'Yes, your world.'\n    }\n}\n\n```\n\nsubtext title merge \n\n\n``` javascript\n\nconst defaultOpt = {\n    title: {\n        text: 'hello world',\n        subtext: 'It\\'s my world.'\n    }\n};\n\nconst opt = Object.assign({}, defaultOpt);\nopt.title.subtext = 'Yes, your world.';\n\nconsole.log(opt);\n// \n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\n```\n\n\n\n``` javascript\nconst defaultOpt = {\n    title: {\n        text: 'hello world',\n        subtext: 'It\\'s my world.'\n    } \n};\n\nconst opt1 = Object.assign({}, defaultOpt);\nconst opt2 = Object.assign({}, defaultOpt);\nopt2.title.subtext = 'Yes, your world.';\n\nconsole.log('opt1:');\nconsole.log(opt1);\nconsole.log('opt2:');\nconsole.log(opt2);\n\n// \nopt1:\n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\nopt2:\n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\n```\n\nopt1 subtext opt2  \ntitle   \n\n**Object.assign() **githubdeep-merge assignLodashapijqueryextendapi\n\n\n#### \n\n\n\n``` bash\nconst obj1 = JSON.parse(JSON.stringify(obj));\n``` \n\njsonfunction","source":"_posts/2017-04-11.md","raw":"---\ntitle: javascriptObject.assign()\ncomments: true\ndate: 2017-04-11 21:55:28\ntags: \n    - 'javascript'\n    - 'es6'\n---\n\n## \n\n\n,()\n\nObject.assign(target, ...sources)\n\n\n\n1. \n1. \n1. stringSymbol\n\ngettertargetsetter\n\n<!-- more -->\n\n## \n\nMDN\n\n### \n\no1targetsetter\n\n\n``` javascript\n\nvar o1 = { a: 1 };\nvar o2 = { b: 2 };\nvar o3 = { c: 3 };\n\nvar obj = Object.assign(o1, o2, o3);\nconsole.log(obj); // { a: 1, b: 2, c: 3 }\nconsole.log(o1);  // { a: 1, b: 2, c: 3 }, target object itself is changed.\n\n```\n\n### \n\n, Object.defineProperty Object.keys(),for-in.\n\nObject.assign\n\n\n``` javascript\n\nvar obj = Object.create({ foo: 1 }, { // foo is an inherit property.\n  bar: {\n    value: 2  // bar is a non-enumerable property.\n  },\n  baz: {\n    value: 3,\n    enumerable: true  // baz is an own enumerable property.\n  }\n});\n\nvar copy = Object.assign({}, obj);\nconsole.log(copy); // { baz: 3 } \n\n``` \n\n### \n\n:\n\n\n``` javascript\n\nvar target = Object.defineProperty({}, 'foo', {\n  value: 1,\n  writable: false\n}); \n\nObject.assign(target, { bar: 2 })\n\n//{bar: 2, foo: 1}\n\nObject.assign(target, { foo: 2 })\n//Uncaught TypeError: Cannot assign to read only property 'foo' of object '#<Object>'()\n\n``` \n\n\n## Polyfill\n\nes5Object.assign\n\n\n\nassignObject\n\n({},)\nObjectoutforin(hasOwnProperty)\n\n\n``` javascript\n\n if (typeof Object.assign != 'function') {\n  (function () {\n    Object.assign = function (target) {\n     'use strict';\n     if (target === undefined || target === null) {\n       throw new TypeError('Cannot convert undefined or null to object');\n     }\n    \n     var output = Object(target);\n     for (var index = 1; index < arguments.length; index++) {\n       var source = arguments[index];\n       if (source !== undefined && source !== null) {\n         for (var nextKey in source) {\n           if (source.hasOwnProperty(nextKey)) {\n             output[nextKey] = source[nextKey];\n           }\n         }\n       }\n     }\n     return output;\n    };\n})();\n}\n\n``` \n\n## \n\n### \n\njavascript\n\n\n``` javascript\n\n// \nconst a = {t: 1, p: 'gg'};\nconst b = a;\nb.t = 3;\nconsole.log(a); // {t: 3, p: 'gg'}\nconsole.log(b); // {t: 3, p: 'gg'}\n\n//\nconst c = {t: 1, p: 'gg'};\nconst d = deepCopy(c);\nd.t = 3;\nconsole.log(c); // {t: 1, p: 'gg'}\nconsole.log(d); // {t: 3, p: 'gg'}\n\n``` \n\n\n\nes6 Object.assign()  \n\n\n\n``` javascript\n\n// Cloning an object\nvar obj = { a: 1 };\nvar copy = Object.assign({}, obj);\nconsole.log(copy); // { a: 1 }\n\n// Merging objects\nvar o1 = { a: 1 };\nvar o2 = { b: 2 };\nvar o3 = { c: 3 };\n\nvar obj = Object.assign(o1, o2, o3);\nconsole.log(obj); // { a: 1, b: 2, c: 3 }\nconsole.log(o1);  // { a: 1, b: 2, c: 3 }, target object itself is changed.\n\n```\n\nclonemerge\n\n\n``` javascript\n\nconst defaultOpt = {\n    title: 'hello', \n    name: 'oo', \n    type: 'line'\n};\n// \nconst opt1 = deepCopy(a);\nopt1.title = 'opt1';\nopt1.type = 'bar';\nopt1.extra = 'extra'; // \n// \nconst opt2 = Object.assign({}, a, {\n    title: 'opt2', \n    type: 'bar', \n    extra: 'extra'\n});\n\n```\n\nmerge\n\n\n``` javascript\n\nconst defaultOpt = {\n    title: {\n        text: 'hello world',\n        subtext: 'It\\'s my world.'\n    }\n};\n\nconst opt = Object.assign({}, defaultOpt, {\n    title: {\n        subtext: 'Yes, your world.'\n    }\n});\n\nconsole.log(opt);\n\n// \n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\n// \n{\n    title: {\n        subtext: 'Yes, your world.'\n    }\n}\n\n```\n\nsubtext title merge \n\n\n``` javascript\n\nconst defaultOpt = {\n    title: {\n        text: 'hello world',\n        subtext: 'It\\'s my world.'\n    }\n};\n\nconst opt = Object.assign({}, defaultOpt);\nopt.title.subtext = 'Yes, your world.';\n\nconsole.log(opt);\n// \n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\n```\n\n\n\n``` javascript\nconst defaultOpt = {\n    title: {\n        text: 'hello world',\n        subtext: 'It\\'s my world.'\n    } \n};\n\nconst opt1 = Object.assign({}, defaultOpt);\nconst opt2 = Object.assign({}, defaultOpt);\nopt2.title.subtext = 'Yes, your world.';\n\nconsole.log('opt1:');\nconsole.log(opt1);\nconsole.log('opt2:');\nconsole.log(opt2);\n\n// \nopt1:\n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\nopt2:\n{\n    title: {\n        text: 'hello world',\n        subtext: 'Yes, your world.'\n    }\n}\n```\n\nopt1 subtext opt2  \ntitle   \n\n**Object.assign() **githubdeep-merge assignLodashapijqueryextendapi\n\n\n#### \n\n\n\n``` bash\nconst obj1 = JSON.parse(JSON.stringify(obj));\n``` \n\njsonfunction","slug":"2017-04-11","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1gx0002svld9levqfg8","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>,()</p>\n<p>Object.assign(target, sources)</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>stringSymbol</li>\n</ol>\n<p>gettertargetsetter</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MDN</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>o1targetsetter</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> o1 = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o2 = &#123; <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o3 = &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"built_in\">Object</span>.assign(o1, o2, o3);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(o1);  <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;, target object itself is changed.</span></div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, Object.defineProperty Object.keys(),for-in.</p>\n<p>Object.assign</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"built_in\">Object</span>.create(&#123; <span class=\"attr\">foo</span>: <span class=\"number\">1</span> &#125;, &#123; <span class=\"comment\">// foo is an inherit property.</span></div><div class=\"line\">  bar: &#123;</div><div class=\"line\">    value: <span class=\"number\">2</span>  <span class=\"comment\">// bar is a non-enumerable property.</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  baz: &#123;</div><div class=\"line\">    value: <span class=\"number\">3</span>,</div><div class=\"line\">    enumerable: <span class=\"literal\">true</span>  <span class=\"comment\">// baz is an own enumerable property.</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> copy = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, obj);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(copy); <span class=\"comment\">// &#123; baz: 3 &#125; </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">### </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">:</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> target = <span class=\"built_in\">Object</span>.defineProperty(&#123;&#125;, <span class=\"string\">'foo'</span>, &#123;</div><div class=\"line\">  value: <span class=\"number\">1</span>,</div><div class=\"line\">  writable: <span class=\"literal\">false</span></div><div class=\"line\">&#125;); </div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">Object</span>.assign(target, &#123; <span class=\"attr\">bar</span>: <span class=\"number\">2</span> &#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//&#123;bar: 2, foo: 1&#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">Object</span>.assign(target, &#123; <span class=\"attr\">foo</span>: <span class=\"number\">2</span> &#125;)</div><div class=\"line\"><span class=\"comment\">//Uncaught TypeError: Cannot assign to read only property 'foo' of object '#&lt;Object&gt;'()</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">## Polyfill</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">es5Object.assign</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">assignObject</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">(&#123;&#125;,)</span></div><div class=\"line\"><span class=\"string\">Objectoutforin(hasOwnProperty)</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"built_in\">Object</span>.assign != <span class=\"string\">'function'</span>) &#123;</div><div class=\"line\">  (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">Object</span>.assign = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">target</span>) </span>&#123;</div><div class=\"line\"><span class=\"meta\">     'use strict'</span>;</div><div class=\"line\">     <span class=\"keyword\">if</span> (target === <span class=\"literal\">undefined</span> || target === <span class=\"literal\">null</span>) &#123;</div><div class=\"line\">       <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">TypeError</span>(<span class=\"string\">'Cannot convert undefined or null to object'</span>);</div><div class=\"line\">     &#125;</div><div class=\"line\">    </div><div class=\"line\">     <span class=\"keyword\">var</span> output = <span class=\"built_in\">Object</span>(target);</div><div class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> index = <span class=\"number\">1</span>; index &lt; <span class=\"built_in\">arguments</span>.length; index++) &#123;</div><div class=\"line\">       <span class=\"keyword\">var</span> source = <span class=\"built_in\">arguments</span>[index];</div><div class=\"line\">       <span class=\"keyword\">if</span> (source !== <span class=\"literal\">undefined</span> &amp;&amp; source !== <span class=\"literal\">null</span>) &#123;</div><div class=\"line\">         <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> nextKey <span class=\"keyword\">in</span> source) &#123;</div><div class=\"line\">           <span class=\"keyword\">if</span> (source.hasOwnProperty(nextKey)) &#123;</div><div class=\"line\">             output[nextKey] = source[nextKey];</div><div class=\"line\">           &#125;</div><div class=\"line\">         &#125;</div><div class=\"line\">       &#125;</div><div class=\"line\">     &#125;</div><div class=\"line\">     <span class=\"keyword\">return</span> output;</div><div class=\"line\">    &#125;;</div><div class=\"line\">&#125;)();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">## </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">### </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">javascript</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> a = &#123;<span class=\"attr\">t</span>: <span class=\"number\">1</span>, <span class=\"attr\">p</span>: <span class=\"string\">'gg'</span>&#125;;</div><div class=\"line\"><span class=\"keyword\">const</span> b = a;</div><div class=\"line\">b.t = <span class=\"number\">3</span>;</div><div class=\"line\"><span class=\"built_in\">console</span>.log(a); <span class=\"comment\">// &#123;t: 3, p: 'gg'&#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(b); <span class=\"comment\">// &#123;t: 3, p: 'gg'&#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">const</span> c = &#123;<span class=\"attr\">t</span>: <span class=\"number\">1</span>, <span class=\"attr\">p</span>: <span class=\"string\">'gg'</span>&#125;;</div><div class=\"line\"><span class=\"keyword\">const</span> d = deepCopy(c);</div><div class=\"line\">d.t = <span class=\"number\">3</span>;</div><div class=\"line\"><span class=\"built_in\">console</span>.log(c); <span class=\"comment\">// &#123;t: 1, p: 'gg'&#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(d); <span class=\"comment\">// &#123;t: 3, p: 'gg'&#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">es6 Object.assign()  </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Cloning an object</span></div><div class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> copy = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, obj);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(copy); <span class=\"comment\">// &#123; a: 1 &#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Merging objects</span></div><div class=\"line\"><span class=\"keyword\">var</span> o1 = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o2 = &#123; <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o3 = &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"built_in\">Object</span>.assign(o1, o2, o3);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(o1);  <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;, target object itself is changed.</span></div></pre></td></tr></table></figure>\n<p>clonemerge</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: <span class=\"string\">'hello'</span>, </div><div class=\"line\">    name: <span class=\"string\">'oo'</span>, </div><div class=\"line\">    type: <span class=\"string\">'line'</span></div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> opt1 = deepCopy(a);</div><div class=\"line\">opt1.title = <span class=\"string\">'opt1'</span>;</div><div class=\"line\">opt1.type = <span class=\"string\">'bar'</span>;</div><div class=\"line\">opt1.extra = <span class=\"string\">'extra'</span>; <span class=\"comment\">// </span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> opt2 = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, a, &#123;</div><div class=\"line\">    title: <span class=\"string\">'opt2'</span>, </div><div class=\"line\">    type: <span class=\"string\">'bar'</span>, </div><div class=\"line\">    extra: <span class=\"string\">'extra'</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>merge</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'It\\'s my world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> opt = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt, &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>subtext title merge<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'It\\'s my world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> opt = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt);</div><div class=\"line\">opt.title.subtext = <span class=\"string\">'Yes, your world.'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt);</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'It\\'s my world.'</span></div><div class=\"line\">    &#125; </div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> opt1 = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt);</div><div class=\"line\"><span class=\"keyword\">const</span> opt2 = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt);</div><div class=\"line\">opt2.title.subtext = <span class=\"string\">'Yes, your world.'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'opt1:'</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt1);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'opt2:'</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt2);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">opt1:</div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">opt2:</div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>opt1 subtext opt2 <br>title   </p>\n<p><strong>Object.assign() </strong>githubdeep-merge assignLodashapijqueryextendapi</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre><code class=\"bash\">const obj1 = JSON.parse(JSON.stringify(obj));\n</code></pre>\n<p>jsonfunction</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>,()</p>\n<p>Object.assign(target, sources)</p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li>stringSymbol</li>\n</ol>\n<p>gettertargetsetter</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MDN</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>o1targetsetter</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> o1 = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o2 = &#123; <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o3 = &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"built_in\">Object</span>.assign(o1, o2, o3);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(o1);  <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;, target object itself is changed.</span></div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>, Object.defineProperty Object.keys(),for-in.</p>\n<p>Object.assign</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"built_in\">Object</span>.create(&#123; <span class=\"attr\">foo</span>: <span class=\"number\">1</span> &#125;, &#123; <span class=\"comment\">// foo is an inherit property.</span></div><div class=\"line\">  bar: &#123;</div><div class=\"line\">    value: <span class=\"number\">2</span>  <span class=\"comment\">// bar is a non-enumerable property.</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  baz: &#123;</div><div class=\"line\">    value: <span class=\"number\">3</span>,</div><div class=\"line\">    enumerable: <span class=\"literal\">true</span>  <span class=\"comment\">// baz is an own enumerable property.</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> copy = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, obj);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(copy); <span class=\"comment\">// &#123; baz: 3 &#125; </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">### </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">:</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> target = <span class=\"built_in\">Object</span>.defineProperty(&#123;&#125;, <span class=\"string\">'foo'</span>, &#123;</div><div class=\"line\">  value: <span class=\"number\">1</span>,</div><div class=\"line\">  writable: <span class=\"literal\">false</span></div><div class=\"line\">&#125;); </div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">Object</span>.assign(target, &#123; <span class=\"attr\">bar</span>: <span class=\"number\">2</span> &#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//&#123;bar: 2, foo: 1&#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">Object</span>.assign(target, &#123; <span class=\"attr\">foo</span>: <span class=\"number\">2</span> &#125;)</div><div class=\"line\"><span class=\"comment\">//Uncaught TypeError: Cannot assign to read only property 'foo' of object '#&lt;Object&gt;'()</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">## Polyfill</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">es5Object.assign</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">assignObject</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">(&#123;&#125;,)</span></div><div class=\"line\"><span class=\"string\">Objectoutforin(hasOwnProperty)</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"built_in\">Object</span>.assign != <span class=\"string\">'function'</span>) &#123;</div><div class=\"line\">  (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">Object</span>.assign = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">target</span>) </span>&#123;</div><div class=\"line\"><span class=\"meta\">     'use strict'</span>;</div><div class=\"line\">     <span class=\"keyword\">if</span> (target === <span class=\"literal\">undefined</span> || target === <span class=\"literal\">null</span>) &#123;</div><div class=\"line\">       <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">TypeError</span>(<span class=\"string\">'Cannot convert undefined or null to object'</span>);</div><div class=\"line\">     &#125;</div><div class=\"line\">    </div><div class=\"line\">     <span class=\"keyword\">var</span> output = <span class=\"built_in\">Object</span>(target);</div><div class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> index = <span class=\"number\">1</span>; index &lt; <span class=\"built_in\">arguments</span>.length; index++) &#123;</div><div class=\"line\">       <span class=\"keyword\">var</span> source = <span class=\"built_in\">arguments</span>[index];</div><div class=\"line\">       <span class=\"keyword\">if</span> (source !== <span class=\"literal\">undefined</span> &amp;&amp; source !== <span class=\"literal\">null</span>) &#123;</div><div class=\"line\">         <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> nextKey <span class=\"keyword\">in</span> source) &#123;</div><div class=\"line\">           <span class=\"keyword\">if</span> (source.hasOwnProperty(nextKey)) &#123;</div><div class=\"line\">             output[nextKey] = source[nextKey];</div><div class=\"line\">           &#125;</div><div class=\"line\">         &#125;</div><div class=\"line\">       &#125;</div><div class=\"line\">     &#125;</div><div class=\"line\">     <span class=\"keyword\">return</span> output;</div><div class=\"line\">    &#125;;</div><div class=\"line\">&#125;)();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">## </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">### </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">javascript</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> a = &#123;<span class=\"attr\">t</span>: <span class=\"number\">1</span>, <span class=\"attr\">p</span>: <span class=\"string\">'gg'</span>&#125;;</div><div class=\"line\"><span class=\"keyword\">const</span> b = a;</div><div class=\"line\">b.t = <span class=\"number\">3</span>;</div><div class=\"line\"><span class=\"built_in\">console</span>.log(a); <span class=\"comment\">// &#123;t: 3, p: 'gg'&#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(b); <span class=\"comment\">// &#123;t: 3, p: 'gg'&#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">const</span> c = &#123;<span class=\"attr\">t</span>: <span class=\"number\">1</span>, <span class=\"attr\">p</span>: <span class=\"string\">'gg'</span>&#125;;</div><div class=\"line\"><span class=\"keyword\">const</span> d = deepCopy(c);</div><div class=\"line\">d.t = <span class=\"number\">3</span>;</div><div class=\"line\"><span class=\"built_in\">console</span>.log(c); <span class=\"comment\">// &#123;t: 1, p: 'gg'&#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(d); <span class=\"comment\">// &#123;t: 3, p: 'gg'&#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">``</span><span class=\"string\">` </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">es6 Object.assign()  </span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span> javascript</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Cloning an object</span></div><div class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> copy = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, obj);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(copy); <span class=\"comment\">// &#123; a: 1 &#125;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Merging objects</span></div><div class=\"line\"><span class=\"keyword\">var</span> o1 = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o2 = &#123; <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> o3 = &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"built_in\">Object</span>.assign(o1, o2, o3);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(obj); <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(o1);  <span class=\"comment\">// &#123; a: 1, b: 2, c: 3 &#125;, target object itself is changed.</span></div></pre></td></tr></table></figure>\n<p>clonemerge</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: <span class=\"string\">'hello'</span>, </div><div class=\"line\">    name: <span class=\"string\">'oo'</span>, </div><div class=\"line\">    type: <span class=\"string\">'line'</span></div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> opt1 = deepCopy(a);</div><div class=\"line\">opt1.title = <span class=\"string\">'opt1'</span>;</div><div class=\"line\">opt1.type = <span class=\"string\">'bar'</span>;</div><div class=\"line\">opt1.extra = <span class=\"string\">'extra'</span>; <span class=\"comment\">// </span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> opt2 = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, a, &#123;</div><div class=\"line\">    title: <span class=\"string\">'opt2'</span>, </div><div class=\"line\">    type: <span class=\"string\">'bar'</span>, </div><div class=\"line\">    extra: <span class=\"string\">'extra'</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>merge</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'It\\'s my world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> opt = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt, &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>subtext title merge<br></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'It\\'s my world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> opt = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt);</div><div class=\"line\">opt.title.subtext = <span class=\"string\">'Yes, your world.'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt);</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> defaultOpt = &#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'It\\'s my world.'</span></div><div class=\"line\">    &#125; </div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> opt1 = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt);</div><div class=\"line\"><span class=\"keyword\">const</span> opt2 = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, defaultOpt);</div><div class=\"line\">opt2.title.subtext = <span class=\"string\">'Yes, your world.'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'opt1:'</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt1);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'opt2:'</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(opt2);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">opt1:</div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">opt2:</div><div class=\"line\">&#123;</div><div class=\"line\">    title: &#123;</div><div class=\"line\">        text: <span class=\"string\">'hello world'</span>,</div><div class=\"line\">        subtext: <span class=\"string\">'Yes, your world.'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>opt1 subtext opt2 <br>title   </p>\n<p><strong>Object.assign() </strong>githubdeep-merge assignLodashapijqueryextendapi</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<pre><code class=\"bash\">const obj1 = JSON.parse(JSON.stringify(obj));\n</code></pre>\n<p>jsonfunction</p>"},{"title":"JavaScript","comments":1,"date":"2017-04-10T14:14:43.000Z","_content":"JavaScript  2016  ES6  RxJS (ReactiveX) \n\n Haskell  JavaScript     \n\n JavaScript \n\n<!-- more -->\n\n## \n\n\n\n\n\n1. \n1. \n1. \n1. \n\n## \n\n\n``` javascript\n// \nconst arr = ['apple', 'pen', 'apple-pen'];\nfor(const i in arr){\n  const c = arr[i][0];\n  arr[i] = c.toUpperCase() + arr[i].slice(1);\n}\n\nconsole.log(arr);\n\n\n// \nfunction upperFirst(word) {\n  return word[0].toUpperCase() + word.slice(1);\n}\n\nfunction wordToUpperCase(arr) {\n  return arr.map(upperFirst);\n}\n\nconsole.log(wordToUpperCase(['apple', 'pen', 'apple-pen']));\n\n\n// \nconsole.log(arr.map(['apple', 'pen', 'apple-pen'], word => word[0].toUpperCase() + word.slice(1)));\n\n```\n\n\n\n1. \n1. \n1. \n\n\n  Array.map  forof \n\n    \n\n\n## \n\n   \n\n``` javascript\n// \n\n\n// \nconsole.log(1 + 2 + 3 - 4)\n\n\n// \nfunction sum(a, b) {\n  return a + b;\n}\n\nfunction sub(a, b) {\n  return a - b;\n}\n\nconsole.log(sub(sum(sum(1, 2), 3), 4);\n\n``` \n\n  \n\n  \n\n``` javascript\n//  ( lodash )\nconst utils = {\n  chain(a) {\n    this._temp = a;\n    return this;\n  },\n  sum(b) {\n    this._temp += b;\n    return this;\n  },\n  sub(b) {\n    this._temp -= b;\n    return this;\n  },\n  value() {\n    const _temp = this._temp;\n    this._temp = undefined;\n    return _temp;\n  }\n};\n\nconsole.log(utils.chain(1).sum(2).sum(3).sub(4).value());\n\n``` \n\n   Promise \n\n``` javascript\n// \n\n\n// \nimport $ from 'jquery';\n$.post('a/url/to/target', (rs) => {\n  if(rs){\n    $.post('a/url/to/another/target', (rs2) => {\n      if(rs2){\n        $.post('a/url/to/third/target');\n      }\n    });\n  }\n});\n\n\n// Promise\nimport request from 'catta';  // catta  fetch,jsonp,ajax\nrequest('a/url/to/target')\n  .then(rs => rs ? $.post('a/url/to/another/target') : Promise.reject())\n  .then(rs2 => rs2 ? $.post('a/url/to/third/target') : Promise.reject());\n``` \n\n Promise \n\n## \n\n### Closure\n\n\n\n\n\n\n\n\n\n``` javascript\n// \nfunction makeCounter() {\n  let k = 0;\n\n  return function() {\n    return ++k;\n  };\n}\n\nconst counter = makeCounter();\n\nconsole.log(counter());  // 1\nconsole.log(counter());  // 2\n\n``` \nmakeCounter  k  \n\n \n\n\n\n1. \n1. \n\n\n###\n\n\n\n``` javascript\n// \n// \nconst cache = (function() {\n  const store = {};\n  \n  return {\n    get(key) {\n      return store[key];\n    },\n    set(key, val) {\n      store[key] = val;\n    }\n  }\n}());\n\ncache.set('a', 1);\ncache.get('a');  // 1\n\n``` \n store  \n\n###\n\n\n\n##\n\n\n\nJavaScript  JavaScript \n\n JavaScript  Array.map , Array.reduce , Array.filter\n\n map \n\n###map \n\n\n\nmap \n\n``` javascript\n\n// \n\n// \nconst arr = [1,2,3];\nconst rs = [];\nfor(const n of arr){\n  rs.push(++n);\n}\nconsole.log(rs)\n\n\n// map\nconst arr = [1,2,3];\nconst rs = arr.map(n => ++n);\n\n``` \n\n for...of \n\n map \n\n###Currying\n\n\n\n undescore  lodash \n\n _.partial \n\n``` javascript\n// \n\n\n// \nconst BASE = '/path/to/base';\nconst relativePath = path.relative(BASE, '/some/path');\n\n\n// _.parical \nconst BASE = '/path/to/base';\nconst relativeFromBase = _.partial(path.relative, BASE);\n\nconst relativePath = relativeFromBase('/some/path');\n``` \n _.partial  relativeFromBase  path.relative  BASE \n\n BASE \n\n###Composing\n\n\n\n lodash compose  flow\n\n``` javascript\n//  Base64\n\n\n//  ()\nconst arr = ['pen', 'apple', 'applypen'];\nconst rs = [];\nfor(const w of arr){\n  rs.push(btoa(w.toUpperCase()));\n}\nconsole.log(rs);\n\n\n// _.flow \nconst arr = ['pen', 'apple', 'applypen'];\nconst upperAndBase64 = _.partialRight(_.map, _.flow(_.upperCase, btoa));\nconsole.log(upperAndBase64(arr));\n``` \n_.flow  Base64 \n\n##\n\n JavaScript \n\n","source":"_posts/2017-04-10.md","raw":"---\ntitle: JavaScript\ncomments: true\ndate: 2017-04-10 22:14:43\ntags: \n    - 'javascript'\n---\nJavaScript  2016  ES6  RxJS (ReactiveX) \n\n Haskell  JavaScript     \n\n JavaScript \n\n<!-- more -->\n\n## \n\n\n\n\n\n1. \n1. \n1. \n1. \n\n## \n\n\n``` javascript\n// \nconst arr = ['apple', 'pen', 'apple-pen'];\nfor(const i in arr){\n  const c = arr[i][0];\n  arr[i] = c.toUpperCase() + arr[i].slice(1);\n}\n\nconsole.log(arr);\n\n\n// \nfunction upperFirst(word) {\n  return word[0].toUpperCase() + word.slice(1);\n}\n\nfunction wordToUpperCase(arr) {\n  return arr.map(upperFirst);\n}\n\nconsole.log(wordToUpperCase(['apple', 'pen', 'apple-pen']));\n\n\n// \nconsole.log(arr.map(['apple', 'pen', 'apple-pen'], word => word[0].toUpperCase() + word.slice(1)));\n\n```\n\n\n\n1. \n1. \n1. \n\n\n  Array.map  forof \n\n    \n\n\n## \n\n   \n\n``` javascript\n// \n\n\n// \nconsole.log(1 + 2 + 3 - 4)\n\n\n// \nfunction sum(a, b) {\n  return a + b;\n}\n\nfunction sub(a, b) {\n  return a - b;\n}\n\nconsole.log(sub(sum(sum(1, 2), 3), 4);\n\n``` \n\n  \n\n  \n\n``` javascript\n//  ( lodash )\nconst utils = {\n  chain(a) {\n    this._temp = a;\n    return this;\n  },\n  sum(b) {\n    this._temp += b;\n    return this;\n  },\n  sub(b) {\n    this._temp -= b;\n    return this;\n  },\n  value() {\n    const _temp = this._temp;\n    this._temp = undefined;\n    return _temp;\n  }\n};\n\nconsole.log(utils.chain(1).sum(2).sum(3).sub(4).value());\n\n``` \n\n   Promise \n\n``` javascript\n// \n\n\n// \nimport $ from 'jquery';\n$.post('a/url/to/target', (rs) => {\n  if(rs){\n    $.post('a/url/to/another/target', (rs2) => {\n      if(rs2){\n        $.post('a/url/to/third/target');\n      }\n    });\n  }\n});\n\n\n// Promise\nimport request from 'catta';  // catta  fetch,jsonp,ajax\nrequest('a/url/to/target')\n  .then(rs => rs ? $.post('a/url/to/another/target') : Promise.reject())\n  .then(rs2 => rs2 ? $.post('a/url/to/third/target') : Promise.reject());\n``` \n\n Promise \n\n## \n\n### Closure\n\n\n\n\n\n\n\n\n\n``` javascript\n// \nfunction makeCounter() {\n  let k = 0;\n\n  return function() {\n    return ++k;\n  };\n}\n\nconst counter = makeCounter();\n\nconsole.log(counter());  // 1\nconsole.log(counter());  // 2\n\n``` \nmakeCounter  k  \n\n \n\n\n\n1. \n1. \n\n\n###\n\n\n\n``` javascript\n// \n// \nconst cache = (function() {\n  const store = {};\n  \n  return {\n    get(key) {\n      return store[key];\n    },\n    set(key, val) {\n      store[key] = val;\n    }\n  }\n}());\n\ncache.set('a', 1);\ncache.get('a');  // 1\n\n``` \n store  \n\n###\n\n\n\n##\n\n\n\nJavaScript  JavaScript \n\n JavaScript  Array.map , Array.reduce , Array.filter\n\n map \n\n###map \n\n\n\nmap \n\n``` javascript\n\n// \n\n// \nconst arr = [1,2,3];\nconst rs = [];\nfor(const n of arr){\n  rs.push(++n);\n}\nconsole.log(rs)\n\n\n// map\nconst arr = [1,2,3];\nconst rs = arr.map(n => ++n);\n\n``` \n\n for...of \n\n map \n\n###Currying\n\n\n\n undescore  lodash \n\n _.partial \n\n``` javascript\n// \n\n\n// \nconst BASE = '/path/to/base';\nconst relativePath = path.relative(BASE, '/some/path');\n\n\n// _.parical \nconst BASE = '/path/to/base';\nconst relativeFromBase = _.partial(path.relative, BASE);\n\nconst relativePath = relativeFromBase('/some/path');\n``` \n _.partial  relativeFromBase  path.relative  BASE \n\n BASE \n\n###Composing\n\n\n\n lodash compose  flow\n\n``` javascript\n//  Base64\n\n\n//  ()\nconst arr = ['pen', 'apple', 'applypen'];\nconst rs = [];\nfor(const w of arr){\n  rs.push(btoa(w.toUpperCase()));\n}\nconsole.log(rs);\n\n\n// _.flow \nconst arr = ['pen', 'apple', 'applypen'];\nconst upperAndBase64 = _.partialRight(_.map, _.flow(_.upperCase, btoa));\nconsole.log(upperAndBase64(arr));\n``` \n_.flow  Base64 \n\n##\n\n JavaScript \n\n","slug":"2017-04-10","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1h30004svld6fq4uv3w","content":"<p>JavaScript  2016  ES6  RxJS (ReactiveX) </p>\n<p> Haskell  JavaScript     </p>\n<p> JavaScript </p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"string\">'apple'</span>, <span class=\"string\">'pen'</span>, <span class=\"string\">'apple-pen'</span>];</div><div class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> i <span class=\"keyword\">in</span> arr)&#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> c = arr[i][<span class=\"number\">0</span>];</div><div class=\"line\">  arr[i] = c.toUpperCase() + arr[i].slice(<span class=\"number\">1</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(arr);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">upperFirst</span>(<span class=\"params\">word</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> word[<span class=\"number\">0</span>].toUpperCase() + word.slice(<span class=\"number\">1</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">wordToUpperCase</span>(<span class=\"params\">arr</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> arr.map(upperFirst);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(wordToUpperCase([<span class=\"string\">'apple'</span>, <span class=\"string\">'pen'</span>, <span class=\"string\">'apple-pen'</span>]));</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(arr.map([<span class=\"string\">'apple'</span>, <span class=\"string\">'pen'</span>, <span class=\"string\">'apple-pen'</span>], word =&gt; word[<span class=\"number\">0</span>].toUpperCase() + word.slice(<span class=\"number\">1</span>)));</div></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p>  Array.map  forof </p>\n<p>    </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>   </p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n\n\n<span class=\"comment\">// </span>\n<span class=\"built_in\">console</span>.log(<span class=\"number\">1</span> + <span class=\"number\">2</span> + <span class=\"number\">3</span> - <span class=\"number\">4</span>)\n\n\n<span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span>(<span class=\"params\">a, b</span>) </span>{\n  <span class=\"keyword\">return</span> a + b;\n}\n\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sub</span>(<span class=\"params\">a, b</span>) </span>{\n  <span class=\"keyword\">return</span> a - b;\n}\n\n<span class=\"built_in\">console</span>.log(sub(sum(sum(<span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"number\">3</span>), <span class=\"number\">4</span>);\n</code></pre>\n<p>  </p>\n<p>  </p>\n<pre><code class=\"javascript\"><span class=\"comment\">//  ( lodash )</span>\n<span class=\"keyword\">const</span> utils = {\n  chain(a) {\n    <span class=\"keyword\">this</span>._temp = a;\n    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;\n  },\n  sum(b) {\n    <span class=\"keyword\">this</span>._temp += b;\n    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;\n  },\n  sub(b) {\n    <span class=\"keyword\">this</span>._temp -= b;\n    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;\n  },\n  value() {\n    <span class=\"keyword\">const</span> _temp = <span class=\"keyword\">this</span>._temp;\n    <span class=\"keyword\">this</span>._temp = <span class=\"literal\">undefined</span>;\n    <span class=\"keyword\">return</span> _temp;\n  }\n};\n\n<span class=\"built_in\">console</span>.log(utils.chain(<span class=\"number\">1</span>).sum(<span class=\"number\">2</span>).sum(<span class=\"number\">3</span>).sub(<span class=\"number\">4</span>).value());\n</code></pre>\n<p>   Promise </p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n\n\n<span class=\"comment\">// </span>\n<span class=\"keyword\">import</span> $ <span class=\"keyword\">from</span> <span class=\"string\">'jquery'</span>;\n$.post(<span class=\"string\">'a/url/to/target'</span>, (rs) =&gt; {\n  <span class=\"keyword\">if</span>(rs){\n    $.post(<span class=\"string\">'a/url/to/another/target'</span>, (rs2) =&gt; {\n      <span class=\"keyword\">if</span>(rs2){\n        $.post(<span class=\"string\">'a/url/to/third/target'</span>);\n      }\n    });\n  }\n});\n\n\n<span class=\"comment\">// Promise</span>\n<span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">'catta'</span>;  <span class=\"comment\">// catta  fetch,jsonp,ajax</span>\nrequest(<span class=\"string\">'a/url/to/target'</span>)\n  .then(<span class=\"function\"><span class=\"params\">rs</span> =&gt;</span> rs ? $.post(<span class=\"string\">'a/url/to/another/target'</span>) : <span class=\"built_in\">Promise</span>.reject())\n  .then(<span class=\"function\"><span class=\"params\">rs2</span> =&gt;</span> rs2 ? $.post(<span class=\"string\">'a/url/to/third/target'</span>) : <span class=\"built_in\">Promise</span>.reject());\n</code></pre>\n<p> Promise </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"Closure\"><a href=\"#Closure\" class=\"headerlink\" title=\"Closure\"></a>Closure</h3><p></p>\n<p></p>\n<p></p>\n<p></p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">makeCounter</span>(<span class=\"params\"></span>) </span>{\n  <span class=\"keyword\">let</span> k = <span class=\"number\">0</span>;\n\n  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n    <span class=\"keyword\">return</span> ++k;\n  };\n}\n\n<span class=\"keyword\">const</span> counter = makeCounter();\n\n<span class=\"built_in\">console</span>.log(counter());  <span class=\"comment\">// 1</span>\n<span class=\"built_in\">console</span>.log(counter());  <span class=\"comment\">// 2</span>\n</code></pre>\n<p>makeCounter  k  </p>\n<p> </p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p>###</p>\n<p></p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n<span class=\"comment\">// </span>\n<span class=\"keyword\">const</span> cache = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n  <span class=\"keyword\">const</span> store = {};\n\n  <span class=\"keyword\">return</span> {\n    get(key) {\n      <span class=\"keyword\">return</span> store[key];\n    },\n    set(key, val) {\n      store[key] = val;\n    }\n  }\n}());\n\ncache.set(<span class=\"string\">'a'</span>, <span class=\"number\">1</span>);\ncache.get(<span class=\"string\">'a'</span>);  <span class=\"comment\">// 1</span>\n</code></pre>\n<p> store  </p>\n<p>###</p>\n<p></p>\n<p>##</p>\n<p></p>\n<p>JavaScript  JavaScript </p>\n<p> JavaScript  Array.map , Array.reduce , Array.filter</p>\n<p> map </p>\n<p>###map </p>\n<p></p>\n<p>map </p>\n<pre><code class=\"javascript\">\n<span class=\"comment\">// </span>\n\n<span class=\"comment\">// </span>\n<span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];\n<span class=\"keyword\">const</span> rs = [];\n<span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> n <span class=\"keyword\">of</span> arr){\n  rs.push(++n);\n}\n<span class=\"built_in\">console</span>.log(rs)\n\n\n<span class=\"comment\">// map</span>\n<span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];\n<span class=\"keyword\">const</span> rs = arr.map(<span class=\"function\"><span class=\"params\">n</span> =&gt;</span> ++n);\n</code></pre>\n<p> forof </p>\n<p> map </p>\n<p>###Currying</p>\n<p></p>\n<p> undescore  lodash </p>\n<p> _.partial </p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n\n\n<span class=\"comment\">// </span>\n<span class=\"keyword\">const</span> BASE = <span class=\"string\">'/path/to/base'</span>;\n<span class=\"keyword\">const</span> relativePath = path.relative(BASE, <span class=\"string\">'/some/path'</span>);\n\n\n<span class=\"comment\">// _.parical </span>\n<span class=\"keyword\">const</span> BASE = <span class=\"string\">'/path/to/base'</span>;\n<span class=\"keyword\">const</span> relativeFromBase = _.partial(path.relative, BASE);\n\n<span class=\"keyword\">const</span> relativePath = relativeFromBase(<span class=\"string\">'/some/path'</span>);\n</code></pre>\n<p> _.partial  relativeFromBase  path.relative  BASE </p>\n<p> BASE </p>\n<p>###Composing</p>\n<p></p>\n<p> lodash compose  flow</p>\n<pre><code class=\"javascript\"><span class=\"comment\">//  Base64</span>\n\n\n<span class=\"comment\">//  ()</span>\n<span class=\"keyword\">const</span> arr = [<span class=\"string\">'pen'</span>, <span class=\"string\">'apple'</span>, <span class=\"string\">'applypen'</span>];\n<span class=\"keyword\">const</span> rs = [];\n<span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> w <span class=\"keyword\">of</span> arr){\n  rs.push(btoa(w.toUpperCase()));\n}\n<span class=\"built_in\">console</span>.log(rs);\n\n\n<span class=\"comment\">// _.flow </span>\n<span class=\"keyword\">const</span> arr = [<span class=\"string\">'pen'</span>, <span class=\"string\">'apple'</span>, <span class=\"string\">'applypen'</span>];\n<span class=\"keyword\">const</span> upperAndBase64 = _.partialRight(_.map, _.flow(_.upperCase, btoa));\n<span class=\"built_in\">console</span>.log(upperAndBase64(arr));\n</code></pre>\n<p>_.flow  Base64 </p>\n<p>##</p>\n<p> JavaScript </p>\n<p></p>\n","site":{"data":{}},"excerpt":"<p>JavaScript  2016  ES6  RxJS (ReactiveX) </p>\n<p> Haskell  JavaScript     </p>\n<p> JavaScript </p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"string\">'apple'</span>, <span class=\"string\">'pen'</span>, <span class=\"string\">'apple-pen'</span>];</div><div class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> i <span class=\"keyword\">in</span> arr)&#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> c = arr[i][<span class=\"number\">0</span>];</div><div class=\"line\">  arr[i] = c.toUpperCase() + arr[i].slice(<span class=\"number\">1</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(arr);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">upperFirst</span>(<span class=\"params\">word</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> word[<span class=\"number\">0</span>].toUpperCase() + word.slice(<span class=\"number\">1</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">wordToUpperCase</span>(<span class=\"params\">arr</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> arr.map(upperFirst);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">console</span>.log(wordToUpperCase([<span class=\"string\">'apple'</span>, <span class=\"string\">'pen'</span>, <span class=\"string\">'apple-pen'</span>]));</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(arr.map([<span class=\"string\">'apple'</span>, <span class=\"string\">'pen'</span>, <span class=\"string\">'apple-pen'</span>], word =&gt; word[<span class=\"number\">0</span>].toUpperCase() + word.slice(<span class=\"number\">1</span>)));</div></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p>  Array.map  forof </p>\n<p>    </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>   </p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n\n\n<span class=\"comment\">// </span>\n<span class=\"built_in\">console</span>.log(<span class=\"number\">1</span> + <span class=\"number\">2</span> + <span class=\"number\">3</span> - <span class=\"number\">4</span>)\n\n\n<span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span>(<span class=\"params\">a, b</span>) </span>{\n  <span class=\"keyword\">return</span> a + b;\n}\n\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sub</span>(<span class=\"params\">a, b</span>) </span>{\n  <span class=\"keyword\">return</span> a - b;\n}\n\n<span class=\"built_in\">console</span>.log(sub(sum(sum(<span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"number\">3</span>), <span class=\"number\">4</span>);\n</code></pre>\n<p>  </p>\n<p>  </p>\n<pre><code class=\"javascript\"><span class=\"comment\">//  ( lodash )</span>\n<span class=\"keyword\">const</span> utils = {\n  chain(a) {\n    <span class=\"keyword\">this</span>._temp = a;\n    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;\n  },\n  sum(b) {\n    <span class=\"keyword\">this</span>._temp += b;\n    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;\n  },\n  sub(b) {\n    <span class=\"keyword\">this</span>._temp -= b;\n    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>;\n  },\n  value() {\n    <span class=\"keyword\">const</span> _temp = <span class=\"keyword\">this</span>._temp;\n    <span class=\"keyword\">this</span>._temp = <span class=\"literal\">undefined</span>;\n    <span class=\"keyword\">return</span> _temp;\n  }\n};\n\n<span class=\"built_in\">console</span>.log(utils.chain(<span class=\"number\">1</span>).sum(<span class=\"number\">2</span>).sum(<span class=\"number\">3</span>).sub(<span class=\"number\">4</span>).value());\n</code></pre>\n<p>   Promise </p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n\n\n<span class=\"comment\">// </span>\n<span class=\"keyword\">import</span> $ <span class=\"keyword\">from</span> <span class=\"string\">'jquery'</span>;\n$.post(<span class=\"string\">'a/url/to/target'</span>, (rs) =&gt; {\n  <span class=\"keyword\">if</span>(rs){\n    $.post(<span class=\"string\">'a/url/to/another/target'</span>, (rs2) =&gt; {\n      <span class=\"keyword\">if</span>(rs2){\n        $.post(<span class=\"string\">'a/url/to/third/target'</span>);\n      }\n    });\n  }\n});\n\n\n<span class=\"comment\">// Promise</span>\n<span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">'catta'</span>;  <span class=\"comment\">// catta  fetch,jsonp,ajax</span>\nrequest(<span class=\"string\">'a/url/to/target'</span>)\n  .then(<span class=\"function\"><span class=\"params\">rs</span> =&gt;</span> rs ? $.post(<span class=\"string\">'a/url/to/another/target'</span>) : <span class=\"built_in\">Promise</span>.reject())\n  .then(<span class=\"function\"><span class=\"params\">rs2</span> =&gt;</span> rs2 ? $.post(<span class=\"string\">'a/url/to/third/target'</span>) : <span class=\"built_in\">Promise</span>.reject());\n</code></pre>\n<p> Promise </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"Closure\"><a href=\"#Closure\" class=\"headerlink\" title=\"Closure\"></a>Closure</h3><p></p>\n<p></p>\n<p></p>\n<p></p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">makeCounter</span>(<span class=\"params\"></span>) </span>{\n  <span class=\"keyword\">let</span> k = <span class=\"number\">0</span>;\n\n  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n    <span class=\"keyword\">return</span> ++k;\n  };\n}\n\n<span class=\"keyword\">const</span> counter = makeCounter();\n\n<span class=\"built_in\">console</span>.log(counter());  <span class=\"comment\">// 1</span>\n<span class=\"built_in\">console</span>.log(counter());  <span class=\"comment\">// 2</span>\n</code></pre>\n<p>makeCounter  k  </p>\n<p> </p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p>###</p>\n<p></p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n<span class=\"comment\">// </span>\n<span class=\"keyword\">const</span> cache = (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>{\n  <span class=\"keyword\">const</span> store = {};\n\n  <span class=\"keyword\">return</span> {\n    get(key) {\n      <span class=\"keyword\">return</span> store[key];\n    },\n    set(key, val) {\n      store[key] = val;\n    }\n  }\n}());\n\ncache.set(<span class=\"string\">'a'</span>, <span class=\"number\">1</span>);\ncache.get(<span class=\"string\">'a'</span>);  <span class=\"comment\">// 1</span>\n</code></pre>\n<p> store  </p>\n<p>###</p>\n<p></p>\n<p>##</p>\n<p></p>\n<p>JavaScript  JavaScript </p>\n<p> JavaScript  Array.map , Array.reduce , Array.filter</p>\n<p> map </p>\n<p>###map </p>\n<p></p>\n<p>map </p>\n<pre><code class=\"javascript\">\n<span class=\"comment\">// </span>\n\n<span class=\"comment\">// </span>\n<span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];\n<span class=\"keyword\">const</span> rs = [];\n<span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> n <span class=\"keyword\">of</span> arr){\n  rs.push(++n);\n}\n<span class=\"built_in\">console</span>.log(rs)\n\n\n<span class=\"comment\">// map</span>\n<span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>];\n<span class=\"keyword\">const</span> rs = arr.map(<span class=\"function\"><span class=\"params\">n</span> =&gt;</span> ++n);\n</code></pre>\n<p> forof </p>\n<p> map </p>\n<p>###Currying</p>\n<p></p>\n<p> undescore  lodash </p>\n<p> _.partial </p>\n<pre><code class=\"javascript\"><span class=\"comment\">// </span>\n\n\n<span class=\"comment\">// </span>\n<span class=\"keyword\">const</span> BASE = <span class=\"string\">'/path/to/base'</span>;\n<span class=\"keyword\">const</span> relativePath = path.relative(BASE, <span class=\"string\">'/some/path'</span>);\n\n\n<span class=\"comment\">// _.parical </span>\n<span class=\"keyword\">const</span> BASE = <span class=\"string\">'/path/to/base'</span>;\n<span class=\"keyword\">const</span> relativeFromBase = _.partial(path.relative, BASE);\n\n<span class=\"keyword\">const</span> relativePath = relativeFromBase(<span class=\"string\">'/some/path'</span>);\n</code></pre>\n<p> _.partial  relativeFromBase  path.relative  BASE </p>\n<p> BASE </p>\n<p>###Composing</p>\n<p></p>\n<p> lodash compose  flow</p>\n<pre><code class=\"javascript\"><span class=\"comment\">//  Base64</span>\n\n\n<span class=\"comment\">//  ()</span>\n<span class=\"keyword\">const</span> arr = [<span class=\"string\">'pen'</span>, <span class=\"string\">'apple'</span>, <span class=\"string\">'applypen'</span>];\n<span class=\"keyword\">const</span> rs = [];\n<span class=\"keyword\">for</span>(<span class=\"keyword\">const</span> w <span class=\"keyword\">of</span> arr){\n  rs.push(btoa(w.toUpperCase()));\n}\n<span class=\"built_in\">console</span>.log(rs);\n\n\n<span class=\"comment\">// _.flow </span>\n<span class=\"keyword\">const</span> arr = [<span class=\"string\">'pen'</span>, <span class=\"string\">'apple'</span>, <span class=\"string\">'applypen'</span>];\n<span class=\"keyword\">const</span> upperAndBase64 = _.partialRight(_.map, _.flow(_.upperCase, btoa));\n<span class=\"built_in\">console</span>.log(upperAndBase64(arr));\n</code></pre>\n<p>_.flow  Base64 </p>\n<p>##</p>\n<p> JavaScript </p>\n<p></p>"},{"title":"axios","comments":1,"date":"2017-05-02T10:56:15.000Z","_content":"\naxios4.2Promiseaxiosvue\n\n{% codeblock lang:javascript %}\nrequire('es6-promise').polyfill();\n{% endcodeblock %}\n\n> GET\n\n{% codeblock lang:javascript %}\n//ID\naxios.get('/user?ID=12345')\n  .then(function(response){\n    console.log(response);\n  })\n  .catch(function(err){\n    console.log(err);\n  });\n//\naxios.get('/user',{\n  params:{\n    ID:12345\n  }\n})\n.then(function(response){\n  console.log(response);\n})\n.catch(function(err){\n  console.log(err);\n});\n{% endcodeblock %}\n\n<!-- more -->\n\n> POST\n\n{% codeblock lang:javascript %}\naxios.post('/user',{\n  firstName:'Fred',\n  lastName:'Flintstone'\n})\n.then(function(res){\n  console.log(res);\n})\n.catch(function(err){\n  console.log(err);\n});\n{% endcodeblock %}\n\n>\n\n{% codeblock lang:javascript %}\nfunction getUserAccount(){\n  return axios.get('/user/12345');\n}\nfunction getUserPermissions(){\n  return axios.get('/user/12345/permissions');\n}\naxios.all([getUserAccount(),getUserPermissions()])\n  .then(axios.spread(function(acct,perms){\n    //\n  }))\n{% endcodeblock %}\n\n>axiosconfig\n\n{% codeblock lang:javascript %}\n//`POST`\naxios({\n    method:\"POST\",\n    url:'/user/12345',\n    data:{\n        firstName:\"Fred\",\n        lastName:\"Flintstone\"\n    }\n});\n{% endcodeblock %}\n\n>,url,method,data\n\n{% codeblock lang:javascript %}\naxios.request(config);\naxios.get(url[,config]);\naxios.delete(url[,config]);\naxios.head(url[,config]);\naxios.post(url[,data[,config]]);\naxios.put(url[,data[,config]])\naxios.patch(url[,data[,config]])\n{% endcodeblock %}\n\n>concurrency,\n\n{% codeblock lang:javascript %}\n//iterable\naxios.all(iterable)\n//callback\naxios.spread(callback)\n{% endcodeblock %}\n\n>axios\n\n1axios.create([config])\n{% codeblock lang:javascript %}\nvar instance = axios.create({\n  baseURL:\"https://some-domain.com/api/\",\n  timeout:1000,\n  headers: {'X-Custom-Header':'foobar'}\n});\n{% endcodeblock %}\n\n2create\n{% codeblock lang:javascript %}\naxios#request(config)\naxios#get(url[,config])\naxios#delete(url[,config])\naxios#head(url[,config])\naxios#post(url[,data[,config]])\naxios#put(url[,data[,config]])\naxios#patch(url[,data[,config]])\n{% endcodeblock %}\n\n>request configurlmethodGET\n\n{% codeblock lang:javascript %}\n{\n  //`url`\n  url:'/user',\n  //`method`\n  method:'get'//default\n  //`url``baseURL``url`\n  //`url``baseURL`\n  baseURL:'https://some-domain.com/api/',\n  //`transformRequest`\n  //`put/post/patch`\n  //-`ArrayBuffer``Stream`\n  transformRequest:[function(data){\n    //\n    return data;\n  }],\n  //`transformResponse``then/catch`\n  transformResponse:[function(data){\n    //\n    return data;\n  }],\n  //`headers`\n  headers: {'X-Requested-With':'XMLHttpRequest'},\n  //`params`----URL\n  //URLSearchParams\n  params: {\n    ID:12345\n  },\n  //`paramsSerializer`params\n  //(https://www.npmjs.com/package/qs,http://api.jquery.com/jquery.param)\n  paramsSerializer: function(params){\n    return Qs.stringify(params,{arrayFormat:'brackets'})\n  },\n  //`data`\n  //`put/post/patch`\n  //`transformRequest`dada\n  //string/plain/object/ArrayBuffer/ArrayBufferView/URLSearchParams\n  //FormData/File/Bold\n  //node:Stream\n  data {\n    firstName:\"Fred\"\n  },\n  //`timeout`\n  //\n\n  timeout:1000,\n  //`withCredentails`\n  \n  withCredentials:false,//default\n  //`adapter`\n  //promise,\n  adapter: function(config){\n    /*..........*/\n  },\n  //`auth`HTTP\n  //authorizationheader,headerAuthorization\n  auth: {\n    username:\"zhangsan\",\n    password: \"s00sdkf\"\n  },\n  //\n  //arraybuffer,blob,document,json,text,stream\n  responseType:'json',//default\n  //\n  xsrfCookieName: 'XSRF-TOKEN',//default\n  xsrfHeaderName:'X-XSRF-TOKEN',//default\n  //`onUploadProgress`\n  onUploadProgress:function(progressEvent){\n    //\nonDownloadProgress:function(progressEvent){\n}\n  },\n  //\n  maxContentLength:2000,\n  //`validateStatus`httpresolvereject promise\n  //`validateStatus`true(`null``undefined`),promiseresolved,rejected\n  validateStatus:function(status){\n    return status >= 200 && status <300;//default\n  },\n  //`maxRedirects`nodejs\n  maxRedirects: 5,//default\n  //`httpAgent/httpsAgent`http/https\n  //keeyAlive\n  httpAgent: new http.Agent({keeyAlive:true}),\n  httpsAgent: new https.Agent({keeyAlive:true}),\n  //proxy\n  //`auth`httpproxy\n  //`Proxy-Authorization` header,`Proxy-Authorization`  header\n  proxy: {\n    host:'127.0.0.1',\n    port: 9000,\n    auth: {\n      username:'skda',\n      password:'radsd'\n    }\n  },\n  //`cancelToken`cancel token\n  //cancelation\n  cancelToken: new cancelToken(function(cancel){\n\n  })\n}\n{% endcodeblock %}\n\n >\n\n{% codeblock lang:javascript %}\n {\n  data:{},\n  status:200,\n  //http\n  statusText:'OK',\n  //\n  headers: {},\n  //`config`\n  config: {}\n}\n{% endcodeblock %}\n\n>\n\n1\n{% codeblock lang:javascript %}\naxios.defaults.baseURL = 'http://api.exmple.com';\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\naxios.defaults.headers.post['content-Type'] = 'appliction/x-www-form-urlencoded';\n{% endcodeblock %}\n\n2\n{% codeblock lang:javascript %}\n//\nvar instance = axios.create({\n    baseURL: 'https://api.example.com'\n});\n\n//\ninstance.defaults.headers.common[\"Authorization\"] = AUTH_TOKEN;\n{% endcodeblock %}\n\n3configlib/defauts.jsconfig\n{% codeblock lang:javascript %}\n//libray\n//timeout0libray\nvar instance = axios.create();\n//library\n//2.5S\ninstance.defaults.timeout = 2500;\n//timeout2.5S5s\ninstance.get('/longRequest',{\n  timeout: 5000\n});\n{% endcodeblock %}\n\n>\n\n1then/catch\n{% codeblock lang:javascript %}\n//\naxios.interceptors.request.use(function(config){\n  //\n  return config;\n},function(err){\n  //Do something with request error\n  return Promise.reject(error);\n});\n//\naxios.interceptors.response.use(function(res){\n  //\n  return res;\n},function(err){\n  //Do something with response error\n  return Promise.reject(error);\n})\n{% endcodeblock %}\n\n2\n{% codeblock lang:javascript %}\nvar myInterceptor = axios.interceptor.request.use(function(){/*....*/});\naxios.interceptors.request.eject(myInterceptor);\n{% endcodeblock %}\n\n3axios\n{% codeblock lang:javascript %}\nvar instance = axios.create();\ninstance.interceptors.request.use(function(){})\n{% endcodeblock %}\n\n>\n\n{% codeblock lang:javascript %}\naxios.get('/user/12345')\n  .catch(function(error){\n    if(error.response){\n      //2xx\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.header);\n    }else {\n      //\n      console.log('Error',error.message);\n    }\n    console.log(error.config);\n  });\n{% endcodeblock %}\n\n>,cancel token\n\n1CancelToken.sourcecancel token\n{% codeblock lang:javascript %}\nvar CancelToken = axios.CancelToken;\nvar source = CancelToken.source();\n\naxios.get('/user/12345',{\n  cancelToken: source.token\n}).catch(function(thrown){\n  if(axios.isCancel(thrown)){\n    console.log('Request canceled',thrown.message);\n  }else {\n    //handle error\n  }\n});\n\n//\nsource.cance(\"\");\n{% endcodeblock %}\n\n2cancelTokenexecutor functioncancel token:\n{% codeblock lang:javascript %}\nvar cancelToken = axios.CancelToken;\nvar cance;\naxios.get('/user/12345',{\n  cancelToken: new CancelToken(function(c){\n    //executorcancel function\n    cancel = c;\n  })\n})\n//\ncancel();\n{% endcodeblock %}\n\n> application/x-www-form-urlencoded ,axiosjs JSON  application/x-wwww-form-urlencoded  URLSearchParams API:\n\n{% codeblock lang:javascript %}\nvar params = new URLSearchParams();\nparams.append('param1','value1');\nparams.append('param2','value2');\naxios.post('/foo',params);\n{% endcodeblock %}\n\n><font color=\"red\">URLSearchParams </font>,polyfill,\n\n{% codeblock lang:javascript %}\nvar qs = require('qs');\naxios.post('/foo', qs.stringify({'bar':123}));\n{% endcodeblock %}\n\n>nodequerystring\n\n{% codeblock lang:javascript %}\nvar querystring = require('querystring');\naxios.post('http://something.com/', querystring.stringify({foo:'bar'}));\n{% endcodeblock %}\n\n>axios ES6 Promise es6-promise","source":"_posts/2017-05-02.md","raw":"---\ntitle: 'axios'\ncomments: true\ndate: 2017-05-02 18:56:15\ntags: \n    - 'javascript'\n    - 'ajax'\n---\n\naxios4.2Promiseaxiosvue\n\n{% codeblock lang:javascript %}\nrequire('es6-promise').polyfill();\n{% endcodeblock %}\n\n> GET\n\n{% codeblock lang:javascript %}\n//ID\naxios.get('/user?ID=12345')\n  .then(function(response){\n    console.log(response);\n  })\n  .catch(function(err){\n    console.log(err);\n  });\n//\naxios.get('/user',{\n  params:{\n    ID:12345\n  }\n})\n.then(function(response){\n  console.log(response);\n})\n.catch(function(err){\n  console.log(err);\n});\n{% endcodeblock %}\n\n<!-- more -->\n\n> POST\n\n{% codeblock lang:javascript %}\naxios.post('/user',{\n  firstName:'Fred',\n  lastName:'Flintstone'\n})\n.then(function(res){\n  console.log(res);\n})\n.catch(function(err){\n  console.log(err);\n});\n{% endcodeblock %}\n\n>\n\n{% codeblock lang:javascript %}\nfunction getUserAccount(){\n  return axios.get('/user/12345');\n}\nfunction getUserPermissions(){\n  return axios.get('/user/12345/permissions');\n}\naxios.all([getUserAccount(),getUserPermissions()])\n  .then(axios.spread(function(acct,perms){\n    //\n  }))\n{% endcodeblock %}\n\n>axiosconfig\n\n{% codeblock lang:javascript %}\n//`POST`\naxios({\n    method:\"POST\",\n    url:'/user/12345',\n    data:{\n        firstName:\"Fred\",\n        lastName:\"Flintstone\"\n    }\n});\n{% endcodeblock %}\n\n>,url,method,data\n\n{% codeblock lang:javascript %}\naxios.request(config);\naxios.get(url[,config]);\naxios.delete(url[,config]);\naxios.head(url[,config]);\naxios.post(url[,data[,config]]);\naxios.put(url[,data[,config]])\naxios.patch(url[,data[,config]])\n{% endcodeblock %}\n\n>concurrency,\n\n{% codeblock lang:javascript %}\n//iterable\naxios.all(iterable)\n//callback\naxios.spread(callback)\n{% endcodeblock %}\n\n>axios\n\n1axios.create([config])\n{% codeblock lang:javascript %}\nvar instance = axios.create({\n  baseURL:\"https://some-domain.com/api/\",\n  timeout:1000,\n  headers: {'X-Custom-Header':'foobar'}\n});\n{% endcodeblock %}\n\n2create\n{% codeblock lang:javascript %}\naxios#request(config)\naxios#get(url[,config])\naxios#delete(url[,config])\naxios#head(url[,config])\naxios#post(url[,data[,config]])\naxios#put(url[,data[,config]])\naxios#patch(url[,data[,config]])\n{% endcodeblock %}\n\n>request configurlmethodGET\n\n{% codeblock lang:javascript %}\n{\n  //`url`\n  url:'/user',\n  //`method`\n  method:'get'//default\n  //`url``baseURL``url`\n  //`url``baseURL`\n  baseURL:'https://some-domain.com/api/',\n  //`transformRequest`\n  //`put/post/patch`\n  //-`ArrayBuffer``Stream`\n  transformRequest:[function(data){\n    //\n    return data;\n  }],\n  //`transformResponse``then/catch`\n  transformResponse:[function(data){\n    //\n    return data;\n  }],\n  //`headers`\n  headers: {'X-Requested-With':'XMLHttpRequest'},\n  //`params`----URL\n  //URLSearchParams\n  params: {\n    ID:12345\n  },\n  //`paramsSerializer`params\n  //(https://www.npmjs.com/package/qs,http://api.jquery.com/jquery.param)\n  paramsSerializer: function(params){\n    return Qs.stringify(params,{arrayFormat:'brackets'})\n  },\n  //`data`\n  //`put/post/patch`\n  //`transformRequest`dada\n  //string/plain/object/ArrayBuffer/ArrayBufferView/URLSearchParams\n  //FormData/File/Bold\n  //node:Stream\n  data {\n    firstName:\"Fred\"\n  },\n  //`timeout`\n  //\n\n  timeout:1000,\n  //`withCredentails`\n  \n  withCredentials:false,//default\n  //`adapter`\n  //promise,\n  adapter: function(config){\n    /*..........*/\n  },\n  //`auth`HTTP\n  //authorizationheader,headerAuthorization\n  auth: {\n    username:\"zhangsan\",\n    password: \"s00sdkf\"\n  },\n  //\n  //arraybuffer,blob,document,json,text,stream\n  responseType:'json',//default\n  //\n  xsrfCookieName: 'XSRF-TOKEN',//default\n  xsrfHeaderName:'X-XSRF-TOKEN',//default\n  //`onUploadProgress`\n  onUploadProgress:function(progressEvent){\n    //\nonDownloadProgress:function(progressEvent){\n}\n  },\n  //\n  maxContentLength:2000,\n  //`validateStatus`httpresolvereject promise\n  //`validateStatus`true(`null``undefined`),promiseresolved,rejected\n  validateStatus:function(status){\n    return status >= 200 && status <300;//default\n  },\n  //`maxRedirects`nodejs\n  maxRedirects: 5,//default\n  //`httpAgent/httpsAgent`http/https\n  //keeyAlive\n  httpAgent: new http.Agent({keeyAlive:true}),\n  httpsAgent: new https.Agent({keeyAlive:true}),\n  //proxy\n  //`auth`httpproxy\n  //`Proxy-Authorization` header,`Proxy-Authorization`  header\n  proxy: {\n    host:'127.0.0.1',\n    port: 9000,\n    auth: {\n      username:'skda',\n      password:'radsd'\n    }\n  },\n  //`cancelToken`cancel token\n  //cancelation\n  cancelToken: new cancelToken(function(cancel){\n\n  })\n}\n{% endcodeblock %}\n\n >\n\n{% codeblock lang:javascript %}\n {\n  data:{},\n  status:200,\n  //http\n  statusText:'OK',\n  //\n  headers: {},\n  //`config`\n  config: {}\n}\n{% endcodeblock %}\n\n>\n\n1\n{% codeblock lang:javascript %}\naxios.defaults.baseURL = 'http://api.exmple.com';\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\naxios.defaults.headers.post['content-Type'] = 'appliction/x-www-form-urlencoded';\n{% endcodeblock %}\n\n2\n{% codeblock lang:javascript %}\n//\nvar instance = axios.create({\n    baseURL: 'https://api.example.com'\n});\n\n//\ninstance.defaults.headers.common[\"Authorization\"] = AUTH_TOKEN;\n{% endcodeblock %}\n\n3configlib/defauts.jsconfig\n{% codeblock lang:javascript %}\n//libray\n//timeout0libray\nvar instance = axios.create();\n//library\n//2.5S\ninstance.defaults.timeout = 2500;\n//timeout2.5S5s\ninstance.get('/longRequest',{\n  timeout: 5000\n});\n{% endcodeblock %}\n\n>\n\n1then/catch\n{% codeblock lang:javascript %}\n//\naxios.interceptors.request.use(function(config){\n  //\n  return config;\n},function(err){\n  //Do something with request error\n  return Promise.reject(error);\n});\n//\naxios.interceptors.response.use(function(res){\n  //\n  return res;\n},function(err){\n  //Do something with response error\n  return Promise.reject(error);\n})\n{% endcodeblock %}\n\n2\n{% codeblock lang:javascript %}\nvar myInterceptor = axios.interceptor.request.use(function(){/*....*/});\naxios.interceptors.request.eject(myInterceptor);\n{% endcodeblock %}\n\n3axios\n{% codeblock lang:javascript %}\nvar instance = axios.create();\ninstance.interceptors.request.use(function(){})\n{% endcodeblock %}\n\n>\n\n{% codeblock lang:javascript %}\naxios.get('/user/12345')\n  .catch(function(error){\n    if(error.response){\n      //2xx\n      console.log(error.response.data);\n      console.log(error.response.status);\n      console.log(error.response.header);\n    }else {\n      //\n      console.log('Error',error.message);\n    }\n    console.log(error.config);\n  });\n{% endcodeblock %}\n\n>,cancel token\n\n1CancelToken.sourcecancel token\n{% codeblock lang:javascript %}\nvar CancelToken = axios.CancelToken;\nvar source = CancelToken.source();\n\naxios.get('/user/12345',{\n  cancelToken: source.token\n}).catch(function(thrown){\n  if(axios.isCancel(thrown)){\n    console.log('Request canceled',thrown.message);\n  }else {\n    //handle error\n  }\n});\n\n//\nsource.cance(\"\");\n{% endcodeblock %}\n\n2cancelTokenexecutor functioncancel token:\n{% codeblock lang:javascript %}\nvar cancelToken = axios.CancelToken;\nvar cance;\naxios.get('/user/12345',{\n  cancelToken: new CancelToken(function(c){\n    //executorcancel function\n    cancel = c;\n  })\n})\n//\ncancel();\n{% endcodeblock %}\n\n> application/x-www-form-urlencoded ,axiosjs JSON  application/x-wwww-form-urlencoded  URLSearchParams API:\n\n{% codeblock lang:javascript %}\nvar params = new URLSearchParams();\nparams.append('param1','value1');\nparams.append('param2','value2');\naxios.post('/foo',params);\n{% endcodeblock %}\n\n><font color=\"red\">URLSearchParams </font>,polyfill,\n\n{% codeblock lang:javascript %}\nvar qs = require('qs');\naxios.post('/foo', qs.stringify({'bar':123}));\n{% endcodeblock %}\n\n>nodequerystring\n\n{% codeblock lang:javascript %}\nvar querystring = require('querystring');\naxios.post('http://something.com/', querystring.stringify({foo:'bar'}));\n{% endcodeblock %}\n\n>axios ES6 Promise es6-promise","slug":"2017-05-02","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1he0005svld8w412zy4","content":"<p>axios4.2Promiseaxiosvue</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'es6-promise'</span>).polyfill();</div></pre></td></tr></table></figure>\n<blockquote>\n<p>GET</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//ID</span></div><div class=\"line\">axios.get(<span class=\"string\">'/user?ID=12345'</span>)</div><div class=\"line\">  .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(response);</div><div class=\"line\">  &#125;)</div><div class=\"line\">  .catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(err);</div><div class=\"line\">  &#125;);</div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">axios.get(<span class=\"string\">'/user'</span>,&#123;</div><div class=\"line\">  params:&#123;</div><div class=\"line\">    ID:<span class=\"number\">12345</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;)</div><div class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(response);</div><div class=\"line\">&#125;)</div><div class=\"line\">.catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<blockquote>\n<p>POST</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.post(<span class=\"string\">'/user'</span>,&#123;</div><div class=\"line\">  firstName:<span class=\"string\">'Fred'</span>,</div><div class=\"line\">  lastName:<span class=\"string\">'Flintstone'</span></div><div class=\"line\">&#125;)</div><div class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(res);</div><div class=\"line\">&#125;)</div><div class=\"line\">.catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserAccount</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> axios.get(<span class=\"string\">'/user/12345'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserPermissions</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> axios.get(<span class=\"string\">'/user/12345/permissions'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\">axios.all([getUserAccount(),getUserPermissions()])</div><div class=\"line\">  .then(axios.spread(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">acct,perms</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">  &#125;))</div></pre></td></tr></table></figure>\n<blockquote>\n<p>axiosconfig</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//`POST`</span></div><div class=\"line\">axios(&#123;</div><div class=\"line\">    method:<span class=\"string\">\"POST\"</span>,</div><div class=\"line\">    url:<span class=\"string\">'/user/12345'</span>,</div><div class=\"line\">    data:&#123;</div><div class=\"line\">        firstName:<span class=\"string\">\"Fred\"</span>,</div><div class=\"line\">        lastName:<span class=\"string\">\"Flintstone\"</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p>,url,method,data</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.request(config);</div><div class=\"line\">axios.get(url[,config]);</div><div class=\"line\">axios.delete(url[,config]);</div><div class=\"line\">axios.head(url[,config]);</div><div class=\"line\">axios.post(url[,data[,config]]);</div><div class=\"line\">axios.put(url[,data[,config]])</div><div class=\"line\">axios.patch(url[,data[,config]])</div></pre></td></tr></table></figure>\n<blockquote>\n<p>concurrency,</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//iterable</span></div><div class=\"line\">axios.all(iterable)</div><div class=\"line\"><span class=\"comment\">//callback</span></div><div class=\"line\">axios.spread(callback)</div></pre></td></tr></table></figure>\n<blockquote>\n<p>axios</p>\n</blockquote>\n<p>1axios.create([config])<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create(&#123;</div><div class=\"line\">  baseURL:<span class=\"string\">\"https://some-domain.com/api/\"</span>,</div><div class=\"line\">  timeout:<span class=\"number\">1000</span>,</div><div class=\"line\">  headers: &#123;<span class=\"string\">'X-Custom-Header'</span>:<span class=\"string\">'foobar'</span>&#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>2create<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios#request(config)</div><div class=\"line\">axios#get(url[,config])</div><div class=\"line\">axios#delete(url[,config])</div><div class=\"line\">axios#head(url[,config])</div><div class=\"line\">axios#post(url[,data[,config]])</div><div class=\"line\">axios#put(url[,data[,config]])</div><div class=\"line\">axios#patch(url[,data[,config]])</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p>request configurlmethodGET</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"comment\">//`url`</span></div><div class=\"line\">  url:<span class=\"string\">'/user'</span>,</div><div class=\"line\">  <span class=\"comment\">//`method`</span></div><div class=\"line\">  method:<span class=\"string\">'get'</span><span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`url``baseURL``url`</span></div><div class=\"line\">  <span class=\"comment\">//`url``baseURL`</span></div><div class=\"line\">  baseURL:<span class=\"string\">'https://some-domain.com/api/'</span>,</div><div class=\"line\">  <span class=\"comment\">//`transformRequest`</span></div><div class=\"line\">  <span class=\"comment\">//`put/post/patch`</span></div><div class=\"line\">  <span class=\"comment\">//-`ArrayBuffer``Stream`</span></div><div class=\"line\">  transformRequest:[<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    <span class=\"keyword\">return</span> data;</div><div class=\"line\">  &#125;],</div><div class=\"line\">  <span class=\"comment\">//`transformResponse``then/catch`</span></div><div class=\"line\">  transformResponse:[<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    <span class=\"keyword\">return</span> data;</div><div class=\"line\">  &#125;],</div><div class=\"line\">  <span class=\"comment\">//`headers`</span></div><div class=\"line\">  headers: &#123;<span class=\"string\">'X-Requested-With'</span>:<span class=\"string\">'XMLHttpRequest'</span>&#125;,</div><div class=\"line\">  <span class=\"comment\">//`params`----URL</span></div><div class=\"line\">  <span class=\"comment\">//URLSearchParams</span></div><div class=\"line\">  params: &#123;</div><div class=\"line\">    ID:<span class=\"number\">12345</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`paramsSerializer`params</span></div><div class=\"line\">  <span class=\"comment\">//(https://www.npmjs.com/package/qs,http://api.jquery.com/jquery.param)</span></div><div class=\"line\">  paramsSerializer: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">params</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> Qs.stringify(params,&#123;<span class=\"attr\">arrayFormat</span>:<span class=\"string\">'brackets'</span>&#125;)</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`data`</span></div><div class=\"line\">  <span class=\"comment\">//`put/post/patch`</span></div><div class=\"line\">  <span class=\"comment\">//`transformRequest`dada</span></div><div class=\"line\">  <span class=\"comment\">//string/plain/object/ArrayBuffer/ArrayBufferView/URLSearchParams</span></div><div class=\"line\">  <span class=\"comment\">//FormData/File/Bold</span></div><div class=\"line\">  <span class=\"comment\">//node:Stream</span></div><div class=\"line\">  data &#123;</div><div class=\"line\">    firstName:<span class=\"string\">\"Fred\"</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`timeout`</span></div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\"></div><div class=\"line\">  timeout:<span class=\"number\">1000</span>,</div><div class=\"line\">  <span class=\"comment\">//`withCredentails`</span></div><div class=\"line\">  </div><div class=\"line\">  withCredentials:<span class=\"literal\">false</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`adapter`</span></div><div class=\"line\">  <span class=\"comment\">//promise,</span></div><div class=\"line\">  adapter: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">config</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">/*..........*/</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`auth`HTTP</span></div><div class=\"line\">  <span class=\"comment\">//authorizationheader,headerAuthorization</span></div><div class=\"line\">  auth: &#123;</div><div class=\"line\">    username:<span class=\"string\">\"zhangsan\"</span>,</div><div class=\"line\">    password: <span class=\"string\">\"s00sdkf\"</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"comment\">//arraybuffer,blob,document,json,text,stream</span></div><div class=\"line\">  responseType:<span class=\"string\">'json'</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  xsrfCookieName: <span class=\"string\">'XSRF-TOKEN'</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  xsrfHeaderName:<span class=\"string\">'X-XSRF-TOKEN'</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`onUploadProgress`</span></div><div class=\"line\">  onUploadProgress:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">progressEvent</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">onDownloadProgress:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">progressEvent</span>)</span>&#123;</div><div class=\"line\">&#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  maxContentLength:<span class=\"number\">2000</span>,</div><div class=\"line\">  <span class=\"comment\">//`validateStatus`httpresolvereject promise</span></div><div class=\"line\">  <span class=\"comment\">//`validateStatus`true(`null``undefined`),promiseresolved,rejected</span></div><div class=\"line\">  validateStatus:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">status</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> status &gt;= <span class=\"number\">200</span> &amp;&amp; status &lt;<span class=\"number\">300</span>;<span class=\"comment\">//default</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`maxRedirects`nodejs</span></div><div class=\"line\">  maxRedirects: <span class=\"number\">5</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`httpAgent/httpsAgent`http/https</span></div><div class=\"line\">  <span class=\"comment\">//keeyAlive</span></div><div class=\"line\">  httpAgent: <span class=\"keyword\">new</span> http.Agent(&#123;<span class=\"attr\">keeyAlive</span>:<span class=\"literal\">true</span>&#125;),</div><div class=\"line\">  httpsAgent: <span class=\"keyword\">new</span> https.Agent(&#123;<span class=\"attr\">keeyAlive</span>:<span class=\"literal\">true</span>&#125;),</div><div class=\"line\">  <span class=\"comment\">//proxy</span></div><div class=\"line\">  <span class=\"comment\">//`auth`httpproxy</span></div><div class=\"line\">  <span class=\"comment\">//`Proxy-Authorization` header,`Proxy-Authorization`  header</span></div><div class=\"line\">  proxy: &#123;</div><div class=\"line\">    host:<span class=\"string\">'127.0.0.1'</span>,</div><div class=\"line\">    port: <span class=\"number\">9000</span>,</div><div class=\"line\">    auth: &#123;</div><div class=\"line\">      username:<span class=\"string\">'skda'</span>,</div><div class=\"line\">      password:<span class=\"string\">'radsd'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`cancelToken`cancel token</span></div><div class=\"line\">  <span class=\"comment\">//cancelation</span></div><div class=\"line\">  cancelToken: <span class=\"keyword\">new</span> cancelToken(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cancel</span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"> &#123;</div><div class=\"line\">  data:&#123;&#125;,</div><div class=\"line\">  status:<span class=\"number\">200</span>,</div><div class=\"line\">  <span class=\"comment\">//http</span></div><div class=\"line\">  statusText:<span class=\"string\">'OK'</span>,</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  headers: &#123;&#125;,</div><div class=\"line\">  <span class=\"comment\">//`config`</span></div><div class=\"line\">  config: &#123;&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n</blockquote>\n<p>1<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.defaults.baseURL = <span class=\"string\">'http://api.exmple.com'</span>;</div><div class=\"line\">axios.defaults.headers.common[<span class=\"string\">'Authorization'</span>] = AUTH_TOKEN;</div><div class=\"line\">axios.defaults.headers.post[<span class=\"string\">'content-Type'</span>] = <span class=\"string\">'appliction/x-www-form-urlencoded'</span>;</div></pre></td></tr></table></figure></p>\n<p>2<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create(&#123;</div><div class=\"line\">    baseURL: <span class=\"string\">'https://api.example.com'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">instance.defaults.headers.common[<span class=\"string\">\"Authorization\"</span>] = AUTH_TOKEN;</div></pre></td></tr></table></figure></p>\n<p>3configlib/defauts.jsconfig<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//libray</span></div><div class=\"line\"><span class=\"comment\">//timeout0libray</span></div><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create();</div><div class=\"line\"><span class=\"comment\">//library</span></div><div class=\"line\"><span class=\"comment\">//2.5S</span></div><div class=\"line\">instance.defaults.timeout = <span class=\"number\">2500</span>;</div><div class=\"line\"><span class=\"comment\">//timeout2.5S5s</span></div><div class=\"line\">instance.get(<span class=\"string\">'/longRequest'</span>,&#123;</div><div class=\"line\">  timeout: <span class=\"number\">5000</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>1then/catch<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">axios.interceptors.request.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">config</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"keyword\">return</span> config;</div><div class=\"line\">&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//Do something with request error</span></div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.reject(error);</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">axios.interceptors.response.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"keyword\">return</span> res;</div><div class=\"line\">&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//Do something with response error</span></div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.reject(error);</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure></p>\n<p>2<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> myInterceptor = axios.interceptor.request.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"comment\">/*....*/</span>&#125;);</div><div class=\"line\">axios.interceptors.request.eject(myInterceptor);</div></pre></td></tr></table></figure></p>\n<p>3axios<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create();</div><div class=\"line\">instance.interceptors.request.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;)</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.get(<span class=\"string\">'/user/12345'</span>)</div><div class=\"line\">  .catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(error.response)&#123;</div><div class=\"line\">      <span class=\"comment\">//2xx</span></div><div class=\"line\">      <span class=\"built_in\">console</span>.log(error.response.data);</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(error.response.status);</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(error.response.header);</div><div class=\"line\">    &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">      <span class=\"comment\">//</span></div><div class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'Error'</span>,error.message);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(error.config);</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p>,cancel token</p>\n</blockquote>\n<p>1CancelToken.sourcecancel token<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> CancelToken = axios.CancelToken;</div><div class=\"line\"><span class=\"keyword\">var</span> source = CancelToken.source();</div><div class=\"line\"></div><div class=\"line\">axios.get(<span class=\"string\">'/user/12345'</span>,&#123;</div><div class=\"line\">  cancelToken: source.token</div><div class=\"line\">&#125;).catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">thrown</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(axios.isCancel(thrown))&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Request canceled'</span>,thrown.message);</div><div class=\"line\">  &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">    <span class=\"comment\">//handle error</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">source.cance(<span class=\"string\">\"\"</span>);</div></pre></td></tr></table></figure></p>\n<p>2cancelTokenexecutor functioncancel token:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cancelToken = axios.CancelToken;</div><div class=\"line\"><span class=\"keyword\">var</span> cance;</div><div class=\"line\">axios.get(<span class=\"string\">'/user/12345'</span>,&#123;</div><div class=\"line\">  cancelToken: <span class=\"keyword\">new</span> CancelToken(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">c</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//executorcancel function</span></div><div class=\"line\">    cancel = c;</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">cancel();</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p> application/x-www-form-urlencoded ,axiosjs JSON  application/x-wwww-form-urlencoded  URLSearchParams API:</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> params = <span class=\"keyword\">new</span> URLSearchParams();</div><div class=\"line\">params.append(<span class=\"string\">'param1'</span>,<span class=\"string\">'value1'</span>);</div><div class=\"line\">params.append(<span class=\"string\">'param2'</span>,<span class=\"string\">'value2'</span>);</div><div class=\"line\">axios.post(<span class=\"string\">'/foo'</span>,params);</div></pre></td></tr></table></figure>\n<blockquote>\n<p><font color=\"red\">URLSearchParams </font>,polyfill,</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> qs = <span class=\"built_in\">require</span>(<span class=\"string\">'qs'</span>);</div><div class=\"line\">axios.post(<span class=\"string\">'/foo'</span>, qs.stringify(&#123;<span class=\"string\">'bar'</span>:<span class=\"number\">123</span>&#125;));</div></pre></td></tr></table></figure>\n<blockquote>\n<p>nodequerystring</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> querystring = <span class=\"built_in\">require</span>(<span class=\"string\">'querystring'</span>);</div><div class=\"line\">axios.post(<span class=\"string\">'http://something.com/'</span>, querystring.stringify(&#123;<span class=\"attr\">foo</span>:<span class=\"string\">'bar'</span>&#125;));</div></pre></td></tr></table></figure>\n<blockquote>\n<p>axios ES6 Promise es6-promise</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p>axios4.2Promiseaxiosvue</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'es6-promise'</span>).polyfill();</div></pre></td></tr></table></figure>\n<blockquote>\n<p>GET</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//ID</span></div><div class=\"line\">axios.get(<span class=\"string\">'/user?ID=12345'</span>)</div><div class=\"line\">  .then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(response);</div><div class=\"line\">  &#125;)</div><div class=\"line\">  .catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(err);</div><div class=\"line\">  &#125;);</div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">axios.get(<span class=\"string\">'/user'</span>,&#123;</div><div class=\"line\">  params:&#123;</div><div class=\"line\">    ID:<span class=\"number\">12345</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;)</div><div class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">response</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(response);</div><div class=\"line\">&#125;)</div><div class=\"line\">.catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>","more":"<blockquote>\n<p>POST</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.post(<span class=\"string\">'/user'</span>,&#123;</div><div class=\"line\">  firstName:<span class=\"string\">'Fred'</span>,</div><div class=\"line\">  lastName:<span class=\"string\">'Flintstone'</span></div><div class=\"line\">&#125;)</div><div class=\"line\">.then(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(res);</div><div class=\"line\">&#125;)</div><div class=\"line\">.catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserAccount</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> axios.get(<span class=\"string\">'/user/12345'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUserPermissions</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> axios.get(<span class=\"string\">'/user/12345/permissions'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\">axios.all([getUserAccount(),getUserPermissions()])</div><div class=\"line\">  .then(axios.spread(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">acct,perms</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">  &#125;))</div></pre></td></tr></table></figure>\n<blockquote>\n<p>axiosconfig</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//`POST`</span></div><div class=\"line\">axios(&#123;</div><div class=\"line\">    method:<span class=\"string\">\"POST\"</span>,</div><div class=\"line\">    url:<span class=\"string\">'/user/12345'</span>,</div><div class=\"line\">    data:&#123;</div><div class=\"line\">        firstName:<span class=\"string\">\"Fred\"</span>,</div><div class=\"line\">        lastName:<span class=\"string\">\"Flintstone\"</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p>,url,method,data</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.request(config);</div><div class=\"line\">axios.get(url[,config]);</div><div class=\"line\">axios.delete(url[,config]);</div><div class=\"line\">axios.head(url[,config]);</div><div class=\"line\">axios.post(url[,data[,config]]);</div><div class=\"line\">axios.put(url[,data[,config]])</div><div class=\"line\">axios.patch(url[,data[,config]])</div></pre></td></tr></table></figure>\n<blockquote>\n<p>concurrency,</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//iterable</span></div><div class=\"line\">axios.all(iterable)</div><div class=\"line\"><span class=\"comment\">//callback</span></div><div class=\"line\">axios.spread(callback)</div></pre></td></tr></table></figure>\n<blockquote>\n<p>axios</p>\n</blockquote>\n<p>1axios.create([config])<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create(&#123;</div><div class=\"line\">  baseURL:<span class=\"string\">\"https://some-domain.com/api/\"</span>,</div><div class=\"line\">  timeout:<span class=\"number\">1000</span>,</div><div class=\"line\">  headers: &#123;<span class=\"string\">'X-Custom-Header'</span>:<span class=\"string\">'foobar'</span>&#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>2create<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios#request(config)</div><div class=\"line\">axios#get(url[,config])</div><div class=\"line\">axios#delete(url[,config])</div><div class=\"line\">axios#head(url[,config])</div><div class=\"line\">axios#post(url[,data[,config]])</div><div class=\"line\">axios#put(url[,data[,config]])</div><div class=\"line\">axios#patch(url[,data[,config]])</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p>request configurlmethodGET</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"comment\">//`url`</span></div><div class=\"line\">  url:<span class=\"string\">'/user'</span>,</div><div class=\"line\">  <span class=\"comment\">//`method`</span></div><div class=\"line\">  method:<span class=\"string\">'get'</span><span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`url``baseURL``url`</span></div><div class=\"line\">  <span class=\"comment\">//`url``baseURL`</span></div><div class=\"line\">  baseURL:<span class=\"string\">'https://some-domain.com/api/'</span>,</div><div class=\"line\">  <span class=\"comment\">//`transformRequest`</span></div><div class=\"line\">  <span class=\"comment\">//`put/post/patch`</span></div><div class=\"line\">  <span class=\"comment\">//-`ArrayBuffer``Stream`</span></div><div class=\"line\">  transformRequest:[<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    <span class=\"keyword\">return</span> data;</div><div class=\"line\">  &#125;],</div><div class=\"line\">  <span class=\"comment\">//`transformResponse``then/catch`</span></div><div class=\"line\">  transformResponse:[<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    <span class=\"keyword\">return</span> data;</div><div class=\"line\">  &#125;],</div><div class=\"line\">  <span class=\"comment\">//`headers`</span></div><div class=\"line\">  headers: &#123;<span class=\"string\">'X-Requested-With'</span>:<span class=\"string\">'XMLHttpRequest'</span>&#125;,</div><div class=\"line\">  <span class=\"comment\">//`params`----URL</span></div><div class=\"line\">  <span class=\"comment\">//URLSearchParams</span></div><div class=\"line\">  params: &#123;</div><div class=\"line\">    ID:<span class=\"number\">12345</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`paramsSerializer`params</span></div><div class=\"line\">  <span class=\"comment\">//(https://www.npmjs.com/package/qs,http://api.jquery.com/jquery.param)</span></div><div class=\"line\">  paramsSerializer: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">params</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> Qs.stringify(params,&#123;<span class=\"attr\">arrayFormat</span>:<span class=\"string\">'brackets'</span>&#125;)</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`data`</span></div><div class=\"line\">  <span class=\"comment\">//`put/post/patch`</span></div><div class=\"line\">  <span class=\"comment\">//`transformRequest`dada</span></div><div class=\"line\">  <span class=\"comment\">//string/plain/object/ArrayBuffer/ArrayBufferView/URLSearchParams</span></div><div class=\"line\">  <span class=\"comment\">//FormData/File/Bold</span></div><div class=\"line\">  <span class=\"comment\">//node:Stream</span></div><div class=\"line\">  data &#123;</div><div class=\"line\">    firstName:<span class=\"string\">\"Fred\"</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`timeout`</span></div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\"></div><div class=\"line\">  timeout:<span class=\"number\">1000</span>,</div><div class=\"line\">  <span class=\"comment\">//`withCredentails`</span></div><div class=\"line\">  </div><div class=\"line\">  withCredentials:<span class=\"literal\">false</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`adapter`</span></div><div class=\"line\">  <span class=\"comment\">//promise,</span></div><div class=\"line\">  adapter: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">config</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">/*..........*/</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`auth`HTTP</span></div><div class=\"line\">  <span class=\"comment\">//authorizationheader,headerAuthorization</span></div><div class=\"line\">  auth: &#123;</div><div class=\"line\">    username:<span class=\"string\">\"zhangsan\"</span>,</div><div class=\"line\">    password: <span class=\"string\">\"s00sdkf\"</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"comment\">//arraybuffer,blob,document,json,text,stream</span></div><div class=\"line\">  responseType:<span class=\"string\">'json'</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  xsrfCookieName: <span class=\"string\">'XSRF-TOKEN'</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  xsrfHeaderName:<span class=\"string\">'X-XSRF-TOKEN'</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`onUploadProgress`</span></div><div class=\"line\">  onUploadProgress:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">progressEvent</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">onDownloadProgress:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">progressEvent</span>)</span>&#123;</div><div class=\"line\">&#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  maxContentLength:<span class=\"number\">2000</span>,</div><div class=\"line\">  <span class=\"comment\">//`validateStatus`httpresolvereject promise</span></div><div class=\"line\">  <span class=\"comment\">//`validateStatus`true(`null``undefined`),promiseresolved,rejected</span></div><div class=\"line\">  validateStatus:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">status</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> status &gt;= <span class=\"number\">200</span> &amp;&amp; status &lt;<span class=\"number\">300</span>;<span class=\"comment\">//default</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`maxRedirects`nodejs</span></div><div class=\"line\">  maxRedirects: <span class=\"number\">5</span>,<span class=\"comment\">//default</span></div><div class=\"line\">  <span class=\"comment\">//`httpAgent/httpsAgent`http/https</span></div><div class=\"line\">  <span class=\"comment\">//keeyAlive</span></div><div class=\"line\">  httpAgent: <span class=\"keyword\">new</span> http.Agent(&#123;<span class=\"attr\">keeyAlive</span>:<span class=\"literal\">true</span>&#125;),</div><div class=\"line\">  httpsAgent: <span class=\"keyword\">new</span> https.Agent(&#123;<span class=\"attr\">keeyAlive</span>:<span class=\"literal\">true</span>&#125;),</div><div class=\"line\">  <span class=\"comment\">//proxy</span></div><div class=\"line\">  <span class=\"comment\">//`auth`httpproxy</span></div><div class=\"line\">  <span class=\"comment\">//`Proxy-Authorization` header,`Proxy-Authorization`  header</span></div><div class=\"line\">  proxy: &#123;</div><div class=\"line\">    host:<span class=\"string\">'127.0.0.1'</span>,</div><div class=\"line\">    port: <span class=\"number\">9000</span>,</div><div class=\"line\">    auth: &#123;</div><div class=\"line\">      username:<span class=\"string\">'skda'</span>,</div><div class=\"line\">      password:<span class=\"string\">'radsd'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"comment\">//`cancelToken`cancel token</span></div><div class=\"line\">  <span class=\"comment\">//cancelation</span></div><div class=\"line\">  cancelToken: <span class=\"keyword\">new</span> cancelToken(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">cancel</span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"> &#123;</div><div class=\"line\">  data:&#123;&#125;,</div><div class=\"line\">  status:<span class=\"number\">200</span>,</div><div class=\"line\">  <span class=\"comment\">//http</span></div><div class=\"line\">  statusText:<span class=\"string\">'OK'</span>,</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  headers: &#123;&#125;,</div><div class=\"line\">  <span class=\"comment\">//`config`</span></div><div class=\"line\">  config: &#123;&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p></p>\n</blockquote>\n<p>1<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.defaults.baseURL = <span class=\"string\">'http://api.exmple.com'</span>;</div><div class=\"line\">axios.defaults.headers.common[<span class=\"string\">'Authorization'</span>] = AUTH_TOKEN;</div><div class=\"line\">axios.defaults.headers.post[<span class=\"string\">'content-Type'</span>] = <span class=\"string\">'appliction/x-www-form-urlencoded'</span>;</div></pre></td></tr></table></figure></p>\n<p>2<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create(&#123;</div><div class=\"line\">    baseURL: <span class=\"string\">'https://api.example.com'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">instance.defaults.headers.common[<span class=\"string\">\"Authorization\"</span>] = AUTH_TOKEN;</div></pre></td></tr></table></figure></p>\n<p>3configlib/defauts.jsconfig<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//libray</span></div><div class=\"line\"><span class=\"comment\">//timeout0libray</span></div><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create();</div><div class=\"line\"><span class=\"comment\">//library</span></div><div class=\"line\"><span class=\"comment\">//2.5S</span></div><div class=\"line\">instance.defaults.timeout = <span class=\"number\">2500</span>;</div><div class=\"line\"><span class=\"comment\">//timeout2.5S5s</span></div><div class=\"line\">instance.get(<span class=\"string\">'/longRequest'</span>,&#123;</div><div class=\"line\">  timeout: <span class=\"number\">5000</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>1then/catch<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">axios.interceptors.request.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">config</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"keyword\">return</span> config;</div><div class=\"line\">&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//Do something with request error</span></div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.reject(error);</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">axios.interceptors.response.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"keyword\">return</span> res;</div><div class=\"line\">&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">//Do something with response error</span></div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.reject(error);</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure></p>\n<p>2<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> myInterceptor = axios.interceptor.request.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;<span class=\"comment\">/*....*/</span>&#125;);</div><div class=\"line\">axios.interceptors.request.eject(myInterceptor);</div></pre></td></tr></table></figure></p>\n<p>3axios<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> instance = axios.create();</div><div class=\"line\">instance.interceptors.request.use(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;&#125;)</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.get(<span class=\"string\">'/user/12345'</span>)</div><div class=\"line\">  .catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(error.response)&#123;</div><div class=\"line\">      <span class=\"comment\">//2xx</span></div><div class=\"line\">      <span class=\"built_in\">console</span>.log(error.response.data);</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(error.response.status);</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(error.response.header);</div><div class=\"line\">    &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">      <span class=\"comment\">//</span></div><div class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'Error'</span>,error.message);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(error.config);</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p>,cancel token</p>\n</blockquote>\n<p>1CancelToken.sourcecancel token<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> CancelToken = axios.CancelToken;</div><div class=\"line\"><span class=\"keyword\">var</span> source = CancelToken.source();</div><div class=\"line\"></div><div class=\"line\">axios.get(<span class=\"string\">'/user/12345'</span>,&#123;</div><div class=\"line\">  cancelToken: source.token</div><div class=\"line\">&#125;).catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">thrown</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(axios.isCancel(thrown))&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Request canceled'</span>,thrown.message);</div><div class=\"line\">  &#125;<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">    <span class=\"comment\">//handle error</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">source.cance(<span class=\"string\">\"\"</span>);</div></pre></td></tr></table></figure></p>\n<p>2cancelTokenexecutor functioncancel token:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cancelToken = axios.CancelToken;</div><div class=\"line\"><span class=\"keyword\">var</span> cance;</div><div class=\"line\">axios.get(<span class=\"string\">'/user/12345'</span>,&#123;</div><div class=\"line\">  cancelToken: <span class=\"keyword\">new</span> CancelToken(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">c</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//executorcancel function</span></div><div class=\"line\">    cancel = c;</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">cancel();</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p> application/x-www-form-urlencoded ,axiosjs JSON  application/x-wwww-form-urlencoded  URLSearchParams API:</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> params = <span class=\"keyword\">new</span> URLSearchParams();</div><div class=\"line\">params.append(<span class=\"string\">'param1'</span>,<span class=\"string\">'value1'</span>);</div><div class=\"line\">params.append(<span class=\"string\">'param2'</span>,<span class=\"string\">'value2'</span>);</div><div class=\"line\">axios.post(<span class=\"string\">'/foo'</span>,params);</div></pre></td></tr></table></figure>\n<blockquote>\n<p><font color=\"red\">URLSearchParams </font>,polyfill,</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> qs = <span class=\"built_in\">require</span>(<span class=\"string\">'qs'</span>);</div><div class=\"line\">axios.post(<span class=\"string\">'/foo'</span>, qs.stringify(&#123;<span class=\"string\">'bar'</span>:<span class=\"number\">123</span>&#125;));</div></pre></td></tr></table></figure>\n<blockquote>\n<p>nodequerystring</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> querystring = <span class=\"built_in\">require</span>(<span class=\"string\">'querystring'</span>);</div><div class=\"line\">axios.post(<span class=\"string\">'http://something.com/'</span>, querystring.stringify(&#123;<span class=\"attr\">foo</span>:<span class=\"string\">'bar'</span>&#125;));</div></pre></td></tr></table></figure>\n<blockquote>\n<p>axios ES6 Promise es6-promise</p>\n</blockquote>"},{"title":"React--React","comments":1,"toc":true,"date":"2017-06-11T13:09:11.000Z","_content":"\n### jQuery\n\nReactjQueryjQueryonclick\n{% codeblock lang:html %}\n<div>\n  <button type=\"btn\" id=\"btn\"></button>\n</div> \n<script>\n  $(function(){\n    $(\"#btn\").click(fucntion(){\n      // do some things\n    })\n  })\n</script>\n{% endcodeblock %}\njQuerycssidbtnDOMDOM\n\njQuery\n\n<!-- more -->\n\n### React\n\nreactdomdomreactdomrenderdatareact\n\n### Virtual DOM\n\nhtmlDOMDOMDOMjshtmljscreateElement'Button'DocumentFragmentDOMDOM\n\n{% codeblock lang:javascript %}\nvar frag=document.createDocumentFragment();\nfor(var i=0;i<10;i++){\n   var l=document.createElement(\"li\");\n   l.innerHTML=\"ss\";\n   frag.appendChild(l);\n}\ndocument.getElementById(\"list\").appendChild(frag);\n{% endcodeblock %}\n\nReactDOMDOMjsDOMDOMDOMjavascript\n{% codeblock lang:javascript %}\nvar a = {\n  type: 'a',\n  props: {\n    children: 'React',\n    className: 'link',\n    href: 'facebook/react  GitHub'\n  },\n  _isReactElement: true\n}\n\nReact.render(a, document.body)\n{% endcodeblock %}\n\nDOMdiff\n* JSDOM\n* DOM\n* DOM\nreactdiffDOMDOMdiffreact\n\n### React\n\njqueryjquery\n\n<img width=\"400\" src=\"2017-06-11/01.jpeg\" title=\"jquery\"/>\n\nreactreactDOMReactreact\n\n<img width=\"400\" src=\"2017-06-11/02.jpeg\" title=\"react\"/>\n\nreactReact\n\n\n\n","source":"_posts/2017-06-11.md","raw":"---\ntitle: React--React\ncomments: true\ntoc: true\ndate: 2017-06-11 21:09:11\ntags: \n    - 'javascript'\n    - 'react'\n---\n\n### jQuery\n\nReactjQueryjQueryonclick\n{% codeblock lang:html %}\n<div>\n  <button type=\"btn\" id=\"btn\"></button>\n</div> \n<script>\n  $(function(){\n    $(\"#btn\").click(fucntion(){\n      // do some things\n    })\n  })\n</script>\n{% endcodeblock %}\njQuerycssidbtnDOMDOM\n\njQuery\n\n<!-- more -->\n\n### React\n\nreactdomdomreactdomrenderdatareact\n\n### Virtual DOM\n\nhtmlDOMDOMDOMjshtmljscreateElement'Button'DocumentFragmentDOMDOM\n\n{% codeblock lang:javascript %}\nvar frag=document.createDocumentFragment();\nfor(var i=0;i<10;i++){\n   var l=document.createElement(\"li\");\n   l.innerHTML=\"ss\";\n   frag.appendChild(l);\n}\ndocument.getElementById(\"list\").appendChild(frag);\n{% endcodeblock %}\n\nReactDOMDOMjsDOMDOMDOMjavascript\n{% codeblock lang:javascript %}\nvar a = {\n  type: 'a',\n  props: {\n    children: 'React',\n    className: 'link',\n    href: 'facebook/react  GitHub'\n  },\n  _isReactElement: true\n}\n\nReact.render(a, document.body)\n{% endcodeblock %}\n\nDOMdiff\n* JSDOM\n* DOM\n* DOM\nreactdiffDOMDOMdiffreact\n\n### React\n\njqueryjquery\n\n<img width=\"400\" src=\"2017-06-11/01.jpeg\" title=\"jquery\"/>\n\nreactreactDOMReactreact\n\n<img width=\"400\" src=\"2017-06-11/02.jpeg\" title=\"react\"/>\n\nreactReact\n\n\n\n","slug":"2017-06-11","published":1,"updated":"2017-09-02T13:02:32.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1hk0006svld785nah9l","content":"<h3 id=\"jQuery\"><a href=\"#jQuery\" class=\"headerlink\" title=\"jQuery\"></a>jQuery</h3><p>ReactjQueryjQueryonclick<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"btn\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"btn\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> </div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  $(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">    $(<span class=\"string\">\"#btn\"</span>).click(fucntion()&#123;</span></div><div class=\"line\"><span class=\"javascript\">      <span class=\"comment\">// do some things</span></span></div><div class=\"line\"><span class=\"undefined\">    &#125;)</span></div><div class=\"line\"><span class=\"undefined\">  &#125;)</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure><br>jQuerycssidbtnDOMDOM</p>\n<p>jQuery</p>\n<a id=\"more\"></a>\n<h3 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h3><p>reactdomdomreactdomrenderdatareact</p>\n<h3 id=\"Virtual-DOM\"><a href=\"#Virtual-DOM\" class=\"headerlink\" title=\"Virtual DOM\"></a>Virtual DOM</h3><p>htmlDOMDOMDOMjshtmljscreateElementButtonDocumentFragmentDOMDOM</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> frag=<span class=\"built_in\">document</span>.createDocumentFragment();</div><div class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">10</span>;i++)&#123;</div><div class=\"line\">   <span class=\"keyword\">var</span> l=<span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"li\"</span>);</div><div class=\"line\">   l.innerHTML=<span class=\"string\">\"ss\"</span>;</div><div class=\"line\">   frag.appendChild(l);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"list\"</span>).appendChild(frag);</div></pre></td></tr></table></figure>\n<p>ReactDOMDOMjsDOMDOMDOMjavascript<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> a = &#123;</div><div class=\"line\">  type: <span class=\"string\">'a'</span>,</div><div class=\"line\">  props: &#123;</div><div class=\"line\">    children: <span class=\"string\">'React'</span>,</div><div class=\"line\">    className: <span class=\"string\">'link'</span>,</div><div class=\"line\">    href: <span class=\"string\">'facebook/react  GitHub'</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  _isReactElement: <span class=\"literal\">true</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">React.render(a, <span class=\"built_in\">document</span>.body)</div></pre></td></tr></table></figure></p>\n<p>DOMdiff</p>\n<ul>\n<li>JSDOM</li>\n<li>DOM</li>\n<li>DOM<br>reactdiffDOMDOMdiffreact</li>\n</ul>\n<h3 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h3><p>jqueryjquery</p>\n<p><img width=\"400\" src=\"/2017-06-11/01.jpeg\" title=\"jquery\"></p>\n<p>reactreactDOMReactreact</p>\n<p><img width=\"400\" src=\"/2017-06-11/02.jpeg\" title=\"react\"></p>\n<p>reactReact</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"jQuery\"><a href=\"#jQuery\" class=\"headerlink\" title=\"jQuery\"></a>jQuery</h3><p>ReactjQueryjQueryonclick<br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"btn\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"btn\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> </div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  $(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">    $(<span class=\"string\">\"#btn\"</span>).click(fucntion()&#123;</span></div><div class=\"line\"><span class=\"javascript\">      <span class=\"comment\">// do some things</span></span></div><div class=\"line\"><span class=\"undefined\">    &#125;)</span></div><div class=\"line\"><span class=\"undefined\">  &#125;)</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure><br>jQuerycssidbtnDOMDOM</p>\n<p>jQuery</p>","more":"<h3 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h3><p>reactdomdomreactdomrenderdatareact</p>\n<h3 id=\"Virtual-DOM\"><a href=\"#Virtual-DOM\" class=\"headerlink\" title=\"Virtual DOM\"></a>Virtual DOM</h3><p>htmlDOMDOMDOMjshtmljscreateElementButtonDocumentFragmentDOMDOM</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> frag=<span class=\"built_in\">document</span>.createDocumentFragment();</div><div class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">10</span>;i++)&#123;</div><div class=\"line\">   <span class=\"keyword\">var</span> l=<span class=\"built_in\">document</span>.createElement(<span class=\"string\">\"li\"</span>);</div><div class=\"line\">   l.innerHTML=<span class=\"string\">\"ss\"</span>;</div><div class=\"line\">   frag.appendChild(l);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"list\"</span>).appendChild(frag);</div></pre></td></tr></table></figure>\n<p>ReactDOMDOMjsDOMDOMDOMjavascript<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> a = &#123;</div><div class=\"line\">  type: <span class=\"string\">'a'</span>,</div><div class=\"line\">  props: &#123;</div><div class=\"line\">    children: <span class=\"string\">'React'</span>,</div><div class=\"line\">    className: <span class=\"string\">'link'</span>,</div><div class=\"line\">    href: <span class=\"string\">'facebook/react  GitHub'</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  _isReactElement: <span class=\"literal\">true</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">React.render(a, <span class=\"built_in\">document</span>.body)</div></pre></td></tr></table></figure></p>\n<p>DOMdiff</p>\n<ul>\n<li>JSDOM</li>\n<li>DOM</li>\n<li>DOM<br>reactdiffDOMDOMdiffreact</li>\n</ul>\n<h3 id=\"React\"><a href=\"#React\" class=\"headerlink\" title=\"React\"></a>React</h3><p>jqueryjquery</p>\n<p><img width=\"400\" src=\"/2017-06-11/01.jpeg\" title=\"jquery\"></p>\n<p>reactreactDOMReactreact</p>\n<p><img width=\"400\" src=\"/2017-06-11/02.jpeg\" title=\"react\"></p>\n<p>reactReact</p>"},{"title":"React--JSX","comments":1,"date":"2017-06-10T13:09:11.000Z","_content":"\n### 1JSX\n\nJSX,javascriptXMLjavascriptHTML\n{% codeblock lang:javascript %}\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h2>Welcome to React</h2>\n        </div>\n      </div>\n    );\n  }\n}\n{% endcodeblock %}\nJSXHTMLdiv,buttonJSXHTML\n\n<!-- more -->\n>ReactHTNMLReactReactHTML\n\n{% codeblock lang:javascript %}\nclass App extends Component {\n  render() {\n    return (\n      <hello/> //html\n      <Hello/> //Hello\n    );\n  }\n}\n{% endcodeblock %}\n\n### 2\n\n\n{% codeblock lang:javascript %}\n  <button onclick=\"checkAndSubmit(this.form)\">Submit</button>\n{% endcodeblock %}\nDOMhtmljsDOM\n{% codeblock lang:javascript %}\n  $('#my-button').on('click', this.checkAndSubmit.bind(this));\n{% endcodeblock %}\nreactJSX\n{% codeblock lang:javascript %}\n  <button onClick={this.checkAndSubmit.bind(this)}>Submit</button>\n{% endcodeblock %}\n>JavaScriptJSXReactDOM<font color=\"red\">bindthisconstructorthisthis</font>\n\n### 3JSXhtml\n\n  <b>html</b>\n\n  1htmlonclick\n\n  2DOMonclick\n\n  3onclickDOMDOMbug\n\n  <b>JSX</b>\n\n  1JSXonclickhtmlonclickDOMDOMonclick\n\n  2jsxjsxdomhtmlcssjs\n{% codeblock lang:javascript %}\nclass App extends Component {\n  render() {\n    const Style = {\n      margin:'10px'\n    }\n    return (\n      <div style={Style}>\n        <p></p>\n      </div>\n    );\n  }\n}\n{% endcodeblock %}\n\n### 4JSX\n\nJSXBabelJSXWebpack\n{% codeblock lang:javascript %}\nmodule: {\n  loaders: [\n    { test: /\\.jsx?$/, loaders: ['babel-loader']}\n  ]\n}\n{% endcodeblock %}\n\nJSXhtmlReactVirtual DOM","source":"_posts/2017-06-10.md","raw":"---\ntitle: React--JSX\ncomments: true\ndate: 2017-06-10 21:09:11\ntags: \n    - 'javascript'\n    - 'react'\n---\n\n### 1JSX\n\nJSX,javascriptXMLjavascriptHTML\n{% codeblock lang:javascript %}\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h2>Welcome to React</h2>\n        </div>\n      </div>\n    );\n  }\n}\n{% endcodeblock %}\nJSXHTMLdiv,buttonJSXHTML\n\n<!-- more -->\n>ReactHTNMLReactReactHTML\n\n{% codeblock lang:javascript %}\nclass App extends Component {\n  render() {\n    return (\n      <hello/> //html\n      <Hello/> //Hello\n    );\n  }\n}\n{% endcodeblock %}\n\n### 2\n\n\n{% codeblock lang:javascript %}\n  <button onclick=\"checkAndSubmit(this.form)\">Submit</button>\n{% endcodeblock %}\nDOMhtmljsDOM\n{% codeblock lang:javascript %}\n  $('#my-button').on('click', this.checkAndSubmit.bind(this));\n{% endcodeblock %}\nreactJSX\n{% codeblock lang:javascript %}\n  <button onClick={this.checkAndSubmit.bind(this)}>Submit</button>\n{% endcodeblock %}\n>JavaScriptJSXReactDOM<font color=\"red\">bindthisconstructorthisthis</font>\n\n### 3JSXhtml\n\n  <b>html</b>\n\n  1htmlonclick\n\n  2DOMonclick\n\n  3onclickDOMDOMbug\n\n  <b>JSX</b>\n\n  1JSXonclickhtmlonclickDOMDOMonclick\n\n  2jsxjsxdomhtmlcssjs\n{% codeblock lang:javascript %}\nclass App extends Component {\n  render() {\n    const Style = {\n      margin:'10px'\n    }\n    return (\n      <div style={Style}>\n        <p></p>\n      </div>\n    );\n  }\n}\n{% endcodeblock %}\n\n### 4JSX\n\nJSXBabelJSXWebpack\n{% codeblock lang:javascript %}\nmodule: {\n  loaders: [\n    { test: /\\.jsx?$/, loaders: ['babel-loader']}\n  ]\n}\n{% endcodeblock %}\n\nJSXhtmlReactVirtual DOM","slug":"2017-06-10","published":1,"updated":"2017-09-02T13:03:20.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1hs0008svldfhsoibwp","content":"<h3 id=\"1JSX\"><a href=\"#1JSX\" class=\"headerlink\" title=\"1JSX\"></a>1JSX</h3><p>JSX,javascriptXMLjavascriptHTML<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</div><div class=\"line\">        &lt;div className=<span class=\"string\">\"App-header\"</span>&gt;</div><div class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</div><div class=\"line\">          &lt;h2&gt;Welcome to React&lt;<span class=\"regexp\">/h2&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;/</span>div&gt;</div><div class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    );</span></div><div class=\"line\"><span class=\"regexp\">  &#125;</span></div><div class=\"line\"><span class=\"regexp\">&#125;</span></div></pre></td></tr></table></figure><br>JSXHTMLdiv,buttonJSXHTML</p>\n<a id=\"more\"></a>\n<blockquote>\n<p>ReactHTNMLReactReactHTML</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;hello/&gt; <span class=\"comment\">//html</span></div><div class=\"line\">      &lt;Hello/&gt; <span class=\"comment\">//Hello</span></div><div class=\"line\">    );</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button onclick=<span class=\"string\">\"checkAndSubmit(this.form)\"</span>&gt;Submit&lt;<span class=\"regexp\">/button&gt;</span></div></pre></td></tr></table></figure><br>DOMhtmljsDOM<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">'#my-button'</span>).on(<span class=\"string\">'click'</span>, <span class=\"keyword\">this</span>.checkAndSubmit.bind(<span class=\"keyword\">this</span>));</div></pre></td></tr></table></figure><br>reactJSX<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button onClick=&#123;<span class=\"keyword\">this</span>.checkAndSubmit.bind(<span class=\"keyword\">this</span>)&#125;&gt;Submit&lt;<span class=\"regexp\">/button&gt;</span></div></pre></td></tr></table></figure></p>\n<blockquote>\n<p>JavaScriptJSXReactDOM<font color=\"red\">bindthisconstructorthisthis</font></p>\n</blockquote>\n<h3 id=\"3JSXhtml\"><a href=\"#3JSXhtml\" class=\"headerlink\" title=\"3JSXhtml\"></a>3JSXhtml</h3><p>  <b>html</b></p>\n<p>  1htmlonclick</p>\n<p>  2DOMonclick</p>\n<p>  3onclickDOMDOMbug</p>\n<p>  <b>JSX</b></p>\n<p>  1JSXonclickhtmlonclickDOMDOMonclick</p>\n<p>  2jsxjsxdomhtmlcssjs<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> Style = &#123;</div><div class=\"line\">      margin:<span class=\"string\">'10px'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div style=&#123;Style&#125;&gt;</div><div class=\"line\">        &lt;p&gt;&lt;<span class=\"regexp\">/p&gt;</span></div><div class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</div><div class=\"line\">    );</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"4JSX\"><a href=\"#4JSX\" class=\"headerlink\" title=\"4JSX\"></a>4JSX</h3><p>JSXBabelJSXWebpack<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">module</span>: &#123;</div><div class=\"line\">  loaders: [</div><div class=\"line\">    &#123; <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.jsx?$/</span>, <span class=\"attr\">loaders</span>: [<span class=\"string\">'babel-loader'</span>]&#125;</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>JSXhtmlReactVirtual DOM</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"1JSX\"><a href=\"#1JSX\" class=\"headerlink\" title=\"1JSX\"></a>1JSX</h3><p>JSX,javascriptXMLjavascriptHTML<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</div><div class=\"line\">        &lt;div className=<span class=\"string\">\"App-header\"</span>&gt;</div><div class=\"line\">          &lt;img src=&#123;logo&#125; className=<span class=\"string\">\"App-logo\"</span> alt=<span class=\"string\">\"logo\"</span> /&gt;</div><div class=\"line\">          &lt;h2&gt;Welcome to React&lt;<span class=\"regexp\">/h2&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;/</span>div&gt;</div><div class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    );</span></div><div class=\"line\"><span class=\"regexp\">  &#125;</span></div><div class=\"line\"><span class=\"regexp\">&#125;</span></div></pre></td></tr></table></figure><br>JSXHTMLdiv,buttonJSXHTML</p>","more":"<blockquote>\n<p>ReactHTNMLReactReactHTML</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;hello/&gt; <span class=\"comment\">//html</span></div><div class=\"line\">      &lt;Hello/&gt; <span class=\"comment\">//Hello</span></div><div class=\"line\">    );</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button onclick=<span class=\"string\">\"checkAndSubmit(this.form)\"</span>&gt;Submit&lt;<span class=\"regexp\">/button&gt;</span></div></pre></td></tr></table></figure><br>DOMhtmljsDOM<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">'#my-button'</span>).on(<span class=\"string\">'click'</span>, <span class=\"keyword\">this</span>.checkAndSubmit.bind(<span class=\"keyword\">this</span>));</div></pre></td></tr></table></figure><br>reactJSX<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button onClick=&#123;<span class=\"keyword\">this</span>.checkAndSubmit.bind(<span class=\"keyword\">this</span>)&#125;&gt;Submit&lt;<span class=\"regexp\">/button&gt;</span></div></pre></td></tr></table></figure></p>\n<blockquote>\n<p>JavaScriptJSXReactDOM<font color=\"red\">bindthisconstructorthisthis</font></p>\n</blockquote>\n<h3 id=\"3JSXhtml\"><a href=\"#3JSXhtml\" class=\"headerlink\" title=\"3JSXhtml\"></a>3JSXhtml</h3><p>  <b>html</b></p>\n<p>  1htmlonclick</p>\n<p>  2DOMonclick</p>\n<p>  3onclickDOMDOMbug</p>\n<p>  <b>JSX</b></p>\n<p>  1JSXonclickhtmlonclickDOMDOMonclick</p>\n<p>  2jsxjsxdomhtmlcssjs<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> Style = &#123;</div><div class=\"line\">      margin:<span class=\"string\">'10px'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div style=&#123;Style&#125;&gt;</div><div class=\"line\">        &lt;p&gt;&lt;<span class=\"regexp\">/p&gt;</span></div><div class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</div><div class=\"line\">    );</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"4JSX\"><a href=\"#4JSX\" class=\"headerlink\" title=\"4JSX\"></a>4JSX</h3><p>JSXBabelJSXWebpack<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">module</span>: &#123;</div><div class=\"line\">  loaders: [</div><div class=\"line\">    &#123; <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.jsx?$/</span>, <span class=\"attr\">loaders</span>: [<span class=\"string\">'babel-loader'</span>]&#125;</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>JSXhtmlReactVirtual DOM</p>"},{"title":"webworker","comments":1,"date":"2017-05-07T13:09:11.000Z","_content":"\n### webWorker\n\n\"setTimeout\"JavaScript\n\nJavaScriptDOMDOMDOM?\n\nJavaScript\n\n<!-- more -->\n\n\n\n\n{% codeblock lang:html %}\n<!DOCTYPE html>\n    <head>\n        <title>singleThread</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n    </head>\n    <body>\n        <script>\n            //1\n            setTimeout(function(){\n                console.log('come on');\n            },1000);\n            //alert\n            alert('waiting');\n        </script>\n    </body>\n</html>\n{% endcodeblock %}\n\nHTML5webWorker\n\nJavaScriptDOM\n\nwebWorker\n\n\n\n{% codeblock lang:html %}\n<!DOCTYPE html>\n    <head>\n        <title>worker</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n        <script>\n            function init(){\n                //Workerurl\n                var worker = new Worker('worker.js');\n                //worker\n                worker.onmessage = function(event){\n                    document.getElementById('result').innerHTML+=event.data+\"<br/>\" ;\n                };\n            };\n        </script>\n    </head>\n    <body onload = \"init()\">\n        <div id=\"result\"></div>\n    </body>\n</html>\n{% endcodeblock %}\n\nworker.js:\n\n{% codeblock lang:javascript %}\nvar i = 0;\nfunction timedCount(){\n    for(var j = 0, sum = 0; j < 100; j++){\n        for(var i = 0; i < 100000000; i++){\n            sum+=i;\n        };\n    };\n    //sum\n    postMessage(sum);\n};\n//timedCountpostMessage\npostMessage('Before computing, '+new Date());\ntimedCount();\n//timedCount\npostMessage('After computing, ' +new Date());\n{% endcodeblock %}\n\n\nworkeronmessageworker.jspostMessage(event.data)div#result\n\n\n\n![1](/webworker/1.png)\n\nworker.jstimedCountpostMessage\n\n![2](webworker/2.png)\n\n\n\n### webWorker\n\nworkerAPI\n\n#### 1postMessage(data)\n\ndata\n\n{% codeblock lang:javascript %}\n//worker = new Worker('url');\n//worker.postMessage\nworker.postMessage({first:1,second:2});\n\n//postMessage\npostMessage(test);\n{% endcodeblock %}\n\n#### 2terminate()\n\nworkerterminate\n\n{% codeblock lang:javascript %}\n//worker = new Worker('url');\nworker.terminate();\n{% endcodeblock %} \n\n\n\n{% codeblock lang:html %}\n<!DOCTYPE html>\n    <head>\n        <title>worker</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n        <script>\n            function init(){\n                var worker = new Worker('worker.js');\n                //100{name: 'monkey'}\n                setInterval(function(){\n                    worker.postMessage({name: 'monkey'});\n                },100);\n                //workermessage\n                worker.onmessage = function(event){\n                    document.getElementById('result').innerHTML+=event.data+\"<br/>\" ;\n                    //terminateevent.data\n                    worker.terminate();\n                };\n            };\n        </script>\n    </head>\n    <body onload = \"init()\">\n        <div id=\"result\"></div>\n    </body>\n</html>\n{% endcodeblock %} \n\nworker.js\n\n{% codeblock lang:javascript %}\n<script>\n//message\nonmessage = function(event){\n    //event.data.name\n    postMessage(event.data.name);\n};\n</script>\n{% endcodeblock %} \n\n#### 3message\n\ndata\n\nmessageterminatedemo\n\n#### 4error\n\ne.message\n\n\n\n{% codeblock lang:javascript %}\n//worker = new Worker('url');\nworker.onerror = function(e){\n    //\n    console.log(e.message);\n    //\n    worker.terminate();\n}\n{% endcodeblock %} \n\nworkerworkermessageworkerterminatecloseworker\n\n### worker\n\n\n\n\n{% codeblock lang:javascript %}\n<!DOCTYPE html>\n    <head>\n        <title>worker</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n        <script>\n            function init(){\n                var worker = new Worker('worker.js');\n                //\n                worker.onmessage = function(event){\n                    console.log(event.data);\n                };\n                //\n                worker.onerror = function(e){\n                    console.log('erro: ' + e.message);\n                    //\n                    worker.terminate();\n                };\n            };\n        </script>\n    </head>\n    <body onload = \"init()\">\n        \n    </body>\n</html>\n{% endcodeblock %}\n\nworker.js\n\n{% codeblock lang:javascript %}\n//windowalert\nalert(1);\nonmessage = function(event){\n    //event.data.name\n    postMessage(event.data.name);\n};\n{% endcodeblock %}\n\n\n\n![3](webworker/3.png)\n\n\nalertwindowundefined\n\nworker.jshtmlwindowwoker.jsWorkerGlobalScopewindowwindowDOM APIsetTimeoutsetInterval\nWorkerGlobalScope\n\n#### 1self\n\n WorkerGlobalScope  self \n\n#### 2location\n\nlocation  WorkerLocation  URL URL \n\n#### 3close\n\nterminate\n\n#### 4importScripts\n\nimportScripts()urlworker\n\n#### 5XMLHttpRequest\n\nAjax\n\n#### 6setTimeout/setIntervaladdEventListener/postMessage\n\n### worker\n\n\n1.JSpostMessageonmessage\n\n2.workerimportScripts(url)\n\n3. setTimeout(), clearTimeout(), setInterval(), and clearInterval()\n\n4.XMLHttpRequest\n\n5.navigator\n\n\n\n1.JS\n\n2.workerDOM\n\n3.WorkerFFworkerworker,Chrome\n\n4.IE","source":"_posts/2017-05-07.md","raw":"---\ntitle: webworker\ncomments: true\ndate: 2017-05-07 21:09:11\ntags: \n    - 'javascript'\n---\n\n### webWorker\n\n\"setTimeout\"JavaScript\n\nJavaScriptDOMDOMDOM?\n\nJavaScript\n\n<!-- more -->\n\n\n\n\n{% codeblock lang:html %}\n<!DOCTYPE html>\n    <head>\n        <title>singleThread</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n    </head>\n    <body>\n        <script>\n            //1\n            setTimeout(function(){\n                console.log('come on');\n            },1000);\n            //alert\n            alert('waiting');\n        </script>\n    </body>\n</html>\n{% endcodeblock %}\n\nHTML5webWorker\n\nJavaScriptDOM\n\nwebWorker\n\n\n\n{% codeblock lang:html %}\n<!DOCTYPE html>\n    <head>\n        <title>worker</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n        <script>\n            function init(){\n                //Workerurl\n                var worker = new Worker('worker.js');\n                //worker\n                worker.onmessage = function(event){\n                    document.getElementById('result').innerHTML+=event.data+\"<br/>\" ;\n                };\n            };\n        </script>\n    </head>\n    <body onload = \"init()\">\n        <div id=\"result\"></div>\n    </body>\n</html>\n{% endcodeblock %}\n\nworker.js:\n\n{% codeblock lang:javascript %}\nvar i = 0;\nfunction timedCount(){\n    for(var j = 0, sum = 0; j < 100; j++){\n        for(var i = 0; i < 100000000; i++){\n            sum+=i;\n        };\n    };\n    //sum\n    postMessage(sum);\n};\n//timedCountpostMessage\npostMessage('Before computing, '+new Date());\ntimedCount();\n//timedCount\npostMessage('After computing, ' +new Date());\n{% endcodeblock %}\n\n\nworkeronmessageworker.jspostMessage(event.data)div#result\n\n\n\n![1](/webworker/1.png)\n\nworker.jstimedCountpostMessage\n\n![2](webworker/2.png)\n\n\n\n### webWorker\n\nworkerAPI\n\n#### 1postMessage(data)\n\ndata\n\n{% codeblock lang:javascript %}\n//worker = new Worker('url');\n//worker.postMessage\nworker.postMessage({first:1,second:2});\n\n//postMessage\npostMessage(test);\n{% endcodeblock %}\n\n#### 2terminate()\n\nworkerterminate\n\n{% codeblock lang:javascript %}\n//worker = new Worker('url');\nworker.terminate();\n{% endcodeblock %} \n\n\n\n{% codeblock lang:html %}\n<!DOCTYPE html>\n    <head>\n        <title>worker</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n        <script>\n            function init(){\n                var worker = new Worker('worker.js');\n                //100{name: 'monkey'}\n                setInterval(function(){\n                    worker.postMessage({name: 'monkey'});\n                },100);\n                //workermessage\n                worker.onmessage = function(event){\n                    document.getElementById('result').innerHTML+=event.data+\"<br/>\" ;\n                    //terminateevent.data\n                    worker.terminate();\n                };\n            };\n        </script>\n    </head>\n    <body onload = \"init()\">\n        <div id=\"result\"></div>\n    </body>\n</html>\n{% endcodeblock %} \n\nworker.js\n\n{% codeblock lang:javascript %}\n<script>\n//message\nonmessage = function(event){\n    //event.data.name\n    postMessage(event.data.name);\n};\n</script>\n{% endcodeblock %} \n\n#### 3message\n\ndata\n\nmessageterminatedemo\n\n#### 4error\n\ne.message\n\n\n\n{% codeblock lang:javascript %}\n//worker = new Worker('url');\nworker.onerror = function(e){\n    //\n    console.log(e.message);\n    //\n    worker.terminate();\n}\n{% endcodeblock %} \n\nworkerworkermessageworkerterminatecloseworker\n\n### worker\n\n\n\n\n{% codeblock lang:javascript %}\n<!DOCTYPE html>\n    <head>\n        <title>worker</title>\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n        <script>\n            function init(){\n                var worker = new Worker('worker.js');\n                //\n                worker.onmessage = function(event){\n                    console.log(event.data);\n                };\n                //\n                worker.onerror = function(e){\n                    console.log('erro: ' + e.message);\n                    //\n                    worker.terminate();\n                };\n            };\n        </script>\n    </head>\n    <body onload = \"init()\">\n        \n    </body>\n</html>\n{% endcodeblock %}\n\nworker.js\n\n{% codeblock lang:javascript %}\n//windowalert\nalert(1);\nonmessage = function(event){\n    //event.data.name\n    postMessage(event.data.name);\n};\n{% endcodeblock %}\n\n\n\n![3](webworker/3.png)\n\n\nalertwindowundefined\n\nworker.jshtmlwindowwoker.jsWorkerGlobalScopewindowwindowDOM APIsetTimeoutsetInterval\nWorkerGlobalScope\n\n#### 1self\n\n WorkerGlobalScope  self \n\n#### 2location\n\nlocation  WorkerLocation  URL URL \n\n#### 3close\n\nterminate\n\n#### 4importScripts\n\nimportScripts()urlworker\n\n#### 5XMLHttpRequest\n\nAjax\n\n#### 6setTimeout/setIntervaladdEventListener/postMessage\n\n### worker\n\n\n1.JSpostMessageonmessage\n\n2.workerimportScripts(url)\n\n3. setTimeout(), clearTimeout(), setInterval(), and clearInterval()\n\n4.XMLHttpRequest\n\n5.navigator\n\n\n\n1.JS\n\n2.workerDOM\n\n3.WorkerFFworkerworker,Chrome\n\n4.IE","slug":"2017-05-07","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1i80009svldo5821v1e","content":"<h3 id=\"webWorker\"><a href=\"#webWorker\" class=\"headerlink\" title=\"webWorker\"></a>webWorker</h3><p>setTimeoutJavaScript</p>\n<p>JavaScriptDOMDOMDOM?</p>\n<p>JavaScript</p>\n<a id=\"more\"></a>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>singleThread<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//1</span></span></div><div class=\"line\"><span class=\"javascript\">            setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'come on'</span>);</span></div><div class=\"line\"><span class=\"undefined\">            &#125;,1000);</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//alert</span></span></div><div class=\"line\"><span class=\"javascript\">            alert(<span class=\"string\">'waiting'</span>);</span></div><div class=\"line\"><span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>HTML5webWorker</p>\n<p>JavaScriptDOM</p>\n<p>webWorker</p>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>worker<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//Workerurl</span></span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">var</span> worker = <span class=\"keyword\">new</span> Worker(<span class=\"string\">'worker.js'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//worker</span></span></div><div class=\"line\"><span class=\"javascript\">                worker.onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                    <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'result'</span>).innerHTML+=event.data+<span class=\"string\">\"&lt;br/&gt;\"</span> ;</span></div><div class=\"line\"><span class=\"undefined\">                &#125;;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;;</span></div><div class=\"line\"><span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">onload</span> = <span class=\"string\">\"init()\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"result\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>worker.js:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">timedCount</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>, sum = <span class=\"number\">0</span>; j &lt; <span class=\"number\">100</span>; j++)&#123;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100000000</span>; i++)&#123;</div><div class=\"line\">            sum+=i;</div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;;</div><div class=\"line\">    <span class=\"comment\">//sum</span></div><div class=\"line\">    postMessage(sum);</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">//timedCountpostMessage</span></div><div class=\"line\">postMessage(<span class=\"string\">'Before computing, '</span>+<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>());</div><div class=\"line\">timedCount();</div><div class=\"line\"><span class=\"comment\">//timedCount</span></div><div class=\"line\">postMessage(<span class=\"string\">'After computing, '</span> +<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>());</div></pre></td></tr></table></figure>\n<p>workeronmessageworker.jspostMessage(event.data)div#result</p>\n<p></p>\n<p><img src=\"/webworker/1.png\" alt=\"1\"></p>\n<p>worker.jstimedCountpostMessage</p>\n<p><img src=\"/2017-05-07/2.png\" alt=\"2\"></p>\n<h3 id=\"webWorkerAPI\"><a href=\"#webWorkerAPI\" class=\"headerlink\" title=\"webWorker\"></a>webWorker</h3><p>workerAPI</p>\n<h4 id=\"1postMessage-data\"><a href=\"#1postMessage-data\" class=\"headerlink\" title=\"1postMessage(data)\"></a>1postMessage(data)</h4><p>data</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//worker = new Worker('url');</span></div><div class=\"line\"><span class=\"comment\">//worker.postMessage</span></div><div class=\"line\">worker.postMessage(&#123;<span class=\"attr\">first</span>:<span class=\"number\">1</span>,<span class=\"attr\">second</span>:<span class=\"number\">2</span>&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//postMessage</span></div><div class=\"line\">postMessage(test);</div></pre></td></tr></table></figure>\n<h4 id=\"2terminate\"><a href=\"#2terminate\" class=\"headerlink\" title=\"2terminate()\"></a>2terminate()</h4><p>workerterminate</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//worker = new Worker('url');</span></div><div class=\"line\">worker.terminate();</div></pre></td></tr></table></figure> \n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>worker<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">var</span> worker = <span class=\"keyword\">new</span> Worker(<span class=\"string\">'worker.js'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//100&#123;name: 'monkey'&#125;</span></span></div><div class=\"line\"><span class=\"javascript\">                setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                    worker.postMessage(&#123;<span class=\"attr\">name</span>: <span class=\"string\">'monkey'</span>&#125;);</span></div><div class=\"line\"><span class=\"undefined\">                &#125;,100);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//workermessage</span></span></div><div class=\"line\"><span class=\"javascript\">                worker.onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                    <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'result'</span>).innerHTML+=event.data+<span class=\"string\">\"&lt;br/&gt;\"</span> ;</span></div><div class=\"line\"><span class=\"javascript\">                    <span class=\"comment\">//terminateevent.data</span></span></div><div class=\"line\"><span class=\"undefined\">                    worker.terminate();</span></div><div class=\"line\"><span class=\"undefined\">                &#125;;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;;</span></div><div class=\"line\"><span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">onload</span> = <span class=\"string\">\"init()\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"result\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure> \n<p>worker.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script&gt;</div><div class=\"line\"><span class=\"comment\">//message</span></div><div class=\"line\">onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//event.data.name</span></div><div class=\"line\">    postMessage(event.data.name);</div><div class=\"line\">&#125;;</div><div class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure> \n<h4 id=\"3message\"><a href=\"#3message\" class=\"headerlink\" title=\"3message\"></a>3message</h4><p>data</p>\n<p>messageterminatedemo</p>\n<h4 id=\"4error\"><a href=\"#4error\" class=\"headerlink\" title=\"4error\"></a>4error</h4><p>e.message</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//worker = new Worker('url');</span></div><div class=\"line\">worker.onerror = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    <span class=\"built_in\">console</span>.log(e.message);</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    worker.terminate();</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<p>workerworkermessageworkerterminatecloseworker</p>\n<h3 id=\"worker\"><a href=\"#worker\" class=\"headerlink\" title=\"worker\"></a>worker</h3><p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!DOCTYPE html&gt;</div><div class=\"line\">    &lt;head&gt;</div><div class=\"line\">        &lt;title&gt;worker&lt;<span class=\"regexp\">/title&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;meta http-equiv=\"Content-Type\" content=\"text/</span>html; charset=utf<span class=\"number\">-8</span><span class=\"string\">\"/&gt;</span></div><div class=\"line\"><span class=\"string\">        &lt;script&gt;</span></div><div class=\"line\"><span class=\"string\">            function init()&#123;</span></div><div class=\"line\"><span class=\"string\">                var worker = new Worker('worker.js');</span></div><div class=\"line\"><span class=\"string\">                //</span></div><div class=\"line\"><span class=\"string\">                worker.onmessage = function(event)&#123;</span></div><div class=\"line\"><span class=\"string\">                    console.log(event.data);</span></div><div class=\"line\"><span class=\"string\">                &#125;;</span></div><div class=\"line\"><span class=\"string\">                //</span></div><div class=\"line\"><span class=\"string\">                worker.onerror = function(e)&#123;</span></div><div class=\"line\"><span class=\"string\">                    console.log('erro: ' + e.message);</span></div><div class=\"line\"><span class=\"string\">                    //</span></div><div class=\"line\"><span class=\"string\">                    worker.terminate();</span></div><div class=\"line\"><span class=\"string\">                &#125;;</span></div><div class=\"line\"><span class=\"string\">            &#125;;</span></div><div class=\"line\"><span class=\"string\">        &lt;/script&gt;</span></div><div class=\"line\"><span class=\"string\">    &lt;/head&gt;</span></div><div class=\"line\"><span class=\"string\">    &lt;body onload = \"</span>init()<span class=\"string\">\"&gt;</span></div><div class=\"line\"><span class=\"string\">        </span></div><div class=\"line\"><span class=\"string\">    &lt;/body&gt;</span></div><div class=\"line\"><span class=\"string\">&lt;/html&gt;</span></div></pre></td></tr></table></figure>\n<p>worker.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//windowalert</span></div><div class=\"line\">alert(<span class=\"number\">1</span>);</div><div class=\"line\">onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//event.data.name</span></div><div class=\"line\">    postMessage(event.data.name);</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/2017-05-07/3.png\" alt=\"3\"></p>\n<p>alertwindowundefined</p>\n<p>worker.jshtmlwindowwoker.jsWorkerGlobalScopewindowwindowDOM APIsetTimeoutsetInterval<br>WorkerGlobalScope</p>\n<h4 id=\"1self\"><a href=\"#1self\" class=\"headerlink\" title=\"1self\"></a>1self</h4><p> WorkerGlobalScope  self </p>\n<h4 id=\"2location\"><a href=\"#2location\" class=\"headerlink\" title=\"2location\"></a>2location</h4><p>location  WorkerLocation  URL URL </p>\n<h4 id=\"3close\"><a href=\"#3close\" class=\"headerlink\" title=\"3close\"></a>3close</h4><p>terminate</p>\n<h4 id=\"4importScripts\"><a href=\"#4importScripts\" class=\"headerlink\" title=\"4importScripts\"></a>4importScripts</h4><p>importScripts()urlworker</p>\n<h4 id=\"5XMLHttpRequest\"><a href=\"#5XMLHttpRequest\" class=\"headerlink\" title=\"5XMLHttpRequest\"></a>5XMLHttpRequest</h4><p>Ajax</p>\n<h4 id=\"6setTimeout-setIntervaladdEventListener-postMessage\"><a href=\"#6setTimeout-setIntervaladdEventListener-postMessage\" class=\"headerlink\" title=\"6setTimeout/setIntervaladdEventListener/postMessage\"></a>6setTimeout/setIntervaladdEventListener/postMessage</h4><h3 id=\"worker\"><a href=\"#worker\" class=\"headerlink\" title=\"worker\"></a>worker</h3><p></p>\n<p>1.JSpostMessageonmessage</p>\n<p>2.workerimportScripts(url)</p>\n<p>3. setTimeout(), clearTimeout(), setInterval(), and clearInterval()</p>\n<p>4.XMLHttpRequest</p>\n<p>5.navigator</p>\n<p></p>\n<p>1.JS</p>\n<p>2.workerDOM</p>\n<p>3.WorkerFFworkerworker,Chrome</p>\n<p>4.IE</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"webWorker\"><a href=\"#webWorker\" class=\"headerlink\" title=\"webWorker\"></a>webWorker</h3><p>setTimeoutJavaScript</p>\n<p>JavaScriptDOMDOMDOM?</p>\n<p>JavaScript</p>","more":"<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>singleThread<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//1</span></span></div><div class=\"line\"><span class=\"javascript\">            setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'come on'</span>);</span></div><div class=\"line\"><span class=\"undefined\">            &#125;,1000);</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//alert</span></span></div><div class=\"line\"><span class=\"javascript\">            alert(<span class=\"string\">'waiting'</span>);</span></div><div class=\"line\"><span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>HTML5webWorker</p>\n<p>JavaScriptDOM</p>\n<p>webWorker</p>\n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>worker<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//Workerurl</span></span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">var</span> worker = <span class=\"keyword\">new</span> Worker(<span class=\"string\">'worker.js'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//worker</span></span></div><div class=\"line\"><span class=\"javascript\">                worker.onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                    <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'result'</span>).innerHTML+=event.data+<span class=\"string\">\"&lt;br/&gt;\"</span> ;</span></div><div class=\"line\"><span class=\"undefined\">                &#125;;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;;</span></div><div class=\"line\"><span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">onload</span> = <span class=\"string\">\"init()\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"result\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>worker.js:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">timedCount</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>, sum = <span class=\"number\">0</span>; j &lt; <span class=\"number\">100</span>; j++)&#123;</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100000000</span>; i++)&#123;</div><div class=\"line\">            sum+=i;</div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;;</div><div class=\"line\">    <span class=\"comment\">//sum</span></div><div class=\"line\">    postMessage(sum);</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"comment\">//timedCountpostMessage</span></div><div class=\"line\">postMessage(<span class=\"string\">'Before computing, '</span>+<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>());</div><div class=\"line\">timedCount();</div><div class=\"line\"><span class=\"comment\">//timedCount</span></div><div class=\"line\">postMessage(<span class=\"string\">'After computing, '</span> +<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>());</div></pre></td></tr></table></figure>\n<p>workeronmessageworker.jspostMessage(event.data)div#result</p>\n<p></p>\n<p><img src=\"/webworker/1.png\" alt=\"1\"></p>\n<p>worker.jstimedCountpostMessage</p>\n<p><img src=\"/2017-05-07/2.png\" alt=\"2\"></p>\n<h3 id=\"webWorkerAPI\"><a href=\"#webWorkerAPI\" class=\"headerlink\" title=\"webWorker\"></a>webWorker</h3><p>workerAPI</p>\n<h4 id=\"1postMessage-data\"><a href=\"#1postMessage-data\" class=\"headerlink\" title=\"1postMessage(data)\"></a>1postMessage(data)</h4><p>data</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//worker = new Worker('url');</span></div><div class=\"line\"><span class=\"comment\">//worker.postMessage</span></div><div class=\"line\">worker.postMessage(&#123;<span class=\"attr\">first</span>:<span class=\"number\">1</span>,<span class=\"attr\">second</span>:<span class=\"number\">2</span>&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//postMessage</span></div><div class=\"line\">postMessage(test);</div></pre></td></tr></table></figure>\n<h4 id=\"2terminate\"><a href=\"#2terminate\" class=\"headerlink\" title=\"2terminate()\"></a>2terminate()</h4><p>workerterminate</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//worker = new Worker('url');</span></div><div class=\"line\">worker.terminate();</div></pre></td></tr></table></figure> \n<p></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>worker<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">init</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">var</span> worker = <span class=\"keyword\">new</span> Worker(<span class=\"string\">'worker.js'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//100&#123;name: 'monkey'&#125;</span></span></div><div class=\"line\"><span class=\"javascript\">                setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                    worker.postMessage(&#123;<span class=\"attr\">name</span>: <span class=\"string\">'monkey'</span>&#125;);</span></div><div class=\"line\"><span class=\"undefined\">                &#125;,100);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"comment\">//workermessage</span></span></div><div class=\"line\"><span class=\"javascript\">                worker.onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">                    <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'result'</span>).innerHTML+=event.data+<span class=\"string\">\"&lt;br/&gt;\"</span> ;</span></div><div class=\"line\"><span class=\"javascript\">                    <span class=\"comment\">//terminateevent.data</span></span></div><div class=\"line\"><span class=\"undefined\">                    worker.terminate();</span></div><div class=\"line\"><span class=\"undefined\">                &#125;;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;;</span></div><div class=\"line\"><span class=\"undefined\">        </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">onload</span> = <span class=\"string\">\"init()\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"result\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure> \n<p>worker.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script&gt;</div><div class=\"line\"><span class=\"comment\">//message</span></div><div class=\"line\">onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//event.data.name</span></div><div class=\"line\">    postMessage(event.data.name);</div><div class=\"line\">&#125;;</div><div class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure> \n<h4 id=\"3message\"><a href=\"#3message\" class=\"headerlink\" title=\"3message\"></a>3message</h4><p>data</p>\n<p>messageterminatedemo</p>\n<h4 id=\"4error\"><a href=\"#4error\" class=\"headerlink\" title=\"4error\"></a>4error</h4><p>e.message</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//worker = new Worker('url');</span></div><div class=\"line\">worker.onerror = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    <span class=\"built_in\">console</span>.log(e.message);</div><div class=\"line\">    <span class=\"comment\">//</span></div><div class=\"line\">    worker.terminate();</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<p>workerworkermessageworkerterminatecloseworker</p>\n<h3 id=\"worker\"><a href=\"#worker\" class=\"headerlink\" title=\"worker\"></a>worker</h3><p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!DOCTYPE html&gt;</div><div class=\"line\">    &lt;head&gt;</div><div class=\"line\">        &lt;title&gt;worker&lt;<span class=\"regexp\">/title&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;meta http-equiv=\"Content-Type\" content=\"text/</span>html; charset=utf<span class=\"number\">-8</span><span class=\"string\">\"/&gt;</span></div><div class=\"line\"><span class=\"string\">        &lt;script&gt;</span></div><div class=\"line\"><span class=\"string\">            function init()&#123;</span></div><div class=\"line\"><span class=\"string\">                var worker = new Worker('worker.js');</span></div><div class=\"line\"><span class=\"string\">                //</span></div><div class=\"line\"><span class=\"string\">                worker.onmessage = function(event)&#123;</span></div><div class=\"line\"><span class=\"string\">                    console.log(event.data);</span></div><div class=\"line\"><span class=\"string\">                &#125;;</span></div><div class=\"line\"><span class=\"string\">                //</span></div><div class=\"line\"><span class=\"string\">                worker.onerror = function(e)&#123;</span></div><div class=\"line\"><span class=\"string\">                    console.log('erro: ' + e.message);</span></div><div class=\"line\"><span class=\"string\">                    //</span></div><div class=\"line\"><span class=\"string\">                    worker.terminate();</span></div><div class=\"line\"><span class=\"string\">                &#125;;</span></div><div class=\"line\"><span class=\"string\">            &#125;;</span></div><div class=\"line\"><span class=\"string\">        &lt;/script&gt;</span></div><div class=\"line\"><span class=\"string\">    &lt;/head&gt;</span></div><div class=\"line\"><span class=\"string\">    &lt;body onload = \"</span>init()<span class=\"string\">\"&gt;</span></div><div class=\"line\"><span class=\"string\">        </span></div><div class=\"line\"><span class=\"string\">    &lt;/body&gt;</span></div><div class=\"line\"><span class=\"string\">&lt;/html&gt;</span></div></pre></td></tr></table></figure>\n<p>worker.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//windowalert</span></div><div class=\"line\">alert(<span class=\"number\">1</span>);</div><div class=\"line\">onmessage = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//event.data.name</span></div><div class=\"line\">    postMessage(event.data.name);</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"/2017-05-07/3.png\" alt=\"3\"></p>\n<p>alertwindowundefined</p>\n<p>worker.jshtmlwindowwoker.jsWorkerGlobalScopewindowwindowDOM APIsetTimeoutsetInterval<br>WorkerGlobalScope</p>\n<h4 id=\"1self\"><a href=\"#1self\" class=\"headerlink\" title=\"1self\"></a>1self</h4><p> WorkerGlobalScope  self </p>\n<h4 id=\"2location\"><a href=\"#2location\" class=\"headerlink\" title=\"2location\"></a>2location</h4><p>location  WorkerLocation  URL URL </p>\n<h4 id=\"3close\"><a href=\"#3close\" class=\"headerlink\" title=\"3close\"></a>3close</h4><p>terminate</p>\n<h4 id=\"4importScripts\"><a href=\"#4importScripts\" class=\"headerlink\" title=\"4importScripts\"></a>4importScripts</h4><p>importScripts()urlworker</p>\n<h4 id=\"5XMLHttpRequest\"><a href=\"#5XMLHttpRequest\" class=\"headerlink\" title=\"5XMLHttpRequest\"></a>5XMLHttpRequest</h4><p>Ajax</p>\n<h4 id=\"6setTimeout-setIntervaladdEventListener-postMessage\"><a href=\"#6setTimeout-setIntervaladdEventListener-postMessage\" class=\"headerlink\" title=\"6setTimeout/setIntervaladdEventListener/postMessage\"></a>6setTimeout/setIntervaladdEventListener/postMessage</h4><h3 id=\"worker\"><a href=\"#worker\" class=\"headerlink\" title=\"worker\"></a>worker</h3><p></p>\n<p>1.JSpostMessageonmessage</p>\n<p>2.workerimportScripts(url)</p>\n<p>3. setTimeout(), clearTimeout(), setInterval(), and clearInterval()</p>\n<p>4.XMLHttpRequest</p>\n<p>5.navigator</p>\n<p></p>\n<p>1.JS</p>\n<p>2.workerDOM</p>\n<p>3.WorkerFFworkerworker,Chrome</p>\n<p>4.IE</p>"},{"title":"ajax302","comments":1,"date":"2017-04-02T12:09:11.000Z","_content":"ajax302 FoundajaxResponse HeadersLocation\n\n##### jQuery$.ajax()ajaxJavaScript\n\n``` javascript\n$.ajax({\nurl: '/oauth/respond',\ntype: 'post',\ndata: data,\ncomplete: function(jqXHR){\n    console.log(jqXHR.status);\n},\nerror: function (xhr) {\n    console.log(xhr.status);\n}\n});\n```\n<!-- more -->\n\n##### 302 Found\n![111](ajax/111.png)\n\najaxcomplete()error()404302 \nstackoverflow\n\n302ajax302Response HeadersLocationLocationUrlajax\n\najax -> browser -> server -> 302 -> browser(redirect) -> server -> browser -> ajax callback\n\n302URLajax404URL200\n\najax302location.href\n\n#### \n\n#### \n\najax302jsonASP.NET MVC\n\n``` javascript\nreturn Json(new { status = 302, location = \"/oauth/respond\" });\n\najax\n\n$.ajax({\n    url: '/oauth/respond',\n    type: 'post',\n    data: data,\n    dataType: 'json',\n    success: function (data) {\n        if (data.status == 302) {\n            location.href = data.location;\n        }\n    }\n}); \n```\n#### \n\najaxform\n\n``` javascript\n\n<form method=\"post\" action=\"/oauth/respond\"></form>\n\n```\n","source":"_posts/ajax.md","raw":"---\ntitle: ajax302\ncomments: true\ndate: 2017-04-02 20:09:11\ncategories: \"javascript\"\ntags: \n    - 'javascript'\n    - 'ajax'\n    - '302'\n---\najax302 FoundajaxResponse HeadersLocation\n\n##### jQuery$.ajax()ajaxJavaScript\n\n``` javascript\n$.ajax({\nurl: '/oauth/respond',\ntype: 'post',\ndata: data,\ncomplete: function(jqXHR){\n    console.log(jqXHR.status);\n},\nerror: function (xhr) {\n    console.log(xhr.status);\n}\n});\n```\n<!-- more -->\n\n##### 302 Found\n![111](ajax/111.png)\n\najaxcomplete()error()404302 \nstackoverflow\n\n302ajax302Response HeadersLocationLocationUrlajax\n\najax -> browser -> server -> 302 -> browser(redirect) -> server -> browser -> ajax callback\n\n302URLajax404URL200\n\najax302location.href\n\n#### \n\n#### \n\najax302jsonASP.NET MVC\n\n``` javascript\nreturn Json(new { status = 302, location = \"/oauth/respond\" });\n\najax\n\n$.ajax({\n    url: '/oauth/respond',\n    type: 'post',\n    data: data,\n    dataType: 'json',\n    success: function (data) {\n        if (data.status == 302) {\n            location.href = data.location;\n        }\n    }\n}); \n```\n#### \n\najaxform\n\n``` javascript\n\n<form method=\"post\" action=\"/oauth/respond\"></form>\n\n```\n","slug":"ajax","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1ic000bsvldeaixeg5e","content":"<p>ajax302 FoundajaxResponse HeadersLocation</p>\n<h5 id=\"jQuery-ajax-ajaxJavaScript\"><a href=\"#jQuery-ajax-ajaxJavaScript\" class=\"headerlink\" title=\"jQuery$.ajax()ajaxJavaScript\"></a>jQuery$.ajax()ajaxJavaScript</h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">$.ajax(&#123;</div><div class=\"line\">url: <span class=\"string\">'/oauth/respond'</span>,</div><div class=\"line\">type: <span class=\"string\">'post'</span>,</div><div class=\"line\">data: data,</div><div class=\"line\">complete: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">jqXHR</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(jqXHR.status);</div><div class=\"line\">&#125;,</div><div class=\"line\">error: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">xhr</span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(xhr.status);</div><div class=\"line\">&#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h5 id=\"302-Found\"><a href=\"#302-Found\" class=\"headerlink\" title=\"302 Found\"></a>302 Found</h5><p><img src=\"/ajax/111.png\" alt=\"111\"></p>\n<p>ajaxcomplete()error()404302<br>stackoverflow</p>\n<p>302ajax302Response HeadersLocationLocationUrlajax</p>\n<p>ajax -&gt; browser -&gt; server -&gt; 302 -&gt; browser(redirect) -&gt; server -&gt; browser -&gt; ajax callback</p>\n<p>302URLajax404URL200</p>\n<p>ajax302location.href</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ajax302jsonASP.NET MVC</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; status = <span class=\"number\">302</span>, location = <span class=\"string\">\"/oauth/respond\"</span> &#125;);</div><div class=\"line\"></div><div class=\"line\">ajax</div><div class=\"line\"></div><div class=\"line\">$.ajax(&#123;</div><div class=\"line\">    url: <span class=\"string\">'/oauth/respond'</span>,</div><div class=\"line\">    type: <span class=\"string\">'post'</span>,</div><div class=\"line\">    data: data,</div><div class=\"line\">    dataType: <span class=\"string\">'json'</span>,</div><div class=\"line\">    success: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (data.status == <span class=\"number\">302</span>) &#123;</div><div class=\"line\">            location.href = data.location;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ajaxform</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">&lt;form method=<span class=\"string\">\"post\"</span> action=<span class=\"string\">\"/oauth/respond\"</span>&gt;&lt;/form&gt;</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>ajax302 FoundajaxResponse HeadersLocation</p>\n<h5 id=\"jQuery-ajax-ajaxJavaScript\"><a href=\"#jQuery-ajax-ajaxJavaScript\" class=\"headerlink\" title=\"jQuery$.ajax()ajaxJavaScript\"></a>jQuery$.ajax()ajaxJavaScript</h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">$.ajax(&#123;</div><div class=\"line\">url: <span class=\"string\">'/oauth/respond'</span>,</div><div class=\"line\">type: <span class=\"string\">'post'</span>,</div><div class=\"line\">data: data,</div><div class=\"line\">complete: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">jqXHR</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(jqXHR.status);</div><div class=\"line\">&#125;,</div><div class=\"line\">error: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">xhr</span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(xhr.status);</div><div class=\"line\">&#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>","more":"<h5 id=\"302-Found\"><a href=\"#302-Found\" class=\"headerlink\" title=\"302 Found\"></a>302 Found</h5><p><img src=\"/ajax/111.png\" alt=\"111\"></p>\n<p>ajaxcomplete()error()404302<br>stackoverflow</p>\n<p>302ajax302Response HeadersLocationLocationUrlajax</p>\n<p>ajax -&gt; browser -&gt; server -&gt; 302 -&gt; browser(redirect) -&gt; server -&gt; browser -&gt; ajax callback</p>\n<p>302URLajax404URL200</p>\n<p>ajax302location.href</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ajax302jsonASP.NET MVC</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; status = <span class=\"number\">302</span>, location = <span class=\"string\">\"/oauth/respond\"</span> &#125;);</div><div class=\"line\"></div><div class=\"line\">ajax</div><div class=\"line\"></div><div class=\"line\">$.ajax(&#123;</div><div class=\"line\">    url: <span class=\"string\">'/oauth/respond'</span>,</div><div class=\"line\">    type: <span class=\"string\">'post'</span>,</div><div class=\"line\">    data: data,</div><div class=\"line\">    dataType: <span class=\"string\">'json'</span>,</div><div class=\"line\">    success: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (data.status == <span class=\"number\">302</span>) &#123;</div><div class=\"line\">            location.href = data.location;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ajaxform</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">&lt;form method=<span class=\"string\">\"post\"</span> action=<span class=\"string\">\"/oauth/respond\"</span>&gt;&lt;/form&gt;</div></pre></td></tr></table></figure>"},{"title":"React--React","comments":1,"toc":true,"date":"2017-06-12T13:09:11.000Z","_content":"\n### \n\n\n\n<b></b><b></b>\n\n<b>:</b>htmlcssjsreactcssjshtml\n\n<b>:</b>\n\n<!-- more -->\n\n### react\n\nreact<b>prop</b><b>state</b>propstatereactpropstate\n\n{% codeblock lang:javascript %}\n// \nclass Counter extends Component {\n  constructor(props) {\n    // superthis.props\n    super(props);\n    //state\n    this.state = {\n      text: 1\n    }\n  }\n  render() {\n    const {caption} = this.props; //this.propscaption\n    return (\n      <div className=\"App\">\n        {this.state.text}\n      </div>\n    );\n  }\n}\n// \nclass ControlPanel extends Component {\n  render() {\n    console.log('enter ControlPanel render');\n    return (\n      <div style={style}>\n        <Counter caption=\"First\"/>\n      </div>\n    );\n  }\n};\n{% endcodeblock %}\n\n#### Reactprop\n\npropprop\n{% codeblock lang:javascript %}\n//\nconstructor(props) {\n    // superthis.props\n    super(props);\n    //state\n    this.state = {\n      text: 1\n    }\n  }\n\n//render  \nreturn (\n    <Counter caption=\"First\"/>\n);\n{% endcodeblock %}\n\nsuperReact.Componentthis.propsthisrender\n\n#### propTypes\n\npropTypesproppropTypes\n{% codeblock lang:javascript %}\nCounter.propTypes = {\n  caption:PropTypes.string.isRequired,\n  initValue:PropTypes.number\n}\n{% endcodeblock %}\ncaptionstringinitValuenumberisRequiredcaptioninitValue\n\npropTypesbabel-react-optimizepropTypes\n\n#### Reactstate\n\nstatestatestringnumber\n{% codeblock lang:javascript %}\nconstructor(props) {\n    this.state = {\n      text: 1, // state\n      num:props.num || 1 // \n    }\n  }\n{% endcodeblock %}\nthis.statethis.statereactsetStaterender\n\n#### propstate\n\n* propstate\n* propstate\n* propstate\n\npropsreactpropsprops\n\n### prop\n\n\n\n<img width=\"600\" src=\"2017-06-12/01.jpeg\" title=\"\"/>\n\nprop\n\nCounterupdateCountthis.props.onUpdate\n{% codeblock lang:javascript %}\n  onClickIncrementButton() {\n    this.updateCount(true);\n  }\n\n  onClickDecrementButton() {\n    this.updateCount(false);\n  }\n\n  updateCount(isIncrement) {\n    const previousValue = this.state.count;\n    const newValue = isIncrement ? previousValue + 1 : previousValue - 1;\n\n    this.setState({count: newValue})\n    this.props.onUpdate(newValue, previousValue)\n  }\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n  Counter.propTypes = {\n    caption: PropTypes.string.isRequired,\n    initValue: PropTypes.number,\n    onUpdate: PropTypes.func\n  };\n\n  Counter.defaultProps = {\n    initValue: 0,\n    onUpdate: f => f //\n  };\n{% endcodeblock %}\n\nrenderonCounterUpdateonUpdateonUpdate\n{% codeblock lang:javascript %}\n  onCounterUpdate(newValue, previousValue) {\n    const valueChange = newValue - previousValue;\n    this.setState({ sum: this.state.sum + valueChange});\n  }\n  render() {\n    return (\n      <div style={style}>\n        <Counter onUpdate={this.onCounterUpdate} caption=\"First\" />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Second\" initValue={this.initValues[1]} />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Third\" initValue={this.initValues[2]} />\n        <hr/>\n        <div>Total Count: {this.state.sum}</div>\n      </div>\n    );\n  }\n{% endcodeblock %}\n\n### prop\n\nupdateupdatebug\n\n\n<img width=\"300\" src=\"2017-06-12/02.jpeg\" title=\"\"/>\n\n<img width=\"300\" src=\"2017-06-12/03.jpeg\" title=\"\"/>\n\npropReduxRedux\n\n### react\n\n\n* \n* \n* DOM\n\n#### \n\n(es6)\n\n* constructor\n* defaultProps\n* componentWillMount\n* render\n* componentDidMount\n\n##### constructor\n\nes6React\n* statestate\n* this\n\n\n{% codeblock lang:javascript %}\nconstructor(props) {\n    super(props);\n    this.onClickIncrementButton = this.onClickIncrementButton.bind(this);\n    this.onClickDecrementButton = this.onClickDecrementButton.bind(this);\n  }\n{% endcodeblock %}\n\n##### defaultProps\n\nprops\n{% codeblock lang:javascript %}\nCounter.defaultProps = {\n  initValue: 0,\n  onUpdate: f => f //\n};\n{% endcodeblock %}\n\n##### render\n\nJSXReactJSXnullfalseReactDOM\n\n>render\n\n##### componentWillMountcomponentDidMount\n\ncomponentWillMountrenderDOMthis.setStatecomponentWillMount\n\ncomponentDidMountrenderDOMDOMrenderDOMDOMcomponentDidMountDOM\n\n<img width=\"700\" src=\"2017-06-12/04.jpeg\" title=\"DOM\"/>\n\n#### \n* componentWillReceiveProps\n* shouldComponentUpdate\n* componentWillUpdate\n* render\n* componentDidUpdate\n\n##### componentWillReceiveProps\npropsstaterenderrenderpropscomponentWillReceiveProps\n\nCounter\n{% codeblock lang:javascript %}\ncomponentWillReceiveProps(nextProps) {\n    console.log('enter componentWillReceiveProps ' + this.props.caption)\n  }\n{% endcodeblock %}\n\nControlPanel\n{% codeblock lang:javascript %}\nrender() {\n    console.log('enter ControlPanel render');\n    return (\n      <div style={style}>\n        <Counter onUpdate={this.onCounterUpdate} caption=\"First\" />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Second\" initValue={this.initValues[1]} />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Third\" initValue={this.initValues[2]} />\n        <button onClick={ () => this.forceUpdate() }>\n          Click me to re-render!\n        </button>\n        <hr/>\n        <div>Total Count: {this.state.sum}</div>\n      </div>\n    );\n{% endcodeblock %}\nControlPanelrendercomponentWillReceivePropsprops\n<img width=\"700\" src=\"2017-06-12/05.jpeg\" title=\"\"/>\n\nnextPropsnextPropsthis.propsthis.setState\n\n##### shouldComponentUpdate\n\nnextProps, nextStaterenderreacttrue\nCounter\n{% codeblock lang:javascript %}\nshouldComponentUpdate(nextProps, nextState) {\n    return (nextProps.caption !== this.props.caption) ||\n           (nextState.count !== this.state.count);\n  }\n{% endcodeblock %}\nrender\n<img width=\"700\" src=\"2017-06-12/05.jpeg\" title=\"\"/>\n\n##### componentWillUpdatecomponentDidUpdate\n\nshouldComponentUpdatetruecomponentWillUpdaterendercomponentDidUpdate\n\n#### \n\nDOMReactDOMcomponentDidMountjsDOMDOM\n\nReactpropReduxprophttps://github.com/wqzwh/react-redux-demo/tree/master/src/demo/01 \n\n\n\n\n\n\n\n\n","source":"_posts/2017-06-12.md","raw":"---\ntitle: React--React\ncomments: true\ntoc: true\ndate: 2017-06-12 21:09:11\ntags: \n    - 'javascript'\n    - 'react'\n---\n\n### \n\n\n\n<b></b><b></b>\n\n<b>:</b>htmlcssjsreactcssjshtml\n\n<b>:</b>\n\n<!-- more -->\n\n### react\n\nreact<b>prop</b><b>state</b>propstatereactpropstate\n\n{% codeblock lang:javascript %}\n// \nclass Counter extends Component {\n  constructor(props) {\n    // superthis.props\n    super(props);\n    //state\n    this.state = {\n      text: 1\n    }\n  }\n  render() {\n    const {caption} = this.props; //this.propscaption\n    return (\n      <div className=\"App\">\n        {this.state.text}\n      </div>\n    );\n  }\n}\n// \nclass ControlPanel extends Component {\n  render() {\n    console.log('enter ControlPanel render');\n    return (\n      <div style={style}>\n        <Counter caption=\"First\"/>\n      </div>\n    );\n  }\n};\n{% endcodeblock %}\n\n#### Reactprop\n\npropprop\n{% codeblock lang:javascript %}\n//\nconstructor(props) {\n    // superthis.props\n    super(props);\n    //state\n    this.state = {\n      text: 1\n    }\n  }\n\n//render  \nreturn (\n    <Counter caption=\"First\"/>\n);\n{% endcodeblock %}\n\nsuperReact.Componentthis.propsthisrender\n\n#### propTypes\n\npropTypesproppropTypes\n{% codeblock lang:javascript %}\nCounter.propTypes = {\n  caption:PropTypes.string.isRequired,\n  initValue:PropTypes.number\n}\n{% endcodeblock %}\ncaptionstringinitValuenumberisRequiredcaptioninitValue\n\npropTypesbabel-react-optimizepropTypes\n\n#### Reactstate\n\nstatestatestringnumber\n{% codeblock lang:javascript %}\nconstructor(props) {\n    this.state = {\n      text: 1, // state\n      num:props.num || 1 // \n    }\n  }\n{% endcodeblock %}\nthis.statethis.statereactsetStaterender\n\n#### propstate\n\n* propstate\n* propstate\n* propstate\n\npropsreactpropsprops\n\n### prop\n\n\n\n<img width=\"600\" src=\"2017-06-12/01.jpeg\" title=\"\"/>\n\nprop\n\nCounterupdateCountthis.props.onUpdate\n{% codeblock lang:javascript %}\n  onClickIncrementButton() {\n    this.updateCount(true);\n  }\n\n  onClickDecrementButton() {\n    this.updateCount(false);\n  }\n\n  updateCount(isIncrement) {\n    const previousValue = this.state.count;\n    const newValue = isIncrement ? previousValue + 1 : previousValue - 1;\n\n    this.setState({count: newValue})\n    this.props.onUpdate(newValue, previousValue)\n  }\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n  Counter.propTypes = {\n    caption: PropTypes.string.isRequired,\n    initValue: PropTypes.number,\n    onUpdate: PropTypes.func\n  };\n\n  Counter.defaultProps = {\n    initValue: 0,\n    onUpdate: f => f //\n  };\n{% endcodeblock %}\n\nrenderonCounterUpdateonUpdateonUpdate\n{% codeblock lang:javascript %}\n  onCounterUpdate(newValue, previousValue) {\n    const valueChange = newValue - previousValue;\n    this.setState({ sum: this.state.sum + valueChange});\n  }\n  render() {\n    return (\n      <div style={style}>\n        <Counter onUpdate={this.onCounterUpdate} caption=\"First\" />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Second\" initValue={this.initValues[1]} />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Third\" initValue={this.initValues[2]} />\n        <hr/>\n        <div>Total Count: {this.state.sum}</div>\n      </div>\n    );\n  }\n{% endcodeblock %}\n\n### prop\n\nupdateupdatebug\n\n\n<img width=\"300\" src=\"2017-06-12/02.jpeg\" title=\"\"/>\n\n<img width=\"300\" src=\"2017-06-12/03.jpeg\" title=\"\"/>\n\npropReduxRedux\n\n### react\n\n\n* \n* \n* DOM\n\n#### \n\n(es6)\n\n* constructor\n* defaultProps\n* componentWillMount\n* render\n* componentDidMount\n\n##### constructor\n\nes6React\n* statestate\n* this\n\n\n{% codeblock lang:javascript %}\nconstructor(props) {\n    super(props);\n    this.onClickIncrementButton = this.onClickIncrementButton.bind(this);\n    this.onClickDecrementButton = this.onClickDecrementButton.bind(this);\n  }\n{% endcodeblock %}\n\n##### defaultProps\n\nprops\n{% codeblock lang:javascript %}\nCounter.defaultProps = {\n  initValue: 0,\n  onUpdate: f => f //\n};\n{% endcodeblock %}\n\n##### render\n\nJSXReactJSXnullfalseReactDOM\n\n>render\n\n##### componentWillMountcomponentDidMount\n\ncomponentWillMountrenderDOMthis.setStatecomponentWillMount\n\ncomponentDidMountrenderDOMDOMrenderDOMDOMcomponentDidMountDOM\n\n<img width=\"700\" src=\"2017-06-12/04.jpeg\" title=\"DOM\"/>\n\n#### \n* componentWillReceiveProps\n* shouldComponentUpdate\n* componentWillUpdate\n* render\n* componentDidUpdate\n\n##### componentWillReceiveProps\npropsstaterenderrenderpropscomponentWillReceiveProps\n\nCounter\n{% codeblock lang:javascript %}\ncomponentWillReceiveProps(nextProps) {\n    console.log('enter componentWillReceiveProps ' + this.props.caption)\n  }\n{% endcodeblock %}\n\nControlPanel\n{% codeblock lang:javascript %}\nrender() {\n    console.log('enter ControlPanel render');\n    return (\n      <div style={style}>\n        <Counter onUpdate={this.onCounterUpdate} caption=\"First\" />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Second\" initValue={this.initValues[1]} />\n        <Counter onUpdate={this.onCounterUpdate} caption=\"Third\" initValue={this.initValues[2]} />\n        <button onClick={ () => this.forceUpdate() }>\n          Click me to re-render!\n        </button>\n        <hr/>\n        <div>Total Count: {this.state.sum}</div>\n      </div>\n    );\n{% endcodeblock %}\nControlPanelrendercomponentWillReceivePropsprops\n<img width=\"700\" src=\"2017-06-12/05.jpeg\" title=\"\"/>\n\nnextPropsnextPropsthis.propsthis.setState\n\n##### shouldComponentUpdate\n\nnextProps, nextStaterenderreacttrue\nCounter\n{% codeblock lang:javascript %}\nshouldComponentUpdate(nextProps, nextState) {\n    return (nextProps.caption !== this.props.caption) ||\n           (nextState.count !== this.state.count);\n  }\n{% endcodeblock %}\nrender\n<img width=\"700\" src=\"2017-06-12/05.jpeg\" title=\"\"/>\n\n##### componentWillUpdatecomponentDidUpdate\n\nshouldComponentUpdatetruecomponentWillUpdaterendercomponentDidUpdate\n\n#### \n\nDOMReactDOMcomponentDidMountjsDOMDOM\n\nReactpropReduxprophttps://github.com/wqzwh/react-redux-demo/tree/master/src/demo/01 \n\n\n\n\n\n\n\n\n","slug":"2017-06-12","published":1,"updated":"2017-09-03T04:00:54.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1ie000dsvldnf59xr0v","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><b></b><b></b></p>\n<p><b>:</b>htmlcssjsreactcssjshtml</p>\n<p><b>:</b></p>\n<a id=\"more\"></a>\n<h3 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h3><p>react<b>prop</b><b>state</b>propstatereactpropstate</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Counter</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"comment\">// superthis.props</span></div><div class=\"line\">    <span class=\"keyword\">super</span>(props);</div><div class=\"line\">    <span class=\"comment\">//state</span></div><div class=\"line\">    <span class=\"keyword\">this</span>.state = &#123;</div><div class=\"line\">      text: <span class=\"number\">1</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> &#123;caption&#125; = <span class=\"keyword\">this</span>.props; <span class=\"comment\">//this.propscaption</span></div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</div><div class=\"line\">        &#123;<span class=\"keyword\">this</span>.state.text&#125;</div><div class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    );</span></div><div class=\"line\"><span class=\"regexp\">  &#125;</span></div><div class=\"line\"><span class=\"regexp\">&#125;</span></div><div class=\"line\"><span class=\"regexp\">/</span><span class=\"regexp\">/ </span></div><div class=\"line\"><span class=\"regexp\">class ControlPanel extends Component &#123;</span></div><div class=\"line\"><span class=\"regexp\">  render() &#123;</span></div><div class=\"line\"><span class=\"regexp\">    console.log('enter ControlPanel render');</span></div><div class=\"line\"><span class=\"regexp\">    return (</span></div><div class=\"line\"><span class=\"regexp\">      &lt;div style=&#123;style&#125;&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;Counter caption=\"First\"/</span>&gt;</div><div class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    );</span></div><div class=\"line\"><span class=\"regexp\">  &#125;</span></div><div class=\"line\"><span class=\"regexp\">&#125;;</span></div></pre></td></tr></table></figure>\n<h4 id=\"Reactprop\"><a href=\"#Reactprop\" class=\"headerlink\" title=\"Reactprop\"></a>Reactprop</h4><p>propprop<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"comment\">// superthis.props</span></div><div class=\"line\">    <span class=\"keyword\">super</span>(props);</div><div class=\"line\">    <span class=\"comment\">//state</span></div><div class=\"line\">    <span class=\"keyword\">this</span>.state = &#123;</div><div class=\"line\">      text: <span class=\"number\">1</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//render  </span></div><div class=\"line\"><span class=\"keyword\">return</span> (</div><div class=\"line\">    &lt;Counter caption=<span class=\"string\">\"First\"</span>/&gt;</div><div class=\"line\">);</div></pre></td></tr></table></figure></p>\n<p>superReact.Componentthis.propsthisrender</p>\n<h4 id=\"propTypes\"><a href=\"#propTypes\" class=\"headerlink\" title=\"propTypes\"></a>propTypes</h4><p>propTypesproppropTypes<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">Counter.propTypes = &#123;</div><div class=\"line\">  caption:PropTypes.string.isRequired,</div><div class=\"line\">  initValue:PropTypes.number</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure><br>captionstringinitValuenumberisRequiredcaptioninitValue</p>\n<p>propTypesbabel-react-optimizepropTypes</p>\n<h4 id=\"Reactstate\"><a href=\"#Reactstate\" class=\"headerlink\" title=\"Reactstate\"></a>Reactstate</h4><p>statestatestringnumber<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.state = &#123;</div><div class=\"line\">      text: <span class=\"number\">1</span>, <span class=\"comment\">// state</span></div><div class=\"line\">      num:props.num || <span class=\"number\">1</span> <span class=\"comment\">// </span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure><br>this.statethis.statereactsetStaterender</p>\n<h4 id=\"propstate\"><a href=\"#propstate\" class=\"headerlink\" title=\"propstate\"></a>propstate</h4><ul>\n<li>propstate</li>\n<li>propstate</li>\n<li>propstate</li>\n</ul>\n<p>propsreactpropsprops</p>\n<h3 id=\"prop\"><a href=\"#prop\" class=\"headerlink\" title=\"prop\"></a>prop</h3><p></p>\n<p><img width=\"600\" src=\"/2017-06-12/01.jpeg\" title=\"\"></p>\n<p>prop</p>\n<p>CounterupdateCountthis.props.onUpdate<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">onClickIncrementButton() &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.updateCount(<span class=\"literal\">true</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">onClickDecrementButton() &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.updateCount(<span class=\"literal\">false</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">updateCount(isIncrement) &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> previousValue = <span class=\"keyword\">this</span>.state.count;</div><div class=\"line\">  <span class=\"keyword\">const</span> newValue = isIncrement ? previousValue + <span class=\"number\">1</span> : previousValue - <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">this</span>.setState(&#123;<span class=\"attr\">count</span>: newValue&#125;)</div><div class=\"line\">  <span class=\"keyword\">this</span>.props.onUpdate(newValue, previousValue)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">Counter.propTypes = &#123;</div><div class=\"line\">  caption: PropTypes.string.isRequired,</div><div class=\"line\">  initValue: PropTypes.number,</div><div class=\"line\">  onUpdate: PropTypes.func</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\">Counter.defaultProps = &#123;</div><div class=\"line\">  initValue: <span class=\"number\">0</span>,</div><div class=\"line\">  onUpdate: <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f <span class=\"comment\">//</span></div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure></p>\n<p>renderonCounterUpdateonUpdateonUpdate<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">onCounterUpdate(newValue, previousValue) &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> valueChange = newValue - previousValue;</div><div class=\"line\">  <span class=\"keyword\">this</span>.setState(&#123; <span class=\"attr\">sum</span>: <span class=\"keyword\">this</span>.state.sum + valueChange&#125;);</div><div class=\"line\">&#125;</div><div class=\"line\">render() &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> (</div><div class=\"line\">    &lt;div style=&#123;style&#125;&gt;</div><div class=\"line\">      &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"First\"</span> /&gt;</div><div class=\"line\">      &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Second\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">1</span>]&#125; /&gt;</div><div class=\"line\">      &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Third\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">2</span>]&#125; /&gt;</div><div class=\"line\">      &lt;hr/&gt;</div><div class=\"line\">      &lt;div&gt;Total Count: &#123;<span class=\"keyword\">this</span>.state.sum&#125;&lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    &lt;/</span>div&gt;</div><div class=\"line\">  );</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"prop\"><a href=\"#prop\" class=\"headerlink\" title=\"prop\"></a>prop</h3><p>updateupdatebug</p>\n<p><br><img width=\"300\" src=\"/2017-06-12/02.jpeg\" title=\"\"><br><br><img width=\"300\" src=\"/2017-06-12/03.jpeg\" title=\"\"></p>\n<p>propReduxRedux</p>\n<h3 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>DOM</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(es6)</p>\n<ul>\n<li>constructor</li>\n<li>defaultProps</li>\n<li>componentWillMount</li>\n<li>render</li>\n<li>componentDidMount</li>\n</ul>\n<h5 id=\"constructor-NaN\"><a href=\"#constructor-NaN\" class=\"headerlink\" title=\"constructor\"></a>constructor</h5><p>es6React</p>\n<ul>\n<li>statestate</li>\n<li>this</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(props);</div><div class=\"line\">    <span class=\"keyword\">this</span>.onClickIncrementButton = <span class=\"keyword\">this</span>.onClickIncrementButton.bind(<span class=\"keyword\">this</span>);</div><div class=\"line\">    <span class=\"keyword\">this</span>.onClickDecrementButton = <span class=\"keyword\">this</span>.onClickDecrementButton.bind(<span class=\"keyword\">this</span>);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure></p>\n<h5 id=\"defaultProps\"><a href=\"#defaultProps\" class=\"headerlink\" title=\"defaultProps\"></a>defaultProps</h5><p>props<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">Counter.defaultProps = &#123;</div><div class=\"line\">  initValue: <span class=\"number\">0</span>,</div><div class=\"line\">  onUpdate: <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f <span class=\"comment\">//</span></div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure></p>\n<h5 id=\"render\"><a href=\"#render\" class=\"headerlink\" title=\"render\"></a>render</h5><p>JSXReactJSXnullfalseReactDOM</p>\n<blockquote>\n<p>render</p>\n</blockquote>\n<h5 id=\"componentWillMountcomponentDidMount\"><a href=\"#componentWillMountcomponentDidMount\" class=\"headerlink\" title=\"componentWillMountcomponentDidMount\"></a>componentWillMountcomponentDidMount</h5><p>componentWillMountrenderDOMthis.setStatecomponentWillMount</p>\n<p>componentDidMountrenderDOMDOMrenderDOMDOMcomponentDidMountDOM</p>\n<p><img width=\"700\" src=\"/2017-06-12/04.jpeg\" title=\"DOM\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>componentWillReceiveProps</li>\n<li>shouldComponentUpdate</li>\n<li>componentWillUpdate</li>\n<li>render</li>\n<li>componentDidUpdate</li>\n</ul>\n<h5 id=\"componentWillReceiveProps\"><a href=\"#componentWillReceiveProps\" class=\"headerlink\" title=\"componentWillReceiveProps\"></a>componentWillReceiveProps</h5><p>propsstaterenderrenderpropscomponentWillReceiveProps</p>\n<p>Counter<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">componentWillReceiveProps(nextProps) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'enter componentWillReceiveProps '</span> + <span class=\"keyword\">this</span>.props.caption)</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure></p>\n<p>ControlPanel<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">render() &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'enter ControlPanel render'</span>);</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div style=&#123;style&#125;&gt;</div><div class=\"line\">        &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"First\"</span> /&gt;</div><div class=\"line\">        &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Second\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">1</span>]&#125; /&gt;</div><div class=\"line\">        &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Third\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">2</span>]&#125; /&gt;</div><div class=\"line\">        &lt;button onClick=&#123; () =&gt; <span class=\"keyword\">this</span>.forceUpdate() &#125;&gt;</div><div class=\"line\">          Click me to re-render!</div><div class=\"line\">        &lt;<span class=\"regexp\">/button&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;hr/</span>&gt;</div><div class=\"line\">        &lt;div&gt;Total Count: &#123;<span class=\"keyword\">this</span>.state.sum&#125;&lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</div><div class=\"line\">    );</div></pre></td></tr></table></figure><br>ControlPanelrendercomponentWillReceivePropsprops<br><img width=\"700\" src=\"/2017-06-12/05.jpeg\" title=\"\"></p>\n<p>nextPropsnextPropsthis.propsthis.setState</p>\n<h5 id=\"shouldComponentUpdate\"><a href=\"#shouldComponentUpdate\" class=\"headerlink\" title=\"shouldComponentUpdate\"></a>shouldComponentUpdate</h5><p>nextProps, nextStaterenderreacttrue<br>Counter<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">shouldComponentUpdate(nextProps, nextState) &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> (nextProps.caption !== <span class=\"keyword\">this</span>.props.caption) ||</div><div class=\"line\">           (nextState.count !== <span class=\"keyword\">this</span>.state.count);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure><br>render<br><img width=\"700\" src=\"/2017-06-12/05.jpeg\" title=\"\"></p>\n<h5 id=\"componentWillUpdatecomponentDidUpdate\"><a href=\"#componentWillUpdatecomponentDidUpdate\" class=\"headerlink\" title=\"componentWillUpdatecomponentDidUpdate\"></a>componentWillUpdatecomponentDidUpdate</h5><p>shouldComponentUpdatetruecomponentWillUpdaterendercomponentDidUpdate</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>DOMReactDOMcomponentDidMountjsDOMDOM</p>\n<p>ReactpropReduxprop<a href=\"https://github.com/wqzwh/react-redux-demo/tree/master/src/demo/01\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/react-redux-demo/tree/master/src/demo/01</a> </p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><b></b><b></b></p>\n<p><b>:</b>htmlcssjsreactcssjshtml</p>\n<p><b>:</b></p>","more":"<h3 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h3><p>react<b>prop</b><b>state</b>propstatereactpropstate</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Counter</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"comment\">// superthis.props</span></div><div class=\"line\">    <span class=\"keyword\">super</span>(props);</div><div class=\"line\">    <span class=\"comment\">//state</span></div><div class=\"line\">    <span class=\"keyword\">this</span>.state = &#123;</div><div class=\"line\">      text: <span class=\"number\">1</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  render() &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> &#123;caption&#125; = <span class=\"keyword\">this</span>.props; <span class=\"comment\">//this.propscaption</span></div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div className=<span class=\"string\">\"App\"</span>&gt;</div><div class=\"line\">        &#123;<span class=\"keyword\">this</span>.state.text&#125;</div><div class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    );</span></div><div class=\"line\"><span class=\"regexp\">  &#125;</span></div><div class=\"line\"><span class=\"regexp\">&#125;</span></div><div class=\"line\"><span class=\"regexp\">/</span><span class=\"regexp\">/ </span></div><div class=\"line\"><span class=\"regexp\">class ControlPanel extends Component &#123;</span></div><div class=\"line\"><span class=\"regexp\">  render() &#123;</span></div><div class=\"line\"><span class=\"regexp\">    console.log('enter ControlPanel render');</span></div><div class=\"line\"><span class=\"regexp\">    return (</span></div><div class=\"line\"><span class=\"regexp\">      &lt;div style=&#123;style&#125;&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;Counter caption=\"First\"/</span>&gt;</div><div class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    );</span></div><div class=\"line\"><span class=\"regexp\">  &#125;</span></div><div class=\"line\"><span class=\"regexp\">&#125;;</span></div></pre></td></tr></table></figure>\n<h4 id=\"Reactprop\"><a href=\"#Reactprop\" class=\"headerlink\" title=\"Reactprop\"></a>Reactprop</h4><p>propprop<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"comment\">// superthis.props</span></div><div class=\"line\">    <span class=\"keyword\">super</span>(props);</div><div class=\"line\">    <span class=\"comment\">//state</span></div><div class=\"line\">    <span class=\"keyword\">this</span>.state = &#123;</div><div class=\"line\">      text: <span class=\"number\">1</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//render  </span></div><div class=\"line\"><span class=\"keyword\">return</span> (</div><div class=\"line\">    &lt;Counter caption=<span class=\"string\">\"First\"</span>/&gt;</div><div class=\"line\">);</div></pre></td></tr></table></figure></p>\n<p>superReact.Componentthis.propsthisrender</p>\n<h4 id=\"propTypes\"><a href=\"#propTypes\" class=\"headerlink\" title=\"propTypes\"></a>propTypes</h4><p>propTypesproppropTypes<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">Counter.propTypes = &#123;</div><div class=\"line\">  caption:PropTypes.string.isRequired,</div><div class=\"line\">  initValue:PropTypes.number</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure><br>captionstringinitValuenumberisRequiredcaptioninitValue</p>\n<p>propTypesbabel-react-optimizepropTypes</p>\n<h4 id=\"Reactstate\"><a href=\"#Reactstate\" class=\"headerlink\" title=\"Reactstate\"></a>Reactstate</h4><p>statestatestringnumber<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.state = &#123;</div><div class=\"line\">      text: <span class=\"number\">1</span>, <span class=\"comment\">// state</span></div><div class=\"line\">      num:props.num || <span class=\"number\">1</span> <span class=\"comment\">// </span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure><br>this.statethis.statereactsetStaterender</p>\n<h4 id=\"propstate\"><a href=\"#propstate\" class=\"headerlink\" title=\"propstate\"></a>propstate</h4><ul>\n<li>propstate</li>\n<li>propstate</li>\n<li>propstate</li>\n</ul>\n<p>propsreactpropsprops</p>\n<h3 id=\"prop\"><a href=\"#prop\" class=\"headerlink\" title=\"prop\"></a>prop</h3><p></p>\n<p><img width=\"600\" src=\"/2017-06-12/01.jpeg\" title=\"\"></p>\n<p>prop</p>\n<p>CounterupdateCountthis.props.onUpdate<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">onClickIncrementButton() &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.updateCount(<span class=\"literal\">true</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">onClickDecrementButton() &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.updateCount(<span class=\"literal\">false</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">updateCount(isIncrement) &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> previousValue = <span class=\"keyword\">this</span>.state.count;</div><div class=\"line\">  <span class=\"keyword\">const</span> newValue = isIncrement ? previousValue + <span class=\"number\">1</span> : previousValue - <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">this</span>.setState(&#123;<span class=\"attr\">count</span>: newValue&#125;)</div><div class=\"line\">  <span class=\"keyword\">this</span>.props.onUpdate(newValue, previousValue)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">Counter.propTypes = &#123;</div><div class=\"line\">  caption: PropTypes.string.isRequired,</div><div class=\"line\">  initValue: PropTypes.number,</div><div class=\"line\">  onUpdate: PropTypes.func</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\">Counter.defaultProps = &#123;</div><div class=\"line\">  initValue: <span class=\"number\">0</span>,</div><div class=\"line\">  onUpdate: <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f <span class=\"comment\">//</span></div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure></p>\n<p>renderonCounterUpdateonUpdateonUpdate<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">onCounterUpdate(newValue, previousValue) &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> valueChange = newValue - previousValue;</div><div class=\"line\">  <span class=\"keyword\">this</span>.setState(&#123; <span class=\"attr\">sum</span>: <span class=\"keyword\">this</span>.state.sum + valueChange&#125;);</div><div class=\"line\">&#125;</div><div class=\"line\">render() &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> (</div><div class=\"line\">    &lt;div style=&#123;style&#125;&gt;</div><div class=\"line\">      &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"First\"</span> /&gt;</div><div class=\"line\">      &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Second\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">1</span>]&#125; /&gt;</div><div class=\"line\">      &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Third\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">2</span>]&#125; /&gt;</div><div class=\"line\">      &lt;hr/&gt;</div><div class=\"line\">      &lt;div&gt;Total Count: &#123;<span class=\"keyword\">this</span>.state.sum&#125;&lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">    &lt;/</span>div&gt;</div><div class=\"line\">  );</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"prop\"><a href=\"#prop\" class=\"headerlink\" title=\"prop\"></a>prop</h3><p>updateupdatebug</p>\n<p><br><img width=\"300\" src=\"/2017-06-12/02.jpeg\" title=\"\"><br><br><img width=\"300\" src=\"/2017-06-12/03.jpeg\" title=\"\"></p>\n<p>propReduxRedux</p>\n<h3 id=\"react\"><a href=\"#react\" class=\"headerlink\" title=\"react\"></a>react</h3><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>DOM</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>(es6)</p>\n<ul>\n<li>constructor</li>\n<li>defaultProps</li>\n<li>componentWillMount</li>\n<li>render</li>\n<li>componentDidMount</li>\n</ul>\n<h5 id=\"constructor-NaN\"><a href=\"#constructor-NaN\" class=\"headerlink\" title=\"constructor\"></a>constructor</h5><p>es6React</p>\n<ul>\n<li>statestate</li>\n<li>this</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">constructor</span>(props) &#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(props);</div><div class=\"line\">    <span class=\"keyword\">this</span>.onClickIncrementButton = <span class=\"keyword\">this</span>.onClickIncrementButton.bind(<span class=\"keyword\">this</span>);</div><div class=\"line\">    <span class=\"keyword\">this</span>.onClickDecrementButton = <span class=\"keyword\">this</span>.onClickDecrementButton.bind(<span class=\"keyword\">this</span>);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure></p>\n<h5 id=\"defaultProps\"><a href=\"#defaultProps\" class=\"headerlink\" title=\"defaultProps\"></a>defaultProps</h5><p>props<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">Counter.defaultProps = &#123;</div><div class=\"line\">  initValue: <span class=\"number\">0</span>,</div><div class=\"line\">  onUpdate: <span class=\"function\"><span class=\"params\">f</span> =&gt;</span> f <span class=\"comment\">//</span></div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure></p>\n<h5 id=\"render\"><a href=\"#render\" class=\"headerlink\" title=\"render\"></a>render</h5><p>JSXReactJSXnullfalseReactDOM</p>\n<blockquote>\n<p>render</p>\n</blockquote>\n<h5 id=\"componentWillMountcomponentDidMount\"><a href=\"#componentWillMountcomponentDidMount\" class=\"headerlink\" title=\"componentWillMountcomponentDidMount\"></a>componentWillMountcomponentDidMount</h5><p>componentWillMountrenderDOMthis.setStatecomponentWillMount</p>\n<p>componentDidMountrenderDOMDOMrenderDOMDOMcomponentDidMountDOM</p>\n<p><img width=\"700\" src=\"/2017-06-12/04.jpeg\" title=\"DOM\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>componentWillReceiveProps</li>\n<li>shouldComponentUpdate</li>\n<li>componentWillUpdate</li>\n<li>render</li>\n<li>componentDidUpdate</li>\n</ul>\n<h5 id=\"componentWillReceiveProps\"><a href=\"#componentWillReceiveProps\" class=\"headerlink\" title=\"componentWillReceiveProps\"></a>componentWillReceiveProps</h5><p>propsstaterenderrenderpropscomponentWillReceiveProps</p>\n<p>Counter<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">componentWillReceiveProps(nextProps) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'enter componentWillReceiveProps '</span> + <span class=\"keyword\">this</span>.props.caption)</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure></p>\n<p>ControlPanel<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">render() &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'enter ControlPanel render'</span>);</div><div class=\"line\">    <span class=\"keyword\">return</span> (</div><div class=\"line\">      &lt;div style=&#123;style&#125;&gt;</div><div class=\"line\">        &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"First\"</span> /&gt;</div><div class=\"line\">        &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Second\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">1</span>]&#125; /&gt;</div><div class=\"line\">        &lt;Counter onUpdate=&#123;<span class=\"keyword\">this</span>.onCounterUpdate&#125; caption=<span class=\"string\">\"Third\"</span> initValue=&#123;<span class=\"keyword\">this</span>.initValues[<span class=\"number\">2</span>]&#125; /&gt;</div><div class=\"line\">        &lt;button onClick=&#123; () =&gt; <span class=\"keyword\">this</span>.forceUpdate() &#125;&gt;</div><div class=\"line\">          Click me to re-render!</div><div class=\"line\">        &lt;<span class=\"regexp\">/button&gt;</span></div><div class=\"line\"><span class=\"regexp\">        &lt;hr/</span>&gt;</div><div class=\"line\">        &lt;div&gt;Total Count: &#123;<span class=\"keyword\">this</span>.state.sum&#125;&lt;<span class=\"regexp\">/div&gt;</span></div><div class=\"line\"><span class=\"regexp\">      &lt;/</span>div&gt;</div><div class=\"line\">    );</div></pre></td></tr></table></figure><br>ControlPanelrendercomponentWillReceivePropsprops<br><img width=\"700\" src=\"/2017-06-12/05.jpeg\" title=\"\"></p>\n<p>nextPropsnextPropsthis.propsthis.setState</p>\n<h5 id=\"shouldComponentUpdate\"><a href=\"#shouldComponentUpdate\" class=\"headerlink\" title=\"shouldComponentUpdate\"></a>shouldComponentUpdate</h5><p>nextProps, nextStaterenderreacttrue<br>Counter<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">shouldComponentUpdate(nextProps, nextState) &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> (nextProps.caption !== <span class=\"keyword\">this</span>.props.caption) ||</div><div class=\"line\">           (nextState.count !== <span class=\"keyword\">this</span>.state.count);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure><br>render<br><img width=\"700\" src=\"/2017-06-12/05.jpeg\" title=\"\"></p>\n<h5 id=\"componentWillUpdatecomponentDidUpdate\"><a href=\"#componentWillUpdatecomponentDidUpdate\" class=\"headerlink\" title=\"componentWillUpdatecomponentDidUpdate\"></a>componentWillUpdatecomponentDidUpdate</h5><p>shouldComponentUpdatetruecomponentWillUpdaterendercomponentDidUpdate</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>DOMReactDOMcomponentDidMountjsDOMDOM</p>\n<p>ReactpropReduxprop<a href=\"https://github.com/wqzwh/react-redux-demo/tree/master/src/demo/01\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/react-redux-demo/tree/master/src/demo/01</a> </p>"},{"title":"vue-ssr(-)","comments":1,"date":"2017-06-01T13:09:11.000Z","_content":"\n### 1\n\nhtmlhtml\n\n1javavmphpsmarty\n2html, AJAXjs\n\t\n<!-- more -->\t\n\t\n\n### 2\n\n\n\n1seo\n2SPA\n\t\n\n\n\n### 3SSR\n\n Promise (preFetch)\n\n{% codeblock lang:javascript %}\n<script>window.__initial_state=data</script>\n{% endcodeblock %} \n\n\n\nvuex __initial_state__ React shouldComponentUpdate Diff\n\nVue2 SSR  SSR\n\n### 4vuevue-server-renderer\n\nvirtual domvue vue-server-renderer:\n\n![](vue-ssr/11.png)\n\nvuesourcenode\n\nsourceentry point,client entry,Vueserver entry,PromiseVueVue;\n\nsource webpack bundleclient bundle,server bundle, vue2 vue-server-rendererrender: rendererer/bundleRenderer ,render\n\nrenderervue vue,requirevue,vue-server-renderer bundleRenderer\n\nbundleRendererwebpackserver entry server-bundle,app vue\nrendererrenderToStringrenderToStreamweb\n\n### 5\n\n![](vue-ssr/22.jpeg)\n\n> vue","source":"_posts/vue-ssr.md","raw":"---\ntitle: vue-ssr(-)\ncomments: true\ndate: 2017-06-01 21:09:11\ntags: \n    - 'javascript'\n    - 'vue'\n---\n\n### 1\n\nhtmlhtml\n\n1javavmphpsmarty\n2html, AJAXjs\n\t\n<!-- more -->\t\n\t\n\n### 2\n\n\n\n1seo\n2SPA\n\t\n\n\n\n### 3SSR\n\n Promise (preFetch)\n\n{% codeblock lang:javascript %}\n<script>window.__initial_state=data</script>\n{% endcodeblock %} \n\n\n\nvuex __initial_state__ React shouldComponentUpdate Diff\n\nVue2 SSR  SSR\n\n### 4vuevue-server-renderer\n\nvirtual domvue vue-server-renderer:\n\n![](vue-ssr/11.png)\n\nvuesourcenode\n\nsourceentry point,client entry,Vueserver entry,PromiseVueVue;\n\nsource webpack bundleclient bundle,server bundle, vue2 vue-server-rendererrender: rendererer/bundleRenderer ,render\n\nrenderervue vue,requirevue,vue-server-renderer bundleRenderer\n\nbundleRendererwebpackserver entry server-bundle,app vue\nrendererrenderToStringrenderToStreamweb\n\n### 5\n\n![](vue-ssr/22.jpeg)\n\n> vue","slug":"vue-ssr","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1ih000hsvldbb33gfze","content":"<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>htmlhtml</p>\n<p>1javavmphpsmarty<br>2html, AJAXjs</p>\n<a id=\"more\"></a>    \n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p></p>\n<p>1seo<br>2SPA</p>\n<p></p>\n<h3 id=\"3SSR\"><a href=\"#3SSR\" class=\"headerlink\" title=\"3SSR\"></a>3SSR</h3><p> Promise (preFetch)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script&gt;<span class=\"built_in\">window</span>.__initial_state=data&lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure> \n<p></p>\n<p>vuex <strong>initial_state</strong> React shouldComponentUpdate Diff</p>\n<p>Vue2 SSR  SSR</p>\n<h3 id=\"4vuevue-server-renderer\"><a href=\"#4vuevue-server-renderer\" class=\"headerlink\" title=\"4vuevue-server-renderer\"></a>4vuevue-server-renderer</h3><p>virtual domvue vue-server-renderer:</p>\n<p><img src=\"/vue-ssr/11.png\" alt=\"\"></p>\n<p>vuesourcenode</p>\n<p>sourceentry point,client entry,Vueserver entry,PromiseVueVue;</p>\n<p>source webpack bundleclient bundle,server bundle, vue2 vue-server-rendererrender: rendererer/bundleRenderer ,render</p>\n<p>renderervue vue,requirevue,vue-server-renderer bundleRenderer</p>\n<p>bundleRendererwebpackserver entry server-bundle,app vue<br>rendererrenderToStringrenderToStreamweb</p>\n<h3 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h3><p><img src=\"/vue-ssr/22.jpeg\" alt=\"\"></p>\n<blockquote>\n<p>vue</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>htmlhtml</p>\n<p>1javavmphpsmarty<br>2html, AJAXjs</p>","more":"<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p></p>\n<p>1seo<br>2SPA</p>\n<p></p>\n<h3 id=\"3SSR\"><a href=\"#3SSR\" class=\"headerlink\" title=\"3SSR\"></a>3SSR</h3><p> Promise (preFetch)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script&gt;<span class=\"built_in\">window</span>.__initial_state=data&lt;<span class=\"regexp\">/script&gt;</span></div></pre></td></tr></table></figure> \n<p></p>\n<p>vuex <strong>initial_state</strong> React shouldComponentUpdate Diff</p>\n<p>Vue2 SSR  SSR</p>\n<h3 id=\"4vuevue-server-renderer\"><a href=\"#4vuevue-server-renderer\" class=\"headerlink\" title=\"4vuevue-server-renderer\"></a>4vuevue-server-renderer</h3><p>virtual domvue vue-server-renderer:</p>\n<p><img src=\"/vue-ssr/11.png\" alt=\"\"></p>\n<p>vuesourcenode</p>\n<p>sourceentry point,client entry,Vueserver entry,PromiseVueVue;</p>\n<p>source webpack bundleclient bundle,server bundle, vue2 vue-server-rendererrender: rendererer/bundleRenderer ,render</p>\n<p>renderervue vue,requirevue,vue-server-renderer bundleRenderer</p>\n<p>bundleRendererwebpackserver entry server-bundle,app vue<br>rendererrenderToStringrenderToStreamweb</p>\n<h3 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h3><p><img src=\"/vue-ssr/22.jpeg\" alt=\"\"></p>\n<blockquote>\n<p>vue</p>\n</blockquote>"},{"title":"vue-ssr()","comments":1,"date":"2017-06-05T12:09:11.000Z","_content":"\n### 1\n\naxiosajaxmockjs\n\n### 2\n\nnpmaxiosmockjs,mockjs--save-devmockmockmockRap\n\n{% codeblock lang:javascript %}\nnpm install axios --save\nnpm install mockjs --save-dev\n{% endcodeblock %} \n\n<!-- more -->\n\n### 3axios\n\n>\n\n{% codeblock lang:javascript %}\naxios.request(config);\naxios.get(url[,config]);\naxios.delete(url[,config]);\naxios.head(url[,config]);\naxios.post(url[,data[,config]]);\naxios.put(url[,data[,config]])\naxios.patch(url[,data[,config]])\n{% endcodeblock %} \n\n><a href=\"/2017-05-02/\" target=\"_blank\" >axios</a>\n\napi.js\n\n{% codeblock lang:javascript %}\nfunction ajax(url, type, options) {\n    return Q.Promise((resolve, reject) => {\n        axios({\n            method : type,\n            url : url,\n            // responseType:'stream',\n            data : options\n        })\n        .then((result) => {\n            if (result && result.status === 401) {\n                location.href = '/views/401.html'\n            }\n            if (result && result.status === 200) {\n                resolve(result.data);\n            } else {\n                reject({\n                    errno: result.errno,\n                    msg: result.msg\n                });\n            }\n        })\n        .catch(function(error) {\n            console.log(error,url);\n        });\n    })\n}\n\nconst config = {\n    get(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'get', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    post(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'post', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    put(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'put', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    delete(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'delete', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    jsonp(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'jsonp', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    }\n};\n\nexport default config;\n{% endcodeblock %}\n\n>mockjs\n\n\n1publicconf.jsurl\n{% codeblock lang:javascript %}\nmodule.exports = {\n    HOST: \"http://www.xxx.com\",\n    DEBUGMOCK: true\n};\n{% endcodeblock %}\n\n2componentconf.jsmockmock\n{% codeblock lang:javascript %}\nconst PUBCONF = require('../public/conf.js');\n\nexport const DEMO = {\n  DEBUGMOCK : PUBCONF.DEBUGMOCK,\n\n  INDEX_URL : PUBCONF.HOST + '/demo',\n  INDEX_URL_MOCK : true && PUBCONF.DEBUGMOCK\n}\n\nexport const ANOTHER_DEMO = {\n\n}\nexport default {\n    DEMO,\n    ANOTHER_DEMO\n}\n{% endcodeblock %}\n\n3conf.jsmockurl\n{% codeblock lang:javascript %}\nimport {DEMO} from '../conf.js';\nconst MODULECONF = {\n  'demo': {\n    NAME: 'demo',\n    ICON: '',\n    MOCK: DEMO.INDEX_URL_MOCK,\n    API: {\n      GET: DEMO.INDEX_URL,\n    }\n  },\n};\nexport default MODULECONF;\n{% endcodeblock %}\n\n4mockjsmock\n{% codeblock lang:javascript %}\nimport Mock from 'mockjs';\nexport default Mock.mock('http://www.xxx.com/demo', {\n    errno: 0,\n    msg: \"\",\n    data: [{\n        'name': '@name',\n        'age|1-100': 100,\n        'color': '@color'\n    }]\n});\n{% endcodeblock %}\n\n>\n\n![](vue-ssr3/11.jpeg)\n\nmockjswebpackexternals,mockjsgithub<a href=\"https://github.com/wqzwh/wq-vue-ssr\" target=\"_blank\"></a>\n","source":"_posts/vue-ssr3.md","raw":"---\ntitle: vue-ssr()\ncomments: true\ndate: 2017-06-05 20:09:11\ntags: \n    - 'javascript'\n    - 'vue'\n---\n\n### 1\n\naxiosajaxmockjs\n\n### 2\n\nnpmaxiosmockjs,mockjs--save-devmockmockmockRap\n\n{% codeblock lang:javascript %}\nnpm install axios --save\nnpm install mockjs --save-dev\n{% endcodeblock %} \n\n<!-- more -->\n\n### 3axios\n\n>\n\n{% codeblock lang:javascript %}\naxios.request(config);\naxios.get(url[,config]);\naxios.delete(url[,config]);\naxios.head(url[,config]);\naxios.post(url[,data[,config]]);\naxios.put(url[,data[,config]])\naxios.patch(url[,data[,config]])\n{% endcodeblock %} \n\n><a href=\"/2017-05-02/\" target=\"_blank\" >axios</a>\n\napi.js\n\n{% codeblock lang:javascript %}\nfunction ajax(url, type, options) {\n    return Q.Promise((resolve, reject) => {\n        axios({\n            method : type,\n            url : url,\n            // responseType:'stream',\n            data : options\n        })\n        .then((result) => {\n            if (result && result.status === 401) {\n                location.href = '/views/401.html'\n            }\n            if (result && result.status === 200) {\n                resolve(result.data);\n            } else {\n                reject({\n                    errno: result.errno,\n                    msg: result.msg\n                });\n            }\n        })\n        .catch(function(error) {\n            console.log(error,url);\n        });\n    })\n}\n\nconst config = {\n    get(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'get', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    post(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'post', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    put(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'put', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    delete(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'delete', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    },\n\n    jsonp(url, options) {\n        const _self = this;\n        return Q.Promise((resolve, reject) => {\n            ajax(url, 'jsonp', options)\n            .then((data) => {\n                resolve(data);\n            }, (error) => {\n                reject(error);\n            });\n        })\n    }\n};\n\nexport default config;\n{% endcodeblock %}\n\n>mockjs\n\n\n1publicconf.jsurl\n{% codeblock lang:javascript %}\nmodule.exports = {\n    HOST: \"http://www.xxx.com\",\n    DEBUGMOCK: true\n};\n{% endcodeblock %}\n\n2componentconf.jsmockmock\n{% codeblock lang:javascript %}\nconst PUBCONF = require('../public/conf.js');\n\nexport const DEMO = {\n  DEBUGMOCK : PUBCONF.DEBUGMOCK,\n\n  INDEX_URL : PUBCONF.HOST + '/demo',\n  INDEX_URL_MOCK : true && PUBCONF.DEBUGMOCK\n}\n\nexport const ANOTHER_DEMO = {\n\n}\nexport default {\n    DEMO,\n    ANOTHER_DEMO\n}\n{% endcodeblock %}\n\n3conf.jsmockurl\n{% codeblock lang:javascript %}\nimport {DEMO} from '../conf.js';\nconst MODULECONF = {\n  'demo': {\n    NAME: 'demo',\n    ICON: '',\n    MOCK: DEMO.INDEX_URL_MOCK,\n    API: {\n      GET: DEMO.INDEX_URL,\n    }\n  },\n};\nexport default MODULECONF;\n{% endcodeblock %}\n\n4mockjsmock\n{% codeblock lang:javascript %}\nimport Mock from 'mockjs';\nexport default Mock.mock('http://www.xxx.com/demo', {\n    errno: 0,\n    msg: \"\",\n    data: [{\n        'name': '@name',\n        'age|1-100': 100,\n        'color': '@color'\n    }]\n});\n{% endcodeblock %}\n\n>\n\n![](vue-ssr3/11.jpeg)\n\nmockjswebpackexternals,mockjsgithub<a href=\"https://github.com/wqzwh/wq-vue-ssr\" target=\"_blank\"></a>\n","slug":"vue-ssr3","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1il000jsvldlo8a5ug1","content":"<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>axiosajaxmockjs</p>\n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p>npmaxiosmockjs,mockjssave-devmockmockmockRap</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install axios --save</div><div class=\"line\">npm install mockjs --save-dev</div></pre></td></tr></table></figure> \n<a id=\"more\"></a>\n<h3 id=\"3axios\"><a href=\"#3axios\" class=\"headerlink\" title=\"3axios\"></a>3axios</h3><blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.request(config);</div><div class=\"line\">axios.get(url[,config]);</div><div class=\"line\">axios.delete(url[,config]);</div><div class=\"line\">axios.head(url[,config]);</div><div class=\"line\">axios.post(url[,data[,config]]);</div><div class=\"line\">axios.put(url[,data[,config]])</div><div class=\"line\">axios.patch(url[,data[,config]])</div></pre></td></tr></table></figure> \n<blockquote>\n<p><a href=\"/2017-05-02/\" target=\"_blank\">axios</a></p>\n</blockquote>\n<p>api.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ajax</span>(<span class=\"params\">url, type, options</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">        axios(&#123;</div><div class=\"line\">            method : type,</div><div class=\"line\">            url : url,</div><div class=\"line\">            <span class=\"comment\">// responseType:'stream',</span></div><div class=\"line\">            data : options</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">if</span> (result &amp;&amp; result.status === <span class=\"number\">401</span>) &#123;</div><div class=\"line\">                location.href = <span class=\"string\">'/views/401.html'</span></div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">if</span> (result &amp;&amp; result.status === <span class=\"number\">200</span>) &#123;</div><div class=\"line\">                resolve(result.data);</div><div class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                reject(&#123;</div><div class=\"line\">                    errno: result.errno,</div><div class=\"line\">                    msg: result.msg</div><div class=\"line\">                &#125;);</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>) </span>&#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(error,url);</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> config = &#123;</div><div class=\"line\">    get(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'get'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    post(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'post'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    put(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'put'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">delete</span>(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'delete'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    jsonp(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'jsonp'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> config;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>mockjs</p>\n</blockquote>\n<p>1publicconf.jsurl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</div><div class=\"line\">    HOST: <span class=\"string\">\"http://www.xxx.com\"</span>,</div><div class=\"line\">    DEBUGMOCK: <span class=\"literal\">true</span></div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure></p>\n<p>2componentconf.jsmockmock<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> PUBCONF = <span class=\"built_in\">require</span>(<span class=\"string\">'../public/conf.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DEMO = &#123;</div><div class=\"line\">  DEBUGMOCK : PUBCONF.DEBUGMOCK,</div><div class=\"line\"></div><div class=\"line\">  INDEX_URL : PUBCONF.HOST + <span class=\"string\">'/demo'</span>,</div><div class=\"line\">  INDEX_URL_MOCK : <span class=\"literal\">true</span> &amp;&amp; PUBCONF.DEBUGMOCK</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> ANOTHER_DEMO = &#123;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</div><div class=\"line\">    DEMO,</div><div class=\"line\">    ANOTHER_DEMO</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3conf.jsmockurl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;DEMO&#125; <span class=\"keyword\">from</span> <span class=\"string\">'../conf.js'</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> MODULECONF = &#123;</div><div class=\"line\">  <span class=\"string\">'demo'</span>: &#123;</div><div class=\"line\">    NAME: <span class=\"string\">'demo'</span>,</div><div class=\"line\">    ICON: <span class=\"string\">''</span>,</div><div class=\"line\">    MOCK: DEMO.INDEX_URL_MOCK,</div><div class=\"line\">    API: &#123;</div><div class=\"line\">      GET: DEMO.INDEX_URL,</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> MODULECONF;</div></pre></td></tr></table></figure></p>\n<p>4mockjsmock<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Mock <span class=\"keyword\">from</span> <span class=\"string\">'mockjs'</span>;</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> Mock.mock(<span class=\"string\">'http://www.xxx.com/demo'</span>, &#123;</div><div class=\"line\">    errno: <span class=\"number\">0</span>,</div><div class=\"line\">    msg: <span class=\"string\">\"\"</span>,</div><div class=\"line\">    data: [&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'@name'</span>,</div><div class=\"line\">        <span class=\"string\">'age|1-100'</span>: <span class=\"number\">100</span>,</div><div class=\"line\">        <span class=\"string\">'color'</span>: <span class=\"string\">'@color'</span></div><div class=\"line\">    &#125;]</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><img src=\"/vue-ssr3/11.jpeg\" alt=\"\"></p>\n<p>mockjswebpackexternals,mockjsgithub<a href=\"https://github.com/wqzwh/wq-vue-ssr\" target=\"_blank\"></a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>axiosajaxmockjs</p>\n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p>npmaxiosmockjs,mockjssave-devmockmockmockRap</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install axios --save</div><div class=\"line\">npm install mockjs --save-dev</div></pre></td></tr></table></figure>","more":"<h3 id=\"3axios\"><a href=\"#3axios\" class=\"headerlink\" title=\"3axios\"></a>3axios</h3><blockquote>\n<p></p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">axios.request(config);</div><div class=\"line\">axios.get(url[,config]);</div><div class=\"line\">axios.delete(url[,config]);</div><div class=\"line\">axios.head(url[,config]);</div><div class=\"line\">axios.post(url[,data[,config]]);</div><div class=\"line\">axios.put(url[,data[,config]])</div><div class=\"line\">axios.patch(url[,data[,config]])</div></pre></td></tr></table></figure> \n<blockquote>\n<p><a href=\"/2017-05-02/\" target=\"_blank\">axios</a></p>\n</blockquote>\n<p>api.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ajax</span>(<span class=\"params\">url, type, options</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">        axios(&#123;</div><div class=\"line\">            method : type,</div><div class=\"line\">            url : url,</div><div class=\"line\">            <span class=\"comment\">// responseType:'stream',</span></div><div class=\"line\">            data : options</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .then(<span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">if</span> (result &amp;&amp; result.status === <span class=\"number\">401</span>) &#123;</div><div class=\"line\">                location.href = <span class=\"string\">'/views/401.html'</span></div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"keyword\">if</span> (result &amp;&amp; result.status === <span class=\"number\">200</span>) &#123;</div><div class=\"line\">                resolve(result.data);</div><div class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                reject(&#123;</div><div class=\"line\">                    errno: result.errno,</div><div class=\"line\">                    msg: result.msg</div><div class=\"line\">                &#125;);</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .catch(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>) </span>&#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(error,url);</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">const</span> config = &#123;</div><div class=\"line\">    get(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'get'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    post(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'post'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    put(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'put'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">delete</span>(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'delete'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;,</div><div class=\"line\"></div><div class=\"line\">    jsonp(url, options) &#123;</div><div class=\"line\">        <span class=\"keyword\">const</span> _self = <span class=\"keyword\">this</span>;</div><div class=\"line\">        <span class=\"keyword\">return</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">            ajax(url, <span class=\"string\">'jsonp'</span>, options)</div><div class=\"line\">            .then(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</div><div class=\"line\">                resolve(data);</div><div class=\"line\">            &#125;, (error) =&gt; &#123;</div><div class=\"line\">                reject(error);</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> config;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>mockjs</p>\n</blockquote>\n<p>1publicconf.jsurl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</div><div class=\"line\">    HOST: <span class=\"string\">\"http://www.xxx.com\"</span>,</div><div class=\"line\">    DEBUGMOCK: <span class=\"literal\">true</span></div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure></p>\n<p>2componentconf.jsmockmock<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> PUBCONF = <span class=\"built_in\">require</span>(<span class=\"string\">'../public/conf.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> DEMO = &#123;</div><div class=\"line\">  DEBUGMOCK : PUBCONF.DEBUGMOCK,</div><div class=\"line\"></div><div class=\"line\">  INDEX_URL : PUBCONF.HOST + <span class=\"string\">'/demo'</span>,</div><div class=\"line\">  INDEX_URL_MOCK : <span class=\"literal\">true</span> &amp;&amp; PUBCONF.DEBUGMOCK</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> ANOTHER_DEMO = &#123;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</div><div class=\"line\">    DEMO,</div><div class=\"line\">    ANOTHER_DEMO</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>3conf.jsmockurl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;DEMO&#125; <span class=\"keyword\">from</span> <span class=\"string\">'../conf.js'</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> MODULECONF = &#123;</div><div class=\"line\">  <span class=\"string\">'demo'</span>: &#123;</div><div class=\"line\">    NAME: <span class=\"string\">'demo'</span>,</div><div class=\"line\">    ICON: <span class=\"string\">''</span>,</div><div class=\"line\">    MOCK: DEMO.INDEX_URL_MOCK,</div><div class=\"line\">    API: &#123;</div><div class=\"line\">      GET: DEMO.INDEX_URL,</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> MODULECONF;</div></pre></td></tr></table></figure></p>\n<p>4mockjsmock<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Mock <span class=\"keyword\">from</span> <span class=\"string\">'mockjs'</span>;</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> Mock.mock(<span class=\"string\">'http://www.xxx.com/demo'</span>, &#123;</div><div class=\"line\">    errno: <span class=\"number\">0</span>,</div><div class=\"line\">    msg: <span class=\"string\">\"\"</span>,</div><div class=\"line\">    data: [&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'@name'</span>,</div><div class=\"line\">        <span class=\"string\">'age|1-100'</span>: <span class=\"number\">100</span>,</div><div class=\"line\">        <span class=\"string\">'color'</span>: <span class=\"string\">'@color'</span></div><div class=\"line\">    &#125;]</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p><img src=\"/vue-ssr3/11.jpeg\" alt=\"\"></p>\n<p>mockjswebpackexternals,mockjsgithub<a href=\"https://github.com/wqzwh/wq-vue-ssr\" target=\"_blank\"></a></p>"},{"title":"vue-ssr()","comments":1,"date":"2017-06-02T12:09:11.000Z","_content":"\n### 1\n\nvuevuevue<font color=\"#0078d8\">vue-hackernews-2.0</font>,\n\n### 2\n\nnode6.10.1npm3.10.10\n\n\n\n<!-- more -->\n\n1vue 2.4.2\n2vuex 2.3.1\n3vue-router 2.7.0\n4vue-server-renderer 2.4.2\n5express 4.15.4\n6axios 0.16.2\n7q https://github.com/kriskowal/q.git\n8webpack 3.5.0\n9mockjs 1.0.1-beta3\n10babel \n\nnpm initpackage.json\n\n![](vue-ssr2/1.jpeg)\t\n\n### 3\n\n\n\n![](vue-ssr2/2.jpeg)\n\n> \n\t\ncomponents \nlib \npublic axiosapi\nrouter vue-router\nstore action.js,getter.js,mutationtype.js,state.js\napp.js \nApp.vue \nentry-cliententry-server\nindex.template.html\n\n#### app.js\n\nvue\n{% codeblock lang:javascript %}\nimport Vue from 'vue';\nimport App from './index.vue';\nimport router from './router'\nimport store from './store';\n\nnew Vue({\n\tel: '#app',\n\tstore,\n\trouter,\n\trender: (h) => h(App)\n});\n{% endcodeblock %} \n\nvue\n\n> ,routerstore\n\nwebpack\n\n{% codeblock lang:javascript %}\nimport Home from '../components/Home.vue'\n// \ncomponent: () => ('../components/Home.vue')\n{% endcodeblock %} \n\n\nroutercreateRouter\n\n{% codeblock lang:javascript %}\nimport Vue from 'vue'\nimport Router from 'vue-router';\nVue.use(Router)\nexport function createRouter() {\n    return new Router({\n        mode: 'history',\n        routes: [{\n            name:'home',\n            path: '/',\n            component: () =>\n                import ('../components/Home.vue')\n        }]\n    })\n}\n{% endcodeblock %} \n\nstorecreateStore\n\n{% codeblock lang:javascript %}\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport actions from './actions'\nimport getters from './getters'\n// modules\nimport Home from './modules/Home'\nVue.use(Vuex)\nexport function createStore() {\n  return new Vuex.Store({\n    actions,\n    getters,\n    modules:{\n      Home\n    },\n  })\n}\n{% endcodeblock %} \n\n\n\nrouterstoreapp.jscreateAppapprouterstoreappvuevuex-router-sync(route state) storeapp.js\n\n{% codeblock lang:javascript %}\nimport Vue from 'vue'\nimport App from './App.vue'\nimport { createRouter } from './router'\nimport { createStore } from './store'\nimport { sync } from 'vuex-router-sync'\nexport function createApp () {\n  //  router  store \n  const router = createRouter()\n  const store = createStore()\n  // (route state) store\n  sync(store, router)\n  //  router  store \n  const app = new Vue({\n    router,\n    store,\n    render: h => h(App)\n  })\n  //  app, router  store\n  return { app, router, store }\n}\n{% endcodeblock %} \n\n#### entry-client.js\n\nappcreateAppapprouterstore\n\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nconst { app, router, store } = createApp()\n{% endcodeblock %}\n\nonReady\n\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nconst { app, router, store } = createApp()\nrouter.onReady(() => {\n  app.$mount('#app')\n})\n{% endcodeblock %}\n\n\nbeforeResolverouter2.5.0router.beforeEach()\n\n{% codeblock lang:javascript %}\nrouter.beforeResolve((to, from, next) => {\n\t// to  from  \n\t// /\n\tconst matched = router.getMatchedComponents(to)\n    const prevMatched = router.getMatchedComponents(from)\n})\n{% endcodeblock %}\n\n state  window.__INITIAL_STATE__  HTML  store __INITIAL_STATE__ render  HTML \n{% codeblock lang:javascript %}\n// vuex\nif (window.__INITIAL_STATE__) {\n  store.replaceState(window.__INITIAL_STATE__)\n}\n{% endcodeblock %}\n\nQbabeles6Promise\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nimport Q from 'q';\nconst { app, router, store } = createApp()\nrouter.onReady(() => {\n  router.beforeResolve((to, from, next) => {\n      const matched = router.getMatchedComponents(to)\n      const prevMatched = router.getMatchedComponents(from)\n      // \n      // \n      let diffed = false\n      const activated = matched.filter((c, i) => {\n        return diffed || (diffed = (prevMatched[i] !== c))\n      })\n      if (!activated.length) {\n        return next()\n      }\n      // (loading indicator)\n      Q.all(activated.map(c => {\n        if (c.asyncData) {\n          return c.asyncData({ store, route: to })\n        }\n      })).then(() => {\n        // (loading indicator)\n        next()\n      }).catch(next)\n    })\n    app.$mount('#app')\n})\n// vuex\nif (window.__INITIAL_STATE__) {\n  store.replaceState(window.__INITIAL_STATE__)\n}\n{% endcodeblock %}\n\n#### entry-server.js\n\najax\n{% codeblock lang:javascript %}\n//asyncDataajax\nif (Component.asyncData) {\n  return Component.asyncData({\n    store,\n    route: router.currentRoute\n  })\n}\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nimport Q from 'q'\nexport default context => {\n  return new Q.Promise((resolve, reject) => {\n    const { app, router, store } = createApp()\n    router.push(context.url)\n    router.onReady(() => {\n      const matchedComponents = router.getMatchedComponents()\n      if (!matchedComponents.length) {\n        return reject({ code: 404 })\n      }\n      //  `asyncData()`\n      Q.all(matchedComponents.map(Component => {\n        if (Component.asyncData) {\n          return Component.asyncData({\n            store,\n            route: router.currentRoute\n          })\n        }\n      })).then(() => {\n        // (preFetch hook) resolve \n        //  store \n        // \n        //  `template`  renderer \n        //  `window.__INITIAL_STATE__` HTML\n        context.state = store.state\n        resolve(app)\n      }).catch(reject)\n    }, reject)\n  })\n}\n{% endcodeblock %}\n\n### 4\n\nsrc\n\n![](vue-ssr2/3.jpeg)\n\n\nbuild webpack\ndist webpack\nlog pm2\nserver.js node\npmlog.json pm2\n\n#### server.js\n\nserver.jsnodeapi\n{% codeblock lang:javascript %}\nconst Vue = require('vue')\nconst express = require('express')\nconst path = require('path')\nconst LRU = require('lru-cache')\nconst { createBundleRenderer } = require('vue-server-renderer')\nconst fs = require('fs')\nconst net = require('net')\n{% endcodeblock %}\n\nindex.template.htmlexpresswebpackdist\n\nproduction\n{% codeblock lang:javascript %}\nconst template = fs.readFileSync('./src/index.template.html', 'utf-8')\nconst isProd = process.env.NODE_ENV === 'production'\n{% endcodeblock %}\n\nvue-server-rendererdistcreateBundleRendererLRU\n{% codeblock lang:javascript %}\nconst resolve = file => path.resolve(__dirname, file)\nfunction createRenderer (bundle, options) {\n  return createBundleRenderer(bundle, Object.assign(options, {\n    template,\n    cache: LRU({\n      max: 1000,\n      maxAge: 1000 * 60 * 15\n    }),\n    basedir: resolve('./dist'),\n    runInNewContext: false\n  }))\n}\nlet renderer;\nlet readyPromise\nif (isProd) {\n  const bundle = require('./dist/vue-ssr-server-bundle.json')\n  const clientManifest = require('./dist/vue-ssr-client-manifest.json')\n  renderer = createRenderer(bundle, {\n    clientManifest\n  })\n} else {\n  readyPromise = require('./build/setup-dev-server')(server, (bundle, options) => {\n    renderer = createRenderer(bundle, options)\n  })\n}\n{% endcodeblock %}\n\nexpress\n{% codeblock lang:javascript %}\nconst server = express()\n\n//dist\nconst serve = (path, cache) => express.static(resolve(path), {\n  maxAge: cache && isProd ? 1000 * 60 * 60 * 24 * 30 : 0\n})\nserver.use('/dist', serve('./dist', true))\nserver.get('*', (req, res) => {\n  const context = {\n    title: 'hello',\n    url: req.url\n  }\n  renderer.renderToString(context, (err, html) => {\n    if (err) {\n      res.status(500).end('Internal Server Error')\n      return\n    }\n    res.end(html)\n  })\n})\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction probe(port, callback) {\n\n    var servers = net.createServer().listen(port)\n\n    var calledOnce = false\n\n    var timeoutRef = setTimeout(function() {\n        calledOnce = true\n        callback(false, port)\n    }, 2000)\n\n    timeoutRef.unref()\n\n    var connected = false\n\n    servers.on('listening', function() {\n        clearTimeout(timeoutRef)\n\n        if (servers)\n            servers.close()\n\n        if (!calledOnce) {\n            calledOnce = true\n            callback(true, port)\n        }\n    })\n\n    servers.on('error', function(err) {\n        clearTimeout(timeoutRef)\n\n        var result = true\n        if (err.code === 'EADDRINUSE')\n            result = false\n\n        if (!calledOnce) {\n            calledOnce = true\n            callback(result, port)\n        }\n    })\n}\nvar checkPortPromise = new Promise((resolve) => {\n    (function serverport(_port) {\n        var pt = _port || 8080;\n        probe(pt, function(bl, _pt) {\n            //  bl false\n            // _pt\n            if (bl === true) {\n                // console.log(\"\\n  Static file server running at\" + \"\\n\\n=> http://localhost:\" + _pt + '\\n');\n                resolve(_pt);\n            } else {\n                serverport(_pt + 1)\n            }\n        })\n    })()\n\n})\ncheckPortPromise.then(data => {\n    uri = 'http://localhost:' + data;\n    console.log(''+uri)\n    server.listen(data);\n});\n{% endcodeblock %}\n\nwebpackdemo\n![demo](vue-ssr2/4.jpeg)\n\n>mockjsaxios\n\t\n","source":"_posts/vue-ssr2.md","raw":"---\ntitle: vue-ssr()\ncomments: true\ndate: 2017-06-02 20:09:11\ntags: \n    - 'javascript'\n    - 'vue'\n---\n\n### 1\n\nvuevuevue<font color=\"#0078d8\">vue-hackernews-2.0</font>,\n\n### 2\n\nnode6.10.1npm3.10.10\n\n\n\n<!-- more -->\n\n1vue 2.4.2\n2vuex 2.3.1\n3vue-router 2.7.0\n4vue-server-renderer 2.4.2\n5express 4.15.4\n6axios 0.16.2\n7q https://github.com/kriskowal/q.git\n8webpack 3.5.0\n9mockjs 1.0.1-beta3\n10babel \n\nnpm initpackage.json\n\n![](vue-ssr2/1.jpeg)\t\n\n### 3\n\n\n\n![](vue-ssr2/2.jpeg)\n\n> \n\t\ncomponents \nlib \npublic axiosapi\nrouter vue-router\nstore action.js,getter.js,mutationtype.js,state.js\napp.js \nApp.vue \nentry-cliententry-server\nindex.template.html\n\n#### app.js\n\nvue\n{% codeblock lang:javascript %}\nimport Vue from 'vue';\nimport App from './index.vue';\nimport router from './router'\nimport store from './store';\n\nnew Vue({\n\tel: '#app',\n\tstore,\n\trouter,\n\trender: (h) => h(App)\n});\n{% endcodeblock %} \n\nvue\n\n> ,routerstore\n\nwebpack\n\n{% codeblock lang:javascript %}\nimport Home from '../components/Home.vue'\n// \ncomponent: () => ('../components/Home.vue')\n{% endcodeblock %} \n\n\nroutercreateRouter\n\n{% codeblock lang:javascript %}\nimport Vue from 'vue'\nimport Router from 'vue-router';\nVue.use(Router)\nexport function createRouter() {\n    return new Router({\n        mode: 'history',\n        routes: [{\n            name:'home',\n            path: '/',\n            component: () =>\n                import ('../components/Home.vue')\n        }]\n    })\n}\n{% endcodeblock %} \n\nstorecreateStore\n\n{% codeblock lang:javascript %}\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport actions from './actions'\nimport getters from './getters'\n// modules\nimport Home from './modules/Home'\nVue.use(Vuex)\nexport function createStore() {\n  return new Vuex.Store({\n    actions,\n    getters,\n    modules:{\n      Home\n    },\n  })\n}\n{% endcodeblock %} \n\n\n\nrouterstoreapp.jscreateAppapprouterstoreappvuevuex-router-sync(route state) storeapp.js\n\n{% codeblock lang:javascript %}\nimport Vue from 'vue'\nimport App from './App.vue'\nimport { createRouter } from './router'\nimport { createStore } from './store'\nimport { sync } from 'vuex-router-sync'\nexport function createApp () {\n  //  router  store \n  const router = createRouter()\n  const store = createStore()\n  // (route state) store\n  sync(store, router)\n  //  router  store \n  const app = new Vue({\n    router,\n    store,\n    render: h => h(App)\n  })\n  //  app, router  store\n  return { app, router, store }\n}\n{% endcodeblock %} \n\n#### entry-client.js\n\nappcreateAppapprouterstore\n\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nconst { app, router, store } = createApp()\n{% endcodeblock %}\n\nonReady\n\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nconst { app, router, store } = createApp()\nrouter.onReady(() => {\n  app.$mount('#app')\n})\n{% endcodeblock %}\n\n\nbeforeResolverouter2.5.0router.beforeEach()\n\n{% codeblock lang:javascript %}\nrouter.beforeResolve((to, from, next) => {\n\t// to  from  \n\t// /\n\tconst matched = router.getMatchedComponents(to)\n    const prevMatched = router.getMatchedComponents(from)\n})\n{% endcodeblock %}\n\n state  window.__INITIAL_STATE__  HTML  store __INITIAL_STATE__ render  HTML \n{% codeblock lang:javascript %}\n// vuex\nif (window.__INITIAL_STATE__) {\n  store.replaceState(window.__INITIAL_STATE__)\n}\n{% endcodeblock %}\n\nQbabeles6Promise\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nimport Q from 'q';\nconst { app, router, store } = createApp()\nrouter.onReady(() => {\n  router.beforeResolve((to, from, next) => {\n      const matched = router.getMatchedComponents(to)\n      const prevMatched = router.getMatchedComponents(from)\n      // \n      // \n      let diffed = false\n      const activated = matched.filter((c, i) => {\n        return diffed || (diffed = (prevMatched[i] !== c))\n      })\n      if (!activated.length) {\n        return next()\n      }\n      // (loading indicator)\n      Q.all(activated.map(c => {\n        if (c.asyncData) {\n          return c.asyncData({ store, route: to })\n        }\n      })).then(() => {\n        // (loading indicator)\n        next()\n      }).catch(next)\n    })\n    app.$mount('#app')\n})\n// vuex\nif (window.__INITIAL_STATE__) {\n  store.replaceState(window.__INITIAL_STATE__)\n}\n{% endcodeblock %}\n\n#### entry-server.js\n\najax\n{% codeblock lang:javascript %}\n//asyncDataajax\nif (Component.asyncData) {\n  return Component.asyncData({\n    store,\n    route: router.currentRoute\n  })\n}\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nimport { createApp } from './app'\nimport Q from 'q'\nexport default context => {\n  return new Q.Promise((resolve, reject) => {\n    const { app, router, store } = createApp()\n    router.push(context.url)\n    router.onReady(() => {\n      const matchedComponents = router.getMatchedComponents()\n      if (!matchedComponents.length) {\n        return reject({ code: 404 })\n      }\n      //  `asyncData()`\n      Q.all(matchedComponents.map(Component => {\n        if (Component.asyncData) {\n          return Component.asyncData({\n            store,\n            route: router.currentRoute\n          })\n        }\n      })).then(() => {\n        // (preFetch hook) resolve \n        //  store \n        // \n        //  `template`  renderer \n        //  `window.__INITIAL_STATE__` HTML\n        context.state = store.state\n        resolve(app)\n      }).catch(reject)\n    }, reject)\n  })\n}\n{% endcodeblock %}\n\n### 4\n\nsrc\n\n![](vue-ssr2/3.jpeg)\n\n\nbuild webpack\ndist webpack\nlog pm2\nserver.js node\npmlog.json pm2\n\n#### server.js\n\nserver.jsnodeapi\n{% codeblock lang:javascript %}\nconst Vue = require('vue')\nconst express = require('express')\nconst path = require('path')\nconst LRU = require('lru-cache')\nconst { createBundleRenderer } = require('vue-server-renderer')\nconst fs = require('fs')\nconst net = require('net')\n{% endcodeblock %}\n\nindex.template.htmlexpresswebpackdist\n\nproduction\n{% codeblock lang:javascript %}\nconst template = fs.readFileSync('./src/index.template.html', 'utf-8')\nconst isProd = process.env.NODE_ENV === 'production'\n{% endcodeblock %}\n\nvue-server-rendererdistcreateBundleRendererLRU\n{% codeblock lang:javascript %}\nconst resolve = file => path.resolve(__dirname, file)\nfunction createRenderer (bundle, options) {\n  return createBundleRenderer(bundle, Object.assign(options, {\n    template,\n    cache: LRU({\n      max: 1000,\n      maxAge: 1000 * 60 * 15\n    }),\n    basedir: resolve('./dist'),\n    runInNewContext: false\n  }))\n}\nlet renderer;\nlet readyPromise\nif (isProd) {\n  const bundle = require('./dist/vue-ssr-server-bundle.json')\n  const clientManifest = require('./dist/vue-ssr-client-manifest.json')\n  renderer = createRenderer(bundle, {\n    clientManifest\n  })\n} else {\n  readyPromise = require('./build/setup-dev-server')(server, (bundle, options) => {\n    renderer = createRenderer(bundle, options)\n  })\n}\n{% endcodeblock %}\n\nexpress\n{% codeblock lang:javascript %}\nconst server = express()\n\n//dist\nconst serve = (path, cache) => express.static(resolve(path), {\n  maxAge: cache && isProd ? 1000 * 60 * 60 * 24 * 30 : 0\n})\nserver.use('/dist', serve('./dist', true))\nserver.get('*', (req, res) => {\n  const context = {\n    title: 'hello',\n    url: req.url\n  }\n  renderer.renderToString(context, (err, html) => {\n    if (err) {\n      res.status(500).end('Internal Server Error')\n      return\n    }\n    res.end(html)\n  })\n})\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction probe(port, callback) {\n\n    var servers = net.createServer().listen(port)\n\n    var calledOnce = false\n\n    var timeoutRef = setTimeout(function() {\n        calledOnce = true\n        callback(false, port)\n    }, 2000)\n\n    timeoutRef.unref()\n\n    var connected = false\n\n    servers.on('listening', function() {\n        clearTimeout(timeoutRef)\n\n        if (servers)\n            servers.close()\n\n        if (!calledOnce) {\n            calledOnce = true\n            callback(true, port)\n        }\n    })\n\n    servers.on('error', function(err) {\n        clearTimeout(timeoutRef)\n\n        var result = true\n        if (err.code === 'EADDRINUSE')\n            result = false\n\n        if (!calledOnce) {\n            calledOnce = true\n            callback(result, port)\n        }\n    })\n}\nvar checkPortPromise = new Promise((resolve) => {\n    (function serverport(_port) {\n        var pt = _port || 8080;\n        probe(pt, function(bl, _pt) {\n            //  bl false\n            // _pt\n            if (bl === true) {\n                // console.log(\"\\n  Static file server running at\" + \"\\n\\n=> http://localhost:\" + _pt + '\\n');\n                resolve(_pt);\n            } else {\n                serverport(_pt + 1)\n            }\n        })\n    })()\n\n})\ncheckPortPromise.then(data => {\n    uri = 'http://localhost:' + data;\n    console.log(''+uri)\n    server.listen(data);\n});\n{% endcodeblock %}\n\nwebpackdemo\n![demo](vue-ssr2/4.jpeg)\n\n>mockjsaxios\n\t\n","slug":"vue-ssr2","published":1,"updated":"2017-08-26T12:58:33.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1in000lsvlddj2j8fdp","content":"<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>vuevuevue<font color=\"#0078d8\">vue-hackernews-2.0</font>,</p>\n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p>node6.10.1npm3.10.10</p>\n<p></p>\n<a id=\"more\"></a>\n<p>1vue 2.4.2<br>2vuex 2.3.1<br>3vue-router 2.7.0<br>4vue-server-renderer 2.4.2<br>5express 4.15.4<br>6axios 0.16.2<br>7q <a href=\"https://github.com/kriskowal/q.git\" target=\"_blank\" rel=\"external\">https://github.com/kriskowal/q.git</a><br>8webpack 3.5.0<br>9mockjs 1.0.1-beta3<br>10babel </p>\n<p>npm initpackage.json</p>\n<p><img src=\"/vue-ssr2/1.jpeg\" alt=\"\">    </p>\n<h3 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h3><p></p>\n<p><img src=\"/vue-ssr2/2.jpeg\" alt=\"\"></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>components <br>lib <br>public axiosapi<br>router vue-router<br>store action.js,getter.js,mutationtype.js,state.js<br>app.js <br>App.vue <br>entry-cliententry-server<br>index.template.html</p>\n<h4 id=\"app-js\"><a href=\"#app-js\" class=\"headerlink\" title=\"app.js\"></a>app.js</h4><p>vue<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./index.vue'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> router <span class=\"keyword\">from</span> <span class=\"string\">'./router'</span></div><div class=\"line\"><span class=\"keyword\">import</span> store <span class=\"keyword\">from</span> <span class=\"string\">'./store'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">new</span> Vue(&#123;</div><div class=\"line\">\tel: <span class=\"string\">'#app'</span>,</div><div class=\"line\">\tstore,</div><div class=\"line\">\trouter,</div><div class=\"line\">\trender: <span class=\"function\">(<span class=\"params\">h</span>) =&gt;</span> h(App)</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure> </p>\n<p>vue</p>\n<blockquote>\n<p>,routerstore</p>\n</blockquote>\n<p>webpack</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Home <span class=\"keyword\">from</span> <span class=\"string\">'../components/Home.vue'</span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">component: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> (<span class=\"string\">'../components/Home.vue'</span>)</div></pre></td></tr></table></figure> \n<p>routercreateRouter</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Router <span class=\"keyword\">from</span> <span class=\"string\">'vue-router'</span>;</div><div class=\"line\">Vue.use(Router)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createRouter</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Router(&#123;</div><div class=\"line\">        mode: <span class=\"string\">'history'</span>,</div><div class=\"line\">        routes: [&#123;</div><div class=\"line\">            name:<span class=\"string\">'home'</span>,</div><div class=\"line\">            path: <span class=\"string\">'/'</span>,</div><div class=\"line\">            component: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span></div><div class=\"line\">                <span class=\"keyword\">import</span> (<span class=\"string\">'../components/Home.vue'</span>)</div><div class=\"line\">        &#125;]</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<p>storecreateStore</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Vuex <span class=\"keyword\">from</span> <span class=\"string\">'vuex'</span></div><div class=\"line\"><span class=\"keyword\">import</span> actions <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span></div><div class=\"line\"><span class=\"keyword\">import</span> getters <span class=\"keyword\">from</span> <span class=\"string\">'./getters'</span></div><div class=\"line\"><span class=\"comment\">// modules</span></div><div class=\"line\"><span class=\"keyword\">import</span> Home <span class=\"keyword\">from</span> <span class=\"string\">'./modules/Home'</span></div><div class=\"line\">Vue.use(Vuex)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createStore</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Vuex.Store(&#123;</div><div class=\"line\">    actions,</div><div class=\"line\">    getters,</div><div class=\"line\">    modules:&#123;</div><div class=\"line\">      Home</div><div class=\"line\">    &#125;,</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<p>routerstoreapp.jscreateAppapprouterstoreappvuevuex-router-sync(route state) storeapp.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./App.vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; createRouter &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./router'</span></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; createStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./store'</span></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; sync &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vuex-router-sync'</span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createApp</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"comment\">//  router  store </span></div><div class=\"line\">  <span class=\"keyword\">const</span> router = createRouter()</div><div class=\"line\">  <span class=\"keyword\">const</span> store = createStore()</div><div class=\"line\">  <span class=\"comment\">// (route state) store</span></div><div class=\"line\">  sync(store, router)</div><div class=\"line\">  <span class=\"comment\">//  router  store </span></div><div class=\"line\">  <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</div><div class=\"line\">    router,</div><div class=\"line\">    store,</div><div class=\"line\">    render: <span class=\"function\"><span class=\"params\">h</span> =&gt;</span> h(App)</div><div class=\"line\">  &#125;)</div><div class=\"line\">  <span class=\"comment\">//  app, router  store</span></div><div class=\"line\">  <span class=\"keyword\">return</span> &#123; app, router, store &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<h4 id=\"entry-client-js\"><a href=\"#entry-client-js\" class=\"headerlink\" title=\"entry-client.js\"></a>entry-client.js</h4><p>appcreateAppapprouterstore</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div></pre></td></tr></table></figure>\n<p>onReady</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div><div class=\"line\">router.onReady(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">  app.$mount(<span class=\"string\">'#app'</span>)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>beforeResolverouter2.5.0router.beforeEach()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">router.beforeResolve(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</div><div class=\"line\">\t<span class=\"comment\">// to  from  </span></div><div class=\"line\">\t<span class=\"comment\">// /</span></div><div class=\"line\">\t<span class=\"keyword\">const</span> matched = router.getMatchedComponents(to)</div><div class=\"line\">    <span class=\"keyword\">const</span> prevMatched = router.getMatchedComponents(<span class=\"keyword\">from</span>)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p> state  window.<strong>INITIAL_STATE</strong>  HTML  store <strong>INITIAL_STATE</strong> render  HTML <br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// vuex</span></div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.__INITIAL_STATE__) &#123;</div><div class=\"line\">  store.replaceState(<span class=\"built_in\">window</span>.__INITIAL_STATE__)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>Qbabeles6Promise<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Q <span class=\"keyword\">from</span> <span class=\"string\">'q'</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div><div class=\"line\">router.onReady(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">  router.beforeResolve(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">const</span> matched = router.getMatchedComponents(to)</div><div class=\"line\">      <span class=\"keyword\">const</span> prevMatched = router.getMatchedComponents(<span class=\"keyword\">from</span>)</div><div class=\"line\">      <span class=\"comment\">// </span></div><div class=\"line\">      <span class=\"comment\">// </span></div><div class=\"line\">      <span class=\"keyword\">let</span> diffed = <span class=\"literal\">false</span></div><div class=\"line\">      <span class=\"keyword\">const</span> activated = matched.filter(<span class=\"function\">(<span class=\"params\">c, i</span>) =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> diffed || (diffed = (prevMatched[i] !== c))</div><div class=\"line\">      &#125;)</div><div class=\"line\">      <span class=\"keyword\">if</span> (!activated.length) &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> next()</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"comment\">// (loading indicator)</span></div><div class=\"line\">      Q.all(activated.map(<span class=\"function\"><span class=\"params\">c</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (c.asyncData) &#123;</div><div class=\"line\">          <span class=\"keyword\">return</span> c.asyncData(&#123; store, <span class=\"attr\">route</span>: to &#125;)</div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;)).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"comment\">// (loading indicator)</span></div><div class=\"line\">        next()</div><div class=\"line\">      &#125;).catch(next)</div><div class=\"line\">    &#125;)</div><div class=\"line\">    app.$mount(<span class=\"string\">'#app'</span>)</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"comment\">// vuex</span></div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.__INITIAL_STATE__) &#123;</div><div class=\"line\">  store.replaceState(<span class=\"built_in\">window</span>.__INITIAL_STATE__)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"entry-server-js\"><a href=\"#entry-server-js\" class=\"headerlink\" title=\"entry-server.js\"></a>entry-server.js</h4><p>ajax<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//asyncDataajax</span></div><div class=\"line\"><span class=\"keyword\">if</span> (Component.asyncData) &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> Component.asyncData(&#123;</div><div class=\"line\">    store,</div><div class=\"line\">    route: router.currentRoute</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Q <span class=\"keyword\">from</span> <span class=\"string\">'q'</span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> context =&gt; &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div><div class=\"line\">    router.push(context.url)</div><div class=\"line\">    router.onReady(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">const</span> matchedComponents = router.getMatchedComponents()</div><div class=\"line\">      <span class=\"keyword\">if</span> (!matchedComponents.length) &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> reject(&#123; <span class=\"attr\">code</span>: <span class=\"number\">404</span> &#125;)</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"comment\">//  `asyncData()`</span></div><div class=\"line\">      Q.all(matchedComponents.map(<span class=\"function\"><span class=\"params\">Component</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (Component.asyncData) &#123;</div><div class=\"line\">          <span class=\"keyword\">return</span> Component.asyncData(&#123;</div><div class=\"line\">            store,</div><div class=\"line\">            route: router.currentRoute</div><div class=\"line\">          &#125;)</div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;)).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"comment\">// (preFetch hook) resolve </span></div><div class=\"line\">        <span class=\"comment\">//  store </span></div><div class=\"line\">        <span class=\"comment\">// </span></div><div class=\"line\">        <span class=\"comment\">//  `template`  renderer </span></div><div class=\"line\">        <span class=\"comment\">//  `window.__INITIAL_STATE__` HTML</span></div><div class=\"line\">        context.state = store.state</div><div class=\"line\">        resolve(app)</div><div class=\"line\">      &#125;).catch(reject)</div><div class=\"line\">    &#125;, reject)</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h3><p>src</p>\n<p><img src=\"/vue-ssr2/3.jpeg\" alt=\"\"></p>\n<p><br>build webpack<br>dist webpack<br>log pm2<br>server.js node<br>pmlog.json pm2</p>\n<h4 id=\"server-js\"><a href=\"#server-js\" class=\"headerlink\" title=\"server.js\"></a>server.js</h4><p>server.jsnodeapi<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> Vue = <span class=\"built_in\">require</span>(<span class=\"string\">'vue'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> express = <span class=\"built_in\">require</span>(<span class=\"string\">'express'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> LRU = <span class=\"built_in\">require</span>(<span class=\"string\">'lru-cache'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> &#123; createBundleRenderer &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'vue-server-renderer'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> net = <span class=\"built_in\">require</span>(<span class=\"string\">'net'</span>)</div></pre></td></tr></table></figure></p>\n<p>index.template.htmlexpresswebpackdist</p>\n<p>production<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> template = fs.readFileSync(<span class=\"string\">'./src/index.template.html'</span>, <span class=\"string\">'utf-8'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> isProd = process.env.NODE_ENV === <span class=\"string\">'production'</span></div></pre></td></tr></table></figure></p>\n<p>vue-server-rendererdistcreateBundleRendererLRU<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> resolve = <span class=\"function\"><span class=\"params\">file</span> =&gt;</span> path.resolve(__dirname, file)</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createRenderer</span> (<span class=\"params\">bundle, options</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> createBundleRenderer(bundle, <span class=\"built_in\">Object</span>.assign(options, &#123;</div><div class=\"line\">    template,</div><div class=\"line\">    cache: LRU(&#123;</div><div class=\"line\">      max: <span class=\"number\">1000</span>,</div><div class=\"line\">      maxAge: <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">15</span></div><div class=\"line\">    &#125;),</div><div class=\"line\">    basedir: resolve(<span class=\"string\">'./dist'</span>),</div><div class=\"line\">    runInNewContext: <span class=\"literal\">false</span></div><div class=\"line\">  &#125;))</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">let</span> renderer;</div><div class=\"line\"><span class=\"keyword\">let</span> readyPromise</div><div class=\"line\"><span class=\"keyword\">if</span> (isProd) &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> bundle = <span class=\"built_in\">require</span>(<span class=\"string\">'./dist/vue-ssr-server-bundle.json'</span>)</div><div class=\"line\">  <span class=\"keyword\">const</span> clientManifest = <span class=\"built_in\">require</span>(<span class=\"string\">'./dist/vue-ssr-client-manifest.json'</span>)</div><div class=\"line\">  renderer = createRenderer(bundle, &#123;</div><div class=\"line\">    clientManifest</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">  readyPromise = <span class=\"built_in\">require</span>(<span class=\"string\">'./build/setup-dev-server'</span>)(server, (bundle, options) =&gt; &#123;</div><div class=\"line\">    renderer = createRenderer(bundle, options)</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>express<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> server = express()</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//dist</span></div><div class=\"line\"><span class=\"keyword\">const</span> serve = <span class=\"function\">(<span class=\"params\">path, cache</span>) =&gt;</span> express.static(resolve(path), &#123;</div><div class=\"line\">  maxAge: cache &amp;&amp; isProd ? <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">60</span> * <span class=\"number\">24</span> * <span class=\"number\">30</span> : <span class=\"number\">0</span></div><div class=\"line\">&#125;)</div><div class=\"line\">server.use(<span class=\"string\">'/dist'</span>, serve(<span class=\"string\">'./dist'</span>, <span class=\"literal\">true</span>))</div><div class=\"line\">server.get(<span class=\"string\">'*'</span>, (req, res) =&gt; &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> context = &#123;</div><div class=\"line\">    title: <span class=\"string\">'hello'</span>,</div><div class=\"line\">    url: req.url</div><div class=\"line\">  &#125;</div><div class=\"line\">  renderer.renderToString(context, (err, html) =&gt; &#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (err) &#123;</div><div class=\"line\">      res.status(<span class=\"number\">500</span>).end(<span class=\"string\">'Internal Server Error'</span>)</div><div class=\"line\">      <span class=\"keyword\">return</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    res.end(html)</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">probe</span>(<span class=\"params\">port, callback</span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> servers = net.createServer().listen(port)</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> calledOnce = <span class=\"literal\">false</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> timeoutRef = setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        calledOnce = <span class=\"literal\">true</span></div><div class=\"line\">        callback(<span class=\"literal\">false</span>, port)</div><div class=\"line\">    &#125;, <span class=\"number\">2000</span>)</div><div class=\"line\"></div><div class=\"line\">    timeoutRef.unref()</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> connected = <span class=\"literal\">false</span></div><div class=\"line\"></div><div class=\"line\">    servers.on(<span class=\"string\">'listening'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        clearTimeout(timeoutRef)</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (servers)</div><div class=\"line\">            servers.close()</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (!calledOnce) &#123;</div><div class=\"line\">            calledOnce = <span class=\"literal\">true</span></div><div class=\"line\">            callback(<span class=\"literal\">true</span>, port)</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;)</div><div class=\"line\"></div><div class=\"line\">    servers.on(<span class=\"string\">'error'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">        clearTimeout(timeoutRef)</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"literal\">true</span></div><div class=\"line\">        <span class=\"keyword\">if</span> (err.code === <span class=\"string\">'EADDRINUSE'</span>)</div><div class=\"line\">            result = <span class=\"literal\">false</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (!calledOnce) &#123;</div><div class=\"line\">            calledOnce = <span class=\"literal\">true</span></div><div class=\"line\">            callback(result, port)</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> checkPortPromise = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</div><div class=\"line\">    (<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">serverport</span>(<span class=\"params\">_port</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> pt = _port || <span class=\"number\">8080</span>;</div><div class=\"line\">        probe(pt, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">bl, _pt</span>) </span>&#123;</div><div class=\"line\">            <span class=\"comment\">//  bl false</span></div><div class=\"line\">            <span class=\"comment\">// _pt</span></div><div class=\"line\">            <span class=\"keyword\">if</span> (bl === <span class=\"literal\">true</span>) &#123;</div><div class=\"line\">                <span class=\"comment\">// console.log(\"\\n  Static file server running at\" + \"\\n\\n=&gt; http://localhost:\" + _pt + '\\n');</span></div><div class=\"line\">                resolve(_pt);</div><div class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                serverport(_pt + <span class=\"number\">1</span>)</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;)()</div><div class=\"line\"></div><div class=\"line\">&#125;)</div><div class=\"line\">checkPortPromise.then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</div><div class=\"line\">    uri = <span class=\"string\">'http://localhost:'</span> + data;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>+uri)</div><div class=\"line\">    server.listen(data);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>webpackdemo<br><img src=\"/vue-ssr2/4.jpeg\" alt=\"demo\"></p>\n<blockquote>\n<p>mockjsaxios</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<h3 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h3><p>vuevuevue<font color=\"#0078d8\">vue-hackernews-2.0</font>,</p>\n<h3 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h3><p>node6.10.1npm3.10.10</p>\n<p></p>","more":"<p>1vue 2.4.2<br>2vuex 2.3.1<br>3vue-router 2.7.0<br>4vue-server-renderer 2.4.2<br>5express 4.15.4<br>6axios 0.16.2<br>7q <a href=\"https://github.com/kriskowal/q.git\" target=\"_blank\" rel=\"external\">https://github.com/kriskowal/q.git</a><br>8webpack 3.5.0<br>9mockjs 1.0.1-beta3<br>10babel </p>\n<p>npm initpackage.json</p>\n<p><img src=\"/vue-ssr2/1.jpeg\" alt=\"\">    </p>\n<h3 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h3><p></p>\n<p><img src=\"/vue-ssr2/2.jpeg\" alt=\"\"></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p>components <br>lib <br>public axiosapi<br>router vue-router<br>store action.js,getter.js,mutationtype.js,state.js<br>app.js <br>App.vue <br>entry-cliententry-server<br>index.template.html</p>\n<h4 id=\"app-js\"><a href=\"#app-js\" class=\"headerlink\" title=\"app.js\"></a>app.js</h4><p>vue<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./index.vue'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> router <span class=\"keyword\">from</span> <span class=\"string\">'./router'</span></div><div class=\"line\"><span class=\"keyword\">import</span> store <span class=\"keyword\">from</span> <span class=\"string\">'./store'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">new</span> Vue(&#123;</div><div class=\"line\">\tel: <span class=\"string\">'#app'</span>,</div><div class=\"line\">\tstore,</div><div class=\"line\">\trouter,</div><div class=\"line\">\trender: <span class=\"function\">(<span class=\"params\">h</span>) =&gt;</span> h(App)</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure> </p>\n<p>vue</p>\n<blockquote>\n<p>,routerstore</p>\n</blockquote>\n<p>webpack</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Home <span class=\"keyword\">from</span> <span class=\"string\">'../components/Home.vue'</span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">component: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> (<span class=\"string\">'../components/Home.vue'</span>)</div></pre></td></tr></table></figure> \n<p>routercreateRouter</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Router <span class=\"keyword\">from</span> <span class=\"string\">'vue-router'</span>;</div><div class=\"line\">Vue.use(Router)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createRouter</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Router(&#123;</div><div class=\"line\">        mode: <span class=\"string\">'history'</span>,</div><div class=\"line\">        routes: [&#123;</div><div class=\"line\">            name:<span class=\"string\">'home'</span>,</div><div class=\"line\">            path: <span class=\"string\">'/'</span>,</div><div class=\"line\">            component: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span></div><div class=\"line\">                <span class=\"keyword\">import</span> (<span class=\"string\">'../components/Home.vue'</span>)</div><div class=\"line\">        &#125;]</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<p>storecreateStore</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Vuex <span class=\"keyword\">from</span> <span class=\"string\">'vuex'</span></div><div class=\"line\"><span class=\"keyword\">import</span> actions <span class=\"keyword\">from</span> <span class=\"string\">'./actions'</span></div><div class=\"line\"><span class=\"keyword\">import</span> getters <span class=\"keyword\">from</span> <span class=\"string\">'./getters'</span></div><div class=\"line\"><span class=\"comment\">// modules</span></div><div class=\"line\"><span class=\"keyword\">import</span> Home <span class=\"keyword\">from</span> <span class=\"string\">'./modules/Home'</span></div><div class=\"line\">Vue.use(Vuex)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createStore</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Vuex.Store(&#123;</div><div class=\"line\">    actions,</div><div class=\"line\">    getters,</div><div class=\"line\">    modules:&#123;</div><div class=\"line\">      Home</div><div class=\"line\">    &#125;,</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<p>routerstoreapp.jscreateAppapprouterstoreappvuevuex-router-sync(route state) storeapp.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> App <span class=\"keyword\">from</span> <span class=\"string\">'./App.vue'</span></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; createRouter &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./router'</span></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; createStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./store'</span></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; sync &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vuex-router-sync'</span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createApp</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"comment\">//  router  store </span></div><div class=\"line\">  <span class=\"keyword\">const</span> router = createRouter()</div><div class=\"line\">  <span class=\"keyword\">const</span> store = createStore()</div><div class=\"line\">  <span class=\"comment\">// (route state) store</span></div><div class=\"line\">  sync(store, router)</div><div class=\"line\">  <span class=\"comment\">//  router  store </span></div><div class=\"line\">  <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</div><div class=\"line\">    router,</div><div class=\"line\">    store,</div><div class=\"line\">    render: <span class=\"function\"><span class=\"params\">h</span> =&gt;</span> h(App)</div><div class=\"line\">  &#125;)</div><div class=\"line\">  <span class=\"comment\">//  app, router  store</span></div><div class=\"line\">  <span class=\"keyword\">return</span> &#123; app, router, store &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure> \n<h4 id=\"entry-client-js\"><a href=\"#entry-client-js\" class=\"headerlink\" title=\"entry-client.js\"></a>entry-client.js</h4><p>appcreateAppapprouterstore</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div></pre></td></tr></table></figure>\n<p>onReady</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div><div class=\"line\">router.onReady(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">  app.$mount(<span class=\"string\">'#app'</span>)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>beforeResolverouter2.5.0router.beforeEach()</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">router.beforeResolve(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</div><div class=\"line\">\t<span class=\"comment\">// to  from  </span></div><div class=\"line\">\t<span class=\"comment\">// /</span></div><div class=\"line\">\t<span class=\"keyword\">const</span> matched = router.getMatchedComponents(to)</div><div class=\"line\">    <span class=\"keyword\">const</span> prevMatched = router.getMatchedComponents(<span class=\"keyword\">from</span>)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p> state  window.<strong>INITIAL_STATE</strong>  HTML  store <strong>INITIAL_STATE</strong> render  HTML <br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// vuex</span></div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.__INITIAL_STATE__) &#123;</div><div class=\"line\">  store.replaceState(<span class=\"built_in\">window</span>.__INITIAL_STATE__)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>Qbabeles6Promise<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Q <span class=\"keyword\">from</span> <span class=\"string\">'q'</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div><div class=\"line\">router.onReady(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">  router.beforeResolve(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">const</span> matched = router.getMatchedComponents(to)</div><div class=\"line\">      <span class=\"keyword\">const</span> prevMatched = router.getMatchedComponents(<span class=\"keyword\">from</span>)</div><div class=\"line\">      <span class=\"comment\">// </span></div><div class=\"line\">      <span class=\"comment\">// </span></div><div class=\"line\">      <span class=\"keyword\">let</span> diffed = <span class=\"literal\">false</span></div><div class=\"line\">      <span class=\"keyword\">const</span> activated = matched.filter(<span class=\"function\">(<span class=\"params\">c, i</span>) =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> diffed || (diffed = (prevMatched[i] !== c))</div><div class=\"line\">      &#125;)</div><div class=\"line\">      <span class=\"keyword\">if</span> (!activated.length) &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> next()</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"comment\">// (loading indicator)</span></div><div class=\"line\">      Q.all(activated.map(<span class=\"function\"><span class=\"params\">c</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (c.asyncData) &#123;</div><div class=\"line\">          <span class=\"keyword\">return</span> c.asyncData(&#123; store, <span class=\"attr\">route</span>: to &#125;)</div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;)).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"comment\">// (loading indicator)</span></div><div class=\"line\">        next()</div><div class=\"line\">      &#125;).catch(next)</div><div class=\"line\">    &#125;)</div><div class=\"line\">    app.$mount(<span class=\"string\">'#app'</span>)</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"comment\">// vuex</span></div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.__INITIAL_STATE__) &#123;</div><div class=\"line\">  store.replaceState(<span class=\"built_in\">window</span>.__INITIAL_STATE__)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"entry-server-js\"><a href=\"#entry-server-js\" class=\"headerlink\" title=\"entry-server.js\"></a>entry-server.js</h4><p>ajax<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//asyncDataajax</span></div><div class=\"line\"><span class=\"keyword\">if</span> (Component.asyncData) &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> Component.asyncData(&#123;</div><div class=\"line\">    store,</div><div class=\"line\">    route: router.currentRoute</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./app'</span></div><div class=\"line\"><span class=\"keyword\">import</span> Q <span class=\"keyword\">from</span> <span class=\"string\">'q'</span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> context =&gt; &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Q.Promise(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> &#123; app, router, store &#125; = createApp()</div><div class=\"line\">    router.push(context.url)</div><div class=\"line\">    router.onReady(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">const</span> matchedComponents = router.getMatchedComponents()</div><div class=\"line\">      <span class=\"keyword\">if</span> (!matchedComponents.length) &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> reject(&#123; <span class=\"attr\">code</span>: <span class=\"number\">404</span> &#125;)</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"comment\">//  `asyncData()`</span></div><div class=\"line\">      Q.all(matchedComponents.map(<span class=\"function\"><span class=\"params\">Component</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (Component.asyncData) &#123;</div><div class=\"line\">          <span class=\"keyword\">return</span> Component.asyncData(&#123;</div><div class=\"line\">            store,</div><div class=\"line\">            route: router.currentRoute</div><div class=\"line\">          &#125;)</div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;)).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"comment\">// (preFetch hook) resolve </span></div><div class=\"line\">        <span class=\"comment\">//  store </span></div><div class=\"line\">        <span class=\"comment\">// </span></div><div class=\"line\">        <span class=\"comment\">//  `template`  renderer </span></div><div class=\"line\">        <span class=\"comment\">//  `window.__INITIAL_STATE__` HTML</span></div><div class=\"line\">        context.state = store.state</div><div class=\"line\">        resolve(app)</div><div class=\"line\">      &#125;).catch(reject)</div><div class=\"line\">    &#125;, reject)</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h3><p>src</p>\n<p><img src=\"/vue-ssr2/3.jpeg\" alt=\"\"></p>\n<p><br>build webpack<br>dist webpack<br>log pm2<br>server.js node<br>pmlog.json pm2</p>\n<h4 id=\"server-js\"><a href=\"#server-js\" class=\"headerlink\" title=\"server.js\"></a>server.js</h4><p>server.jsnodeapi<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> Vue = <span class=\"built_in\">require</span>(<span class=\"string\">'vue'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> express = <span class=\"built_in\">require</span>(<span class=\"string\">'express'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> LRU = <span class=\"built_in\">require</span>(<span class=\"string\">'lru-cache'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> &#123; createBundleRenderer &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'vue-server-renderer'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">'fs'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> net = <span class=\"built_in\">require</span>(<span class=\"string\">'net'</span>)</div></pre></td></tr></table></figure></p>\n<p>index.template.htmlexpresswebpackdist</p>\n<p>production<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> template = fs.readFileSync(<span class=\"string\">'./src/index.template.html'</span>, <span class=\"string\">'utf-8'</span>)</div><div class=\"line\"><span class=\"keyword\">const</span> isProd = process.env.NODE_ENV === <span class=\"string\">'production'</span></div></pre></td></tr></table></figure></p>\n<p>vue-server-rendererdistcreateBundleRendererLRU<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> resolve = <span class=\"function\"><span class=\"params\">file</span> =&gt;</span> path.resolve(__dirname, file)</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createRenderer</span> (<span class=\"params\">bundle, options</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> createBundleRenderer(bundle, <span class=\"built_in\">Object</span>.assign(options, &#123;</div><div class=\"line\">    template,</div><div class=\"line\">    cache: LRU(&#123;</div><div class=\"line\">      max: <span class=\"number\">1000</span>,</div><div class=\"line\">      maxAge: <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">15</span></div><div class=\"line\">    &#125;),</div><div class=\"line\">    basedir: resolve(<span class=\"string\">'./dist'</span>),</div><div class=\"line\">    runInNewContext: <span class=\"literal\">false</span></div><div class=\"line\">  &#125;))</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">let</span> renderer;</div><div class=\"line\"><span class=\"keyword\">let</span> readyPromise</div><div class=\"line\"><span class=\"keyword\">if</span> (isProd) &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> bundle = <span class=\"built_in\">require</span>(<span class=\"string\">'./dist/vue-ssr-server-bundle.json'</span>)</div><div class=\"line\">  <span class=\"keyword\">const</span> clientManifest = <span class=\"built_in\">require</span>(<span class=\"string\">'./dist/vue-ssr-client-manifest.json'</span>)</div><div class=\"line\">  renderer = createRenderer(bundle, &#123;</div><div class=\"line\">    clientManifest</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">  readyPromise = <span class=\"built_in\">require</span>(<span class=\"string\">'./build/setup-dev-server'</span>)(server, (bundle, options) =&gt; &#123;</div><div class=\"line\">    renderer = createRenderer(bundle, options)</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>express<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> server = express()</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//dist</span></div><div class=\"line\"><span class=\"keyword\">const</span> serve = <span class=\"function\">(<span class=\"params\">path, cache</span>) =&gt;</span> express.static(resolve(path), &#123;</div><div class=\"line\">  maxAge: cache &amp;&amp; isProd ? <span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">60</span> * <span class=\"number\">24</span> * <span class=\"number\">30</span> : <span class=\"number\">0</span></div><div class=\"line\">&#125;)</div><div class=\"line\">server.use(<span class=\"string\">'/dist'</span>, serve(<span class=\"string\">'./dist'</span>, <span class=\"literal\">true</span>))</div><div class=\"line\">server.get(<span class=\"string\">'*'</span>, (req, res) =&gt; &#123;</div><div class=\"line\">  <span class=\"keyword\">const</span> context = &#123;</div><div class=\"line\">    title: <span class=\"string\">'hello'</span>,</div><div class=\"line\">    url: req.url</div><div class=\"line\">  &#125;</div><div class=\"line\">  renderer.renderToString(context, (err, html) =&gt; &#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (err) &#123;</div><div class=\"line\">      res.status(<span class=\"number\">500</span>).end(<span class=\"string\">'Internal Server Error'</span>)</div><div class=\"line\">      <span class=\"keyword\">return</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    res.end(html)</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">probe</span>(<span class=\"params\">port, callback</span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> servers = net.createServer().listen(port)</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> calledOnce = <span class=\"literal\">false</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> timeoutRef = setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        calledOnce = <span class=\"literal\">true</span></div><div class=\"line\">        callback(<span class=\"literal\">false</span>, port)</div><div class=\"line\">    &#125;, <span class=\"number\">2000</span>)</div><div class=\"line\"></div><div class=\"line\">    timeoutRef.unref()</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> connected = <span class=\"literal\">false</span></div><div class=\"line\"></div><div class=\"line\">    servers.on(<span class=\"string\">'listening'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        clearTimeout(timeoutRef)</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (servers)</div><div class=\"line\">            servers.close()</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (!calledOnce) &#123;</div><div class=\"line\">            calledOnce = <span class=\"literal\">true</span></div><div class=\"line\">            callback(<span class=\"literal\">true</span>, port)</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;)</div><div class=\"line\"></div><div class=\"line\">    servers.on(<span class=\"string\">'error'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">        clearTimeout(timeoutRef)</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"literal\">true</span></div><div class=\"line\">        <span class=\"keyword\">if</span> (err.code === <span class=\"string\">'EADDRINUSE'</span>)</div><div class=\"line\">            result = <span class=\"literal\">false</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (!calledOnce) &#123;</div><div class=\"line\">            calledOnce = <span class=\"literal\">true</span></div><div class=\"line\">            callback(result, port)</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> checkPortPromise = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</div><div class=\"line\">    (<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">serverport</span>(<span class=\"params\">_port</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> pt = _port || <span class=\"number\">8080</span>;</div><div class=\"line\">        probe(pt, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">bl, _pt</span>) </span>&#123;</div><div class=\"line\">            <span class=\"comment\">//  bl false</span></div><div class=\"line\">            <span class=\"comment\">// _pt</span></div><div class=\"line\">            <span class=\"keyword\">if</span> (bl === <span class=\"literal\">true</span>) &#123;</div><div class=\"line\">                <span class=\"comment\">// console.log(\"\\n  Static file server running at\" + \"\\n\\n=&gt; http://localhost:\" + _pt + '\\n');</span></div><div class=\"line\">                resolve(_pt);</div><div class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                serverport(_pt + <span class=\"number\">1</span>)</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;)()</div><div class=\"line\"></div><div class=\"line\">&#125;)</div><div class=\"line\">checkPortPromise.then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</div><div class=\"line\">    uri = <span class=\"string\">'http://localhost:'</span> + data;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">''</span>+uri)</div><div class=\"line\">    server.listen(data);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>webpackdemo<br><img src=\"/vue-ssr2/4.jpeg\" alt=\"demo\"></p>\n<blockquote>\n<p>mockjsaxios</p>\n</blockquote>"},{"title":"WebGL--3D","comments":1,"toc":true,"date":"2017-07-01T13:09:11.000Z","_content":"\n### 3D\n\n2Dxy2D0.0yy\n\n<img width=\"300\" src=\"webgl-2017-07-01/01.jpeg\" title=\"2D\"/>\n\n<!-- more -->\n\nHTML5 canvas2D,canvasxy\n\n<img width=\"300\" src=\"webgl-2017-07-01/02.jpeg\" title=\"canvas\"/>\n\n\n{% codeblock lang:html %}\n<style>\n        * {\n            margin: 0;\n            padding: 0;\n        }\n    </style>\n<canvas id=\"canvas\"></canvas>\n<script>\n  var cxt = canvas.getContext('2d');\n\n  // xy\n  var x = 50;\n  var y = 50;\n\n  // \n  cxt.fillRect(x,y,50,50);\n</script>  \n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-01/03.jpeg\"/>\nxy\n{% codeblock lang:javascript %}\n  // xy\n  var x = 0;\n  var y = 0;\n{% endcodeblock %}\n<img width=\"300\" src=\"webgl-2017-07-01/04.jpeg\"/>\n\n3Dz3D\n\n<img width=\"300\" src=\"webgl-2017-07-01/05.jpeg\"/>\n\nWebGLyxz+1-1\n\n<img width=\"300\" src=\"webgl-2017-07-01/06.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\n  const VSHADER_SOURCE =\n    `void main() {\n    gl_Position = vec4(1.0,0.0,0.0,1.0);\n    gl_PointSize = 30.0;\n}`\n{% endcodeblock %}\n\nwebgl1.0\n\n<img width=\"300\" src=\"webgl-2017-07-01/07.jpeg\"/>\n\n3D\n\n<b></b>:3D\n\n<img width=\"300\" src=\"webgl-2017-07-01/08.jpeg\"/>\n\n### 3D\n\n<b></b>\n    <img width=\"200\" src=\"webgl-2017-07-01/09.jpeg\"/><img width=\"200\" src=\"webgl-2017-07-01/10.jpeg\"/><img width=\"200\" src=\"webgl-2017-07-01/11.jpeg\"/><img width=\"200\" src=\"webgl-2017-07-01/12.jpeg\"/>\n\nZ    \n{% codeblock lang:javascript %}\n// \nvar ANGLE = 30.0;\nconst VSHADER_SOURCE =\n  ` attribute vec4 a_Position;\n    uniform float u_CosB,u_SinB;\n    attribute float a_PointSize;\n    void main() {\n       gl_Position.x = a_Position.x * u_CosB -  a_Position.y * u_SinB;\n       gl_Position.y = a_Position.x * u_SinB -  a_Position.y * u_CosB;\n       gl_Position.z = a_Position.z;\n       gl_Position.w = 1.0;\n     }`\n// \nconst FSHADER_SOURCE =\n  ` precision mediump float;\n    uniform vec4 u_FragColor;\n    void main() {\n      gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n    }`\n{% endcodeblock %}\n\n<b></b>webgl\n{% codeblock lang:javascript %}\n// \n// \nvar ANGLE = 30.0;\nconst VSHADER_SOURCE =\n  ` attribute vec4 a_Position;\n    uniform mat4 u_xformMatrix; //\n    void main() {\n       gl_Position = u_xformMatrix * a_Position;\n     }`\n// \nconst FSHADER_SOURCE =\n  ` void main() {\n      gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n    }`\n{% endcodeblock %}\n\n### \n\n<b></b>\n<b></b>,\n<b></b>\n\n<img width=\"500\" src=\"webgl-2017-07-01/13.jpeg\"/>\n\n<b></b>\n\n<img width=\"300\" src=\"webgl-2017-07-01/14.jpeg\"/>\n\n### \n\n\n\n<b></b>cmain\n\n{% codeblock lang:javascript %}\nvoid main() {\n    gl_Position = vec4(0.0,0.0,0.0,1.0);\n    gl_PointSize = 20.0;\n}\n{% endcodeblock %}\n\n<b></b>1.0\n\n{% codeblock lang:javascript %}\nvoid main(){\n    gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n}\n{% endcodeblock %}\n\n### 3D\n\n<b></b>canvas\n\n<img width=\"400\" src=\"webgl-2017-07-01/15.jpeg\"/>\n\nWebGL","source":"_posts/webgl-2017-07-01.md","raw":"---\ntitle: WebGL--3D\ncomments: true\ntoc: true\ndate: 2017-07-01 21:09:11\ntags: \n    - 'javascript'\n    - 'webgl'\n---\n\n### 3D\n\n2Dxy2D0.0yy\n\n<img width=\"300\" src=\"webgl-2017-07-01/01.jpeg\" title=\"2D\"/>\n\n<!-- more -->\n\nHTML5 canvas2D,canvasxy\n\n<img width=\"300\" src=\"webgl-2017-07-01/02.jpeg\" title=\"canvas\"/>\n\n\n{% codeblock lang:html %}\n<style>\n        * {\n            margin: 0;\n            padding: 0;\n        }\n    </style>\n<canvas id=\"canvas\"></canvas>\n<script>\n  var cxt = canvas.getContext('2d');\n\n  // xy\n  var x = 50;\n  var y = 50;\n\n  // \n  cxt.fillRect(x,y,50,50);\n</script>  \n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-01/03.jpeg\"/>\nxy\n{% codeblock lang:javascript %}\n  // xy\n  var x = 0;\n  var y = 0;\n{% endcodeblock %}\n<img width=\"300\" src=\"webgl-2017-07-01/04.jpeg\"/>\n\n3Dz3D\n\n<img width=\"300\" src=\"webgl-2017-07-01/05.jpeg\"/>\n\nWebGLyxz+1-1\n\n<img width=\"300\" src=\"webgl-2017-07-01/06.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\n  const VSHADER_SOURCE =\n    `void main() {\n    gl_Position = vec4(1.0,0.0,0.0,1.0);\n    gl_PointSize = 30.0;\n}`\n{% endcodeblock %}\n\nwebgl1.0\n\n<img width=\"300\" src=\"webgl-2017-07-01/07.jpeg\"/>\n\n3D\n\n<b></b>:3D\n\n<img width=\"300\" src=\"webgl-2017-07-01/08.jpeg\"/>\n\n### 3D\n\n<b></b>\n    <img width=\"200\" src=\"webgl-2017-07-01/09.jpeg\"/><img width=\"200\" src=\"webgl-2017-07-01/10.jpeg\"/><img width=\"200\" src=\"webgl-2017-07-01/11.jpeg\"/><img width=\"200\" src=\"webgl-2017-07-01/12.jpeg\"/>\n\nZ    \n{% codeblock lang:javascript %}\n// \nvar ANGLE = 30.0;\nconst VSHADER_SOURCE =\n  ` attribute vec4 a_Position;\n    uniform float u_CosB,u_SinB;\n    attribute float a_PointSize;\n    void main() {\n       gl_Position.x = a_Position.x * u_CosB -  a_Position.y * u_SinB;\n       gl_Position.y = a_Position.x * u_SinB -  a_Position.y * u_CosB;\n       gl_Position.z = a_Position.z;\n       gl_Position.w = 1.0;\n     }`\n// \nconst FSHADER_SOURCE =\n  ` precision mediump float;\n    uniform vec4 u_FragColor;\n    void main() {\n      gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n    }`\n{% endcodeblock %}\n\n<b></b>webgl\n{% codeblock lang:javascript %}\n// \n// \nvar ANGLE = 30.0;\nconst VSHADER_SOURCE =\n  ` attribute vec4 a_Position;\n    uniform mat4 u_xformMatrix; //\n    void main() {\n       gl_Position = u_xformMatrix * a_Position;\n     }`\n// \nconst FSHADER_SOURCE =\n  ` void main() {\n      gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n    }`\n{% endcodeblock %}\n\n### \n\n<b></b>\n<b></b>,\n<b></b>\n\n<img width=\"500\" src=\"webgl-2017-07-01/13.jpeg\"/>\n\n<b></b>\n\n<img width=\"300\" src=\"webgl-2017-07-01/14.jpeg\"/>\n\n### \n\n\n\n<b></b>cmain\n\n{% codeblock lang:javascript %}\nvoid main() {\n    gl_Position = vec4(0.0,0.0,0.0,1.0);\n    gl_PointSize = 20.0;\n}\n{% endcodeblock %}\n\n<b></b>1.0\n\n{% codeblock lang:javascript %}\nvoid main(){\n    gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n}\n{% endcodeblock %}\n\n### 3D\n\n<b></b>canvas\n\n<img width=\"400\" src=\"webgl-2017-07-01/15.jpeg\"/>\n\nWebGL","slug":"webgl-2017-07-01","published":1,"updated":"2017-09-03T04:15:58.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1ip000nsvldwhx7o9on","content":"<h3 id=\"3D\"><a href=\"#3D\" class=\"headerlink\" title=\"3D\"></a>3D</h3><p>2Dxy2D0.0yy</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/01.jpeg\" title=\"2D\"></p>\n<a id=\"more\"></a>\n<p>HTML5 canvas2D,canvasxy</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/02.jpeg\" title=\"canvas\"></p>\n<p><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"undefined\">        * &#123;</span></div><div class=\"line\"><span class=\"undefined\">            margin: 0;</span></div><div class=\"line\"><span class=\"undefined\">            padding: 0;</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"canvas\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> cxt = canvas.getContext(<span class=\"string\">'2d'</span>);</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// xy</span></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> x = <span class=\"number\">50</span>;</span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> y = <span class=\"number\">50</span>;</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"undefined\">  cxt.fillRect(x,y,50,50);</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>  </div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/03.jpeg\"><br>xy<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// xy</span></div><div class=\"line\"><span class=\"keyword\">var</span> x = <span class=\"number\">0</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> y = <span class=\"number\">0</span>;</div></pre></td></tr></table></figure><br><img width=\"300\" src=\"/webgl-2017-07-01/04.jpeg\"></p>\n<p>3Dz3D</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/05.jpeg\"></p>\n<p>WebGLyxz+1-1</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/06.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"keyword\">const</span> VSHADER_SOURCE =</div><div class=\"line\">    <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">    gl_Position = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">    gl_PointSize = 30.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p>webgl1.0</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/07.jpeg\"></p>\n<p>3D</p>\n<p><b></b>:3D</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/08.jpeg\"></p>\n<h3 id=\"3D\"><a href=\"#3D\" class=\"headerlink\" title=\"3D\"></a>3D</h3><p><b></b><br>    <img width=\"200\" src=\"/webgl-2017-07-01/09.jpeg\"><img width=\"200\" src=\"/webgl-2017-07-01/10.jpeg\"><img width=\"200\" src=\"/webgl-2017-07-01/11.jpeg\"><img width=\"200\" src=\"/webgl-2017-07-01/12.jpeg\"></p>\n<p>Z<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> ANGLE = <span class=\"number\">30.0</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> VSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` attribute vec4 a_Position;</span></div><div class=\"line\"><span class=\"string\">    uniform float u_CosB,u_SinB;</span></div><div class=\"line\"><span class=\"string\">    attribute float a_PointSize;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.x = a_Position.x * u_CosB -  a_Position.y * u_SinB;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.y = a_Position.x * u_SinB -  a_Position.y * u_CosB;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.z = a_Position.z;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.w = 1.0;</span></div><div class=\"line\"><span class=\"string\">     &#125;`</span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> FSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` precision mediump float;</span></div><div class=\"line\"><span class=\"string\">    uniform vec4 u_FragColor;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">    &#125;`</span></div></pre></td></tr></table></figure></p>\n<p><b></b>webgl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> ANGLE = <span class=\"number\">30.0</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> VSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` attribute vec4 a_Position;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_xformMatrix; //</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">       gl_Position = u_xformMatrix * a_Position;</span></div><div class=\"line\"><span class=\"string\">     &#125;`</span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> FSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">    &#125;`</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><b></b><br><b></b>,<br><b></b></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-01/13.jpeg\"></p>\n<p><b></b></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/14.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><b></b>cmain</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">void</span> main() &#123;</div><div class=\"line\">    gl_Position = vec4(<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">    gl_PointSize = <span class=\"number\">20.0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><b></b>1.0</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">void</span> main()&#123;</div><div class=\"line\">    gl_FragColor = vec4(<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"3D\"><a href=\"#3D\" class=\"headerlink\" title=\"3D\"></a>3D</h3><p><b></b>canvas</p>\n<p><img width=\"400\" src=\"/webgl-2017-07-01/15.jpeg\"></p>\n<p>WebGL</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"3D\"><a href=\"#3D\" class=\"headerlink\" title=\"3D\"></a>3D</h3><p>2Dxy2D0.0yy</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/01.jpeg\" title=\"2D\"></p>","more":"<p>HTML5 canvas2D,canvasxy</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/02.jpeg\" title=\"canvas\"></p>\n<p><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"undefined\">        * &#123;</span></div><div class=\"line\"><span class=\"undefined\">            margin: 0;</span></div><div class=\"line\"><span class=\"undefined\">            padding: 0;</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"canvas\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> cxt = canvas.getContext(<span class=\"string\">'2d'</span>);</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// xy</span></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> x = <span class=\"number\">50</span>;</span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> y = <span class=\"number\">50</span>;</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"undefined\">  cxt.fillRect(x,y,50,50);</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>  </div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/03.jpeg\"><br>xy<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// xy</span></div><div class=\"line\"><span class=\"keyword\">var</span> x = <span class=\"number\">0</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> y = <span class=\"number\">0</span>;</div></pre></td></tr></table></figure><br><img width=\"300\" src=\"/webgl-2017-07-01/04.jpeg\"></p>\n<p>3Dz3D</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/05.jpeg\"></p>\n<p>WebGLyxz+1-1</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/06.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"keyword\">const</span> VSHADER_SOURCE =</div><div class=\"line\">    <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">    gl_Position = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">    gl_PointSize = 30.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p>webgl1.0</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/07.jpeg\"></p>\n<p>3D</p>\n<p><b></b>:3D</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/08.jpeg\"></p>\n<h3 id=\"3D\"><a href=\"#3D\" class=\"headerlink\" title=\"3D\"></a>3D</h3><p><b></b><br>    <img width=\"200\" src=\"/webgl-2017-07-01/09.jpeg\"><img width=\"200\" src=\"/webgl-2017-07-01/10.jpeg\"><img width=\"200\" src=\"/webgl-2017-07-01/11.jpeg\"><img width=\"200\" src=\"/webgl-2017-07-01/12.jpeg\"></p>\n<p>Z<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> ANGLE = <span class=\"number\">30.0</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> VSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` attribute vec4 a_Position;</span></div><div class=\"line\"><span class=\"string\">    uniform float u_CosB,u_SinB;</span></div><div class=\"line\"><span class=\"string\">    attribute float a_PointSize;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.x = a_Position.x * u_CosB -  a_Position.y * u_SinB;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.y = a_Position.x * u_SinB -  a_Position.y * u_CosB;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.z = a_Position.z;</span></div><div class=\"line\"><span class=\"string\">       gl_Position.w = 1.0;</span></div><div class=\"line\"><span class=\"string\">     &#125;`</span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> FSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` precision mediump float;</span></div><div class=\"line\"><span class=\"string\">    uniform vec4 u_FragColor;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">    &#125;`</span></div></pre></td></tr></table></figure></p>\n<p><b></b>webgl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> ANGLE = <span class=\"number\">30.0</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> VSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` attribute vec4 a_Position;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_xformMatrix; //</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">       gl_Position = u_xformMatrix * a_Position;</span></div><div class=\"line\"><span class=\"string\">     &#125;`</span></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> FSHADER_SOURCE =</div><div class=\"line\">  <span class=\"string\">` void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">    &#125;`</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><b></b><br><b></b>,<br><b></b></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-01/13.jpeg\"></p>\n<p><b></b></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-01/14.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><b></b>cmain</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">void</span> main() &#123;</div><div class=\"line\">    gl_Position = vec4(<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">    gl_PointSize = <span class=\"number\">20.0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><b></b>1.0</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">void</span> main()&#123;</div><div class=\"line\">    gl_FragColor = vec4(<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"3D\"><a href=\"#3D\" class=\"headerlink\" title=\"3D\"></a>3D</h3><p><b></b>canvas</p>\n<p><img width=\"400\" src=\"/webgl-2017-07-01/15.jpeg\"></p>\n<p>WebGL</p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-02T13:09:11.000Z","_content":"\n### WebGL\n3DOpenGL ES 2.0\n\n#### \n\n* \n* \n* \n* \n* \n* \n* \n\n<!-- more -->\n\n#### API\n\nAPIwebGL\n\nAPIAPIAPI\n\n### \n\n<img width=\"600\" src=\"webgl-2017-07-02/01.jpeg\"/>\n\n### WebGL\n\n#### \n\n<img width=\"600\" src=\"webgl-2017-07-02/02.jpeg\"/>\n\n\n\n#### \n\n* javascript\n* \n*  Attribute \n*  Uniform \n*  Varying \n                                                                \n#### \n\n* javascript\n* \n* Uniform  SamplersSamplers\n*  Varying \n\n### WebGLHTML5Javascript\n\n*  HTML5 Canvas webglcanvascanvasapi\n*  Javascript \n*  HTML5 \n*  Javascript \n\n\n{% codeblock lang:html %}\n<body onload=\"main()\">\n    <canvas id=\"webgl\" width=\"500\" height=\"400\"></canvas>\n    <script src=\"../lib/webgl-utils.js\"></script>\n    <script src=\"../lib/webgl-debug.js\"></script>\n    <script src=\"../lib/cuon-utils.js\"></script>\n\n    <script>\n        // \n        const VSHADER_SOURCE =\n            `void main() {\n          gl_Position = vec4(1.0,0.0,0.0,1.0);\n          gl_PointSize = 30.0;\n        }`\n        \n        // \n        const FSHADER_SOURCE =\n            `void main() {\n          gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n          }`\n\n        function main() {\n            // canvan\n            var canvas = document.getElementById(\"webgl\");\n\n            // webgl\n            var gl = getWebGLContext(canvas, true);\n            if (!gl) {\n                console.log('error');\n                return;\n            }\n\n            // \n            if (!initShaders(gl, VSHADER_SOURCE, FSHADER_SOURCE)) {\n                console.log('error');\n                return;\n            }\n\n\n            // canvas\n            gl.clearColor(0.0, 0.0, 0.0, 1.0);\n            // canvas\n            gl.clear(gl.COLOR_BUFFER_BIT);\n\n            // \n            gl.drawArrays(gl.POINTS, 0, 1);\n        }\n    </script>\n</body>\n{% endcodeblock %}\n\n https://github.com/wqzwh/webgl-code/tree/master/02","source":"_posts/webgl-2017-07-02.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-02 21:09:11\ntags: \n    - 'javascript'\n    - 'webgl'\n---\n\n### WebGL\n3DOpenGL ES 2.0\n\n#### \n\n* \n* \n* \n* \n* \n* \n* \n\n<!-- more -->\n\n#### API\n\nAPIwebGL\n\nAPIAPIAPI\n\n### \n\n<img width=\"600\" src=\"webgl-2017-07-02/01.jpeg\"/>\n\n### WebGL\n\n#### \n\n<img width=\"600\" src=\"webgl-2017-07-02/02.jpeg\"/>\n\n\n\n#### \n\n* javascript\n* \n*  Attribute \n*  Uniform \n*  Varying \n                                                                \n#### \n\n* javascript\n* \n* Uniform  SamplersSamplers\n*  Varying \n\n### WebGLHTML5Javascript\n\n*  HTML5 Canvas webglcanvascanvasapi\n*  Javascript \n*  HTML5 \n*  Javascript \n\n\n{% codeblock lang:html %}\n<body onload=\"main()\">\n    <canvas id=\"webgl\" width=\"500\" height=\"400\"></canvas>\n    <script src=\"../lib/webgl-utils.js\"></script>\n    <script src=\"../lib/webgl-debug.js\"></script>\n    <script src=\"../lib/cuon-utils.js\"></script>\n\n    <script>\n        // \n        const VSHADER_SOURCE =\n            `void main() {\n          gl_Position = vec4(1.0,0.0,0.0,1.0);\n          gl_PointSize = 30.0;\n        }`\n        \n        // \n        const FSHADER_SOURCE =\n            `void main() {\n          gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n          }`\n\n        function main() {\n            // canvan\n            var canvas = document.getElementById(\"webgl\");\n\n            // webgl\n            var gl = getWebGLContext(canvas, true);\n            if (!gl) {\n                console.log('error');\n                return;\n            }\n\n            // \n            if (!initShaders(gl, VSHADER_SOURCE, FSHADER_SOURCE)) {\n                console.log('error');\n                return;\n            }\n\n\n            // canvas\n            gl.clearColor(0.0, 0.0, 0.0, 1.0);\n            // canvas\n            gl.clear(gl.COLOR_BUFFER_BIT);\n\n            // \n            gl.drawArrays(gl.POINTS, 0, 1);\n        }\n    </script>\n</body>\n{% endcodeblock %}\n\n https://github.com/wqzwh/webgl-code/tree/master/02","slug":"webgl-2017-07-02","published":1,"updated":"2017-09-04T04:33:36.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1ir000rsvldsxn1vvyy","content":"<h3 id=\"WebGL\"><a href=\"#WebGL\" class=\"headerlink\" title=\"WebGL\"></a>WebGL</h3><p>3DOpenGL ES 2.0</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<a id=\"more\"></a>\n<h4 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h4><p>APIwebGL</p>\n<p>APIAPIAPI</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img width=\"600\" src=\"/webgl-2017-07-02/01.jpeg\"></p>\n<h3 id=\"WebGL\"><a href=\"#WebGL\" class=\"headerlink\" title=\"WebGL\"></a>WebGL</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img width=\"600\" src=\"/webgl-2017-07-02/02.jpeg\"></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>javascript</li>\n<li></li>\n<li> Attribute </li>\n<li> Uniform </li>\n<li> Varying </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>javascript</li>\n<li></li>\n<li>Uniform  SamplersSamplers</li>\n<li> Varying </li>\n</ul>\n<h3 id=\"WebGLHTML5Javascript\"><a href=\"#WebGLHTML5Javascript\" class=\"headerlink\" title=\"WebGLHTML5Javascript\"></a>WebGLHTML5Javascript</h3><ul>\n<li> HTML5 Canvas webglcanvascanvasapi</li>\n<li> Javascript </li>\n<li> HTML5 </li>\n<li> Javascript </li>\n</ul>\n<p><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">onload</span>=<span class=\"string\">\"main()\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"webgl\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"500\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"400\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib/webgl-utils.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib/webgl-debug.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib/cuon-utils.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">const</span> VSHADER_SOURCE =</span></div><div class=\"line\"><span class=\"undefined\">            `void main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">          gl_Position = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"undefined\">          gl_PointSize = 30.0;</span></div><div class=\"line\"><span class=\"undefined\">        &#125;`</span></div><div class=\"line\"><span class=\"undefined\">        </span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">const</span> FSHADER_SOURCE =</span></div><div class=\"line\"><span class=\"undefined\">            `void main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">          gl_FragColor = vec4(1.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"undefined\">          &#125;`</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">main</span>(<span class=\"params\"></span>) </span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// canvan</span></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"webgl\"</span>);</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// webgl</span></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">var</span> gl = getWebGLContext(canvas, <span class=\"literal\">true</span>);</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (!gl) &#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'error'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">return</span>;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (!initShaders(gl, VSHADER_SOURCE, FSHADER_SOURCE)) &#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'error'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">return</span>;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// canvas</span></span></div><div class=\"line\"><span class=\"undefined\">            gl.clearColor(0.0, 0.0, 0.0, 1.0);</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// canvas</span></span></div><div class=\"line\"><span class=\"undefined\">            gl.clear(gl.COLOR_BUFFER_BIT);</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"undefined\">            gl.drawArrays(gl.POINTS, 0, 1);</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/02\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/02</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"WebGL\"><a href=\"#WebGL\" class=\"headerlink\" title=\"WebGL\"></a>WebGL</h3><p>3DOpenGL ES 2.0</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>","more":"<h4 id=\"API\"><a href=\"#API\" class=\"headerlink\" title=\"API\"></a>API</h4><p>APIwebGL</p>\n<p>APIAPIAPI</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img width=\"600\" src=\"/webgl-2017-07-02/01.jpeg\"></p>\n<h3 id=\"WebGL\"><a href=\"#WebGL\" class=\"headerlink\" title=\"WebGL\"></a>WebGL</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img width=\"600\" src=\"/webgl-2017-07-02/02.jpeg\"></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>javascript</li>\n<li></li>\n<li> Attribute </li>\n<li> Uniform </li>\n<li> Varying </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>javascript</li>\n<li></li>\n<li>Uniform  SamplersSamplers</li>\n<li> Varying </li>\n</ul>\n<h3 id=\"WebGLHTML5Javascript\"><a href=\"#WebGLHTML5Javascript\" class=\"headerlink\" title=\"WebGLHTML5Javascript\"></a>WebGLHTML5Javascript</h3><ul>\n<li> HTML5 Canvas webglcanvascanvasapi</li>\n<li> Javascript </li>\n<li> HTML5 </li>\n<li> Javascript </li>\n</ul>\n<p><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">onload</span>=<span class=\"string\">\"main()\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"webgl\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"500\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"400\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib/webgl-utils.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib/webgl-debug.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib/cuon-utils.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">const</span> VSHADER_SOURCE =</span></div><div class=\"line\"><span class=\"undefined\">            `void main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">          gl_Position = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"undefined\">          gl_PointSize = 30.0;</span></div><div class=\"line\"><span class=\"undefined\">        &#125;`</span></div><div class=\"line\"><span class=\"undefined\">        </span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">const</span> FSHADER_SOURCE =</span></div><div class=\"line\"><span class=\"undefined\">            `void main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">          gl_FragColor = vec4(1.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"undefined\">          &#125;`</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">main</span>(<span class=\"params\"></span>) </span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// canvan</span></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">\"webgl\"</span>);</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// webgl</span></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">var</span> gl = getWebGLContext(canvas, <span class=\"literal\">true</span>);</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (!gl) &#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'error'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">return</span>;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (!initShaders(gl, VSHADER_SOURCE, FSHADER_SOURCE)) &#123;</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'error'</span>);</span></div><div class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">return</span>;</span></div><div class=\"line\"><span class=\"undefined\">            &#125;</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// canvas</span></span></div><div class=\"line\"><span class=\"undefined\">            gl.clearColor(0.0, 0.0, 0.0, 1.0);</span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// canvas</span></span></div><div class=\"line\"><span class=\"undefined\">            gl.clear(gl.COLOR_BUFFER_BIT);</span></div><div class=\"line\"><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"undefined\">            gl.drawArrays(gl.POINTS, 0, 1);</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/02\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/02</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-04T13:09:11.000Z","_content":"\n### \n\n#### \n\n* gl.drawArrays( gl.POINTS, start , count )\n* gl.POINTS\n* start \n* count buffer\n\n#### \n\n*  javascript \n*  WebGL \n\n\n\n<!-- more -->\n\n### \n\n#### \n\n* gl.drawArray( gl.LINES , start , count )\n* gl.LINES\n* \n* \n\n\n\n{% codeblock lang:javascript %}\ncxt.drawArrays(cxt.LINES,0,4);\n{% endcodeblock %}\n\n####  \n\n* gl.drawArray( gl.LINE_STRIP , start , count )\n* gl.LINE_STRIP \n* \n\n\n\n\n{% codeblock lang:javascript %}\n//\nvar data = new Float32Array([\n    -.5,.5,\n    .5,.5 ,\n    .5, -.5,\n    -.5, -.5,\n    -.5,.5\n]);\n\n// 5\ncxt.drawArrays(cxt.LINE_STRIP,0,5);\n{% endcodeblock %}\n\n#### \n\n* gl.drawArray( gl.LINE_LOOP , start , count )\n* gl.LINE_LOOP 4\n\n\n\n{% codeblock lang:javascript %}\n//4\nvar data = new Float32Array([\n    -.5,.5,\n    .5,.5 ,\n    .5, -.5,\n    -.5, -.5,\n    -.5,.5\n]);\n\n// 5\ncxt.drawArrays(cxt.LINE_LOOP,0,4);\n{% endcodeblock %}\n\ngl.LINE_LOOPLINE_LOOP\n{% codeblock lang:javascript %}\n//4\nvar data = new Float32Array([\n    -.5, .5,\n    .5, .5,\n    -.5, -.5,\n    .5, -.5\n]);\n\n// 5\ncxt.drawArrays(cxt.LINE_LOOP,0,4);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/01.jpeg\"/>\n\n### \n\n#### \n\n* gl.drawArray( gl.TRIANGLES , start , count )\n* gl. TRIANGLES\n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n    0,0,\n    -.5,-.5 ,\n    .5, -.5\n]);\n\ncxt.drawArrays(cxt.TRIANGLES,0,3);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/02.jpeg\"/>\n\n#### \n\n* gl.drawArray( gl.TRIANGLE_STRIP , start , count )\n* gl.TRIANGLE_STRIP\n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        -.3,.3,\n        .5,.3,\n    -.5, -.3,\n        .3, -.3\n    ]);\n\ncxt.drawArrays(cxt.TRIANGLE_STRIP,0,4);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/03.jpeg\"/>\n\n#### \n\n* gl.drawArray( gl.TRIANGLE_FAN , start , count )\n* gl.TRIANGLE_FAN\n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n      .0,0,\n      -.3,.5,\n      -.6,.3,\n      -.3, -.3,\n      .3, -.3,\n      .6, .3,\n          .4,.5,\n      -.3,.5\n    ]);\n\ncxt.drawArrays(cxt.TRIANGLE_FAN,0,8);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/04.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/04\n","source":"_posts/webgl-2017-07-04.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-04 21:09:11\ntags: \n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n#### \n\n* gl.drawArrays( gl.POINTS, start , count )\n* gl.POINTS\n* start \n* count buffer\n\n#### \n\n*  javascript \n*  WebGL \n\n\n\n<!-- more -->\n\n### \n\n#### \n\n* gl.drawArray( gl.LINES , start , count )\n* gl.LINES\n* \n* \n\n\n\n{% codeblock lang:javascript %}\ncxt.drawArrays(cxt.LINES,0,4);\n{% endcodeblock %}\n\n####  \n\n* gl.drawArray( gl.LINE_STRIP , start , count )\n* gl.LINE_STRIP \n* \n\n\n\n\n{% codeblock lang:javascript %}\n//\nvar data = new Float32Array([\n    -.5,.5,\n    .5,.5 ,\n    .5, -.5,\n    -.5, -.5,\n    -.5,.5\n]);\n\n// 5\ncxt.drawArrays(cxt.LINE_STRIP,0,5);\n{% endcodeblock %}\n\n#### \n\n* gl.drawArray( gl.LINE_LOOP , start , count )\n* gl.LINE_LOOP 4\n\n\n\n{% codeblock lang:javascript %}\n//4\nvar data = new Float32Array([\n    -.5,.5,\n    .5,.5 ,\n    .5, -.5,\n    -.5, -.5,\n    -.5,.5\n]);\n\n// 5\ncxt.drawArrays(cxt.LINE_LOOP,0,4);\n{% endcodeblock %}\n\ngl.LINE_LOOPLINE_LOOP\n{% codeblock lang:javascript %}\n//4\nvar data = new Float32Array([\n    -.5, .5,\n    .5, .5,\n    -.5, -.5,\n    .5, -.5\n]);\n\n// 5\ncxt.drawArrays(cxt.LINE_LOOP,0,4);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/01.jpeg\"/>\n\n### \n\n#### \n\n* gl.drawArray( gl.TRIANGLES , start , count )\n* gl. TRIANGLES\n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n    0,0,\n    -.5,-.5 ,\n    .5, -.5\n]);\n\ncxt.drawArrays(cxt.TRIANGLES,0,3);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/02.jpeg\"/>\n\n#### \n\n* gl.drawArray( gl.TRIANGLE_STRIP , start , count )\n* gl.TRIANGLE_STRIP\n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        -.3,.3,\n        .5,.3,\n    -.5, -.3,\n        .3, -.3\n    ]);\n\ncxt.drawArrays(cxt.TRIANGLE_STRIP,0,4);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/03.jpeg\"/>\n\n#### \n\n* gl.drawArray( gl.TRIANGLE_FAN , start , count )\n* gl.TRIANGLE_FAN\n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n      .0,0,\n      -.3,.5,\n      -.6,.3,\n      -.3, -.3,\n      .3, -.3,\n      .6, .3,\n          .4,.5,\n      -.3,.5\n    ]);\n\ncxt.drawArrays(cxt.TRIANGLE_FAN,0,8);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-04/04.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/04\n","slug":"webgl-2017-07-04","published":1,"updated":"2017-09-05T13:47:51.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1it000tsvldchb0ni3a","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArrays( gl.POINTS, start , count )</li>\n<li>gl.POINTS</li>\n<li>start </li>\n<li>count buffer</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> javascript </li>\n<li> WebGL </li>\n</ul>\n<p></p>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.LINES , start , count )</li>\n<li>gl.LINES</li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.drawArrays(cxt.LINES,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.LINE_STRIP , start , count )</li>\n<li>gl.LINE_STRIP </li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>,<span class=\"number\">.5</span> ,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 5</span></div><div class=\"line\">cxt.drawArrays(cxt.LINE_STRIP,<span class=\"number\">0</span>,<span class=\"number\">5</span>);</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.LINE_LOOP , start , count )</li>\n<li>gl.LINE_LOOP 4</li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//4</span></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>,<span class=\"number\">.5</span> ,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 5</span></div><div class=\"line\">cxt.drawArrays(cxt.LINE_LOOP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure>\n<p>gl.LINE_LOOPLINE_LOOP<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//4</span></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 5</span></div><div class=\"line\">cxt.drawArrays(cxt.LINE_LOOP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/01.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.TRIANGLES , start , count )</li>\n<li>gl. TRIANGLES</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">0</span>,<span class=\"number\">0</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">-.5</span> ,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\">cxt.drawArrays(cxt.TRIANGLES,<span class=\"number\">0</span>,<span class=\"number\">3</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/02.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.TRIANGLE_STRIP , start , count )</li>\n<li>gl.TRIANGLE_STRIP</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">-.3</span>,<span class=\"number\">.3</span>,</div><div class=\"line\">        <span class=\"number\">.5</span>,<span class=\"number\">.3</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">        <span class=\"number\">.3</span>, <span class=\"number\">-.3</span></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">cxt.drawArrays(cxt.TRIANGLE_STRIP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/03.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.TRIANGLE_FAN , start , count )</li>\n<li>gl.TRIANGLE_FAN</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">      <span class=\"number\">.0</span>,<span class=\"number\">0</span>,</div><div class=\"line\">      <span class=\"number\">-.3</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">      <span class=\"number\">-.6</span>,<span class=\"number\">.3</span>,</div><div class=\"line\">      <span class=\"number\">-.3</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">      <span class=\"number\">.3</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">      <span class=\"number\">.6</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">          <span class=\"number\">.4</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">      <span class=\"number\">-.3</span>,<span class=\"number\">.5</span></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">cxt.drawArrays(cxt.TRIANGLE_FAN,<span class=\"number\">0</span>,<span class=\"number\">8</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/04.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/04\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/04</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArrays( gl.POINTS, start , count )</li>\n<li>gl.POINTS</li>\n<li>start </li>\n<li>count buffer</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> javascript </li>\n<li> WebGL </li>\n</ul>\n<p></p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.LINES , start , count )</li>\n<li>gl.LINES</li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.drawArrays(cxt.LINES,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.LINE_STRIP , start , count )</li>\n<li>gl.LINE_STRIP </li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>,<span class=\"number\">.5</span> ,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 5</span></div><div class=\"line\">cxt.drawArrays(cxt.LINE_STRIP,<span class=\"number\">0</span>,<span class=\"number\">5</span>);</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.LINE_LOOP , start , count )</li>\n<li>gl.LINE_LOOP 4</li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//4</span></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>,<span class=\"number\">.5</span> ,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 5</span></div><div class=\"line\">cxt.drawArrays(cxt.LINE_LOOP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure>\n<p>gl.LINE_LOOPLINE_LOOP<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//4</span></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">.5</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 5</span></div><div class=\"line\">cxt.drawArrays(cxt.LINE_LOOP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/01.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.TRIANGLES , start , count )</li>\n<li>gl. TRIANGLES</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">0</span>,<span class=\"number\">0</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>,<span class=\"number\">-.5</span> ,</div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">-.5</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\">cxt.drawArrays(cxt.TRIANGLES,<span class=\"number\">0</span>,<span class=\"number\">3</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/02.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.TRIANGLE_STRIP , start , count )</li>\n<li>gl.TRIANGLE_STRIP</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">-.3</span>,<span class=\"number\">.3</span>,</div><div class=\"line\">        <span class=\"number\">.5</span>,<span class=\"number\">.3</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">        <span class=\"number\">.3</span>, <span class=\"number\">-.3</span></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">cxt.drawArrays(cxt.TRIANGLE_STRIP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/03.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.drawArray( gl.TRIANGLE_FAN , start , count )</li>\n<li>gl.TRIANGLE_FAN</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">      <span class=\"number\">.0</span>,<span class=\"number\">0</span>,</div><div class=\"line\">      <span class=\"number\">-.3</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">      <span class=\"number\">-.6</span>,<span class=\"number\">.3</span>,</div><div class=\"line\">      <span class=\"number\">-.3</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">      <span class=\"number\">.3</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">      <span class=\"number\">.6</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">          <span class=\"number\">.4</span>,<span class=\"number\">.5</span>,</div><div class=\"line\">      <span class=\"number\">-.3</span>,<span class=\"number\">.5</span></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">cxt.drawArrays(cxt.TRIANGLE_FAN,<span class=\"number\">0</span>,<span class=\"number\">8</span>);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-04/04.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/04\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/04</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-03T13:09:11.000Z","_content":"\n### attribute \n\nattribute\n\nattribute8attribute\n\n<img width=\"600\" src=\"webgl-2017-07-03/01.jpeg\"/>\n\n*  attribute \n*  attribute  gl_Position \n*  attribute \n\n<!-- more -->\n\n\n\n{% codeblock lang:javascript %}\n// \nconst vertexShaderSource =\n    `attribute vec4 apos;\n    void main() {\n  gl_Position = apos;\n  gl_PointSize = 10.0;\n}`\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n// \nconst fragmentShaderSource =\n    `void main() {\n  gl_FragColor = vec4(1.0,0.5,0.0,1.0);\n  }`\n{% endcodeblock %}\n\nwebgl\n{% codeblock lang:javascript %}\nvar cxt = canvas.getContext('webgl');\n{% endcodeblock %}\n\n,\n{% codeblock lang:javascript %}\n    var vertexShader = cxt.createShader(cxt.VERTEX_SHADER);\n    var fragmentShader = cxt.createShader(cxt.FRAGMENT_SHADER);\n    cxt.shaderSource(vertexShader,vertexShaderSource);\n    cxt.shaderSource(fragmentShader,fragmentShaderSource);\n    cxt.compileShader(vertexShader);\n    cxt.compileShader(fragmentShader);\n{% endcodeblock %}\n\nprogramprogram\n{% codeblock lang:javascript %}\n    var program = cxt.createProgram();\n    cxt.attachShader(program,vertexShader);\n    cxt.attachShader(program,fragmentShader);\n    cxt.linkProgram(program);\n    cxt.useProgram(program);\n{% endcodeblock %}\n\napos\n{% codeblock lang:javascript %}\n    var aposLocation = cxt.getAttribLocation(program,'apos');\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n    cxt.clearColor(0.2,0.2,0.2,1.0);\n    cxt.clear(cxt.COLOR_BUFFER_BIT);\n{% endcodeblock %}\n\nfor\n{% codeblock lang:javascript %}\nfor(var i= 0,num = points.length;i<num;i++){\n    cxt.vertexAttrib4f(aposLocation,points[i].x,points[i].y,1.0,1.0);\n    cxt.drawArrays(cxt.POINTS,0,1);\n}\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n* \n*    \n\n#### \n\n*   var buffer = gl.createBuffer()\n* \n*  gl.bindBuffer(gl.ARRAY_BUFFER , buffer)\n\n<img width=\"600\" src=\"webgl-2017-07-03/02.jpeg\"/>\n\n#### \n* gl.bufferData(gl.ARRAY_BUFFER , data , gl.STATIC_DRAW)\n* data \n* gl.STATIC_DRAW\n* gl.STREAM_DRAW\n* gl.DYNAMIC_DRAW\n\n<img width=\"600\" src=\"webgl-2017-07-03/03.jpeg\"/>\n\n#### \n\n* Int8Array   Uint8Array   \n* Int16Array   Uint16Array\n* Int32Array   Uint32Array \n* Float32Array \n* Float64Array\n\n####  attribute \n* vertexAttribPointer(location , size , type , normalized , stride , offset ) \n*   INVALID_OPERATIONprogram\n*   INVALID_VALUEattribute\n* enableVertexAttribArray(location)localtion\n*   INVALID_OPERATIONprogram\n\n<img width=\"600\" src=\"webgl-2017-07-03/04.jpeg\"/>\n\n### \n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n    -1.0,1.0,\n    1.0,1.0,\n    -1.0,-1.0,\n    1.0,-1.0,\n    0.0,0.0\n]);\n{% endcodeblock %}\n\nbufferbaffer\n{% codeblock lang:javascript %}\nvar buf = cxt.createBuffer();\ncxt.bindBuffer(cxt.ARRAY_BUFFER,buf);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\ncxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);\n{% endcodeblock %}\n\nattribute\n{% codeblock lang:javascript %}\ncxt.vertexAttribPointer(aposLocation,2,cxt.FLOAT,false,0,0);\ncxt.enableVertexAttribArray(aposLocation);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\ncxt.clearColor(0.0,0.5,0.5,1.0);\ncxt.clear(cxt.COLOR_BUFFER_BIT);\ncxt.drawArrays(cxt.POINTS,0,5);\n{% endcodeblock %}\n\n\n{% codeblock lang:html %}\n<canvas id=\"e03\" width=\"500\" height=\"500\"></canvas>\n<script src=\"../lib.js\"></script>\n<script>\n    var canvas = document.getElementById('e03');\n    var cxt = canvas.getContext('webgl');\n    // \n    const vertexShaderSource =\n        `attribute vec4 apos;\n        void main() {\n    gl_Position = apos;\n    gl_PointSize = 10.0;\n    }`\n    // \n    const fragmentShaderSource =\n        `void main() {\n    gl_FragColor = vec4(1.0,0.5,0.0,1.0);\n    }`\n    var program  = initShader(cxt,vertexShaderSource,fragmentShaderSource);\n    var aposLocation = cxt.getAttribLocation(program,'apos');\n    var buffer = cxt.createBuffer();\n    cxt.bindBuffer(cxt.ARRAY_BUFFER,buffer);\n    var data = new Float32Array([\n            -1.0,1.0,\n            1.0,1.0,\n            -1.0,-1.0,\n            1.0,-1.0,\n            0.0,0.0\n    ]);\n    cxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);\n    cxt.vertexAttribPointer(aposLocation,2,cxt.FLOAT,false,0,0);\n    cxt.enableVertexAttribArray(aposLocation);\n    cxt.clearColor(0.0,0.5,0.5,1.0);\n    cxt.clear(cxt.COLOR_BUFFER_BIT);\n    cxt.drawArrays(cxt.POINTS,0,5);\n</script>\n{% endcodeblock %}\n\n\n\n<img width=\"600\" src=\"webgl-2017-07-03/05.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/03\n\n","source":"_posts/webgl-2017-07-03.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-03 21:09:11\ntags: \n    - 'javascript'\n    - 'webgl'\n---\n\n### attribute \n\nattribute\n\nattribute8attribute\n\n<img width=\"600\" src=\"webgl-2017-07-03/01.jpeg\"/>\n\n*  attribute \n*  attribute  gl_Position \n*  attribute \n\n<!-- more -->\n\n\n\n{% codeblock lang:javascript %}\n// \nconst vertexShaderSource =\n    `attribute vec4 apos;\n    void main() {\n  gl_Position = apos;\n  gl_PointSize = 10.0;\n}`\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n// \nconst fragmentShaderSource =\n    `void main() {\n  gl_FragColor = vec4(1.0,0.5,0.0,1.0);\n  }`\n{% endcodeblock %}\n\nwebgl\n{% codeblock lang:javascript %}\nvar cxt = canvas.getContext('webgl');\n{% endcodeblock %}\n\n,\n{% codeblock lang:javascript %}\n    var vertexShader = cxt.createShader(cxt.VERTEX_SHADER);\n    var fragmentShader = cxt.createShader(cxt.FRAGMENT_SHADER);\n    cxt.shaderSource(vertexShader,vertexShaderSource);\n    cxt.shaderSource(fragmentShader,fragmentShaderSource);\n    cxt.compileShader(vertexShader);\n    cxt.compileShader(fragmentShader);\n{% endcodeblock %}\n\nprogramprogram\n{% codeblock lang:javascript %}\n    var program = cxt.createProgram();\n    cxt.attachShader(program,vertexShader);\n    cxt.attachShader(program,fragmentShader);\n    cxt.linkProgram(program);\n    cxt.useProgram(program);\n{% endcodeblock %}\n\napos\n{% codeblock lang:javascript %}\n    var aposLocation = cxt.getAttribLocation(program,'apos');\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n    cxt.clearColor(0.2,0.2,0.2,1.0);\n    cxt.clear(cxt.COLOR_BUFFER_BIT);\n{% endcodeblock %}\n\nfor\n{% codeblock lang:javascript %}\nfor(var i= 0,num = points.length;i<num;i++){\n    cxt.vertexAttrib4f(aposLocation,points[i].x,points[i].y,1.0,1.0);\n    cxt.drawArrays(cxt.POINTS,0,1);\n}\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n* \n*    \n\n#### \n\n*   var buffer = gl.createBuffer()\n* \n*  gl.bindBuffer(gl.ARRAY_BUFFER , buffer)\n\n<img width=\"600\" src=\"webgl-2017-07-03/02.jpeg\"/>\n\n#### \n* gl.bufferData(gl.ARRAY_BUFFER , data , gl.STATIC_DRAW)\n* data \n* gl.STATIC_DRAW\n* gl.STREAM_DRAW\n* gl.DYNAMIC_DRAW\n\n<img width=\"600\" src=\"webgl-2017-07-03/03.jpeg\"/>\n\n#### \n\n* Int8Array   Uint8Array   \n* Int16Array   Uint16Array\n* Int32Array   Uint32Array \n* Float32Array \n* Float64Array\n\n####  attribute \n* vertexAttribPointer(location , size , type , normalized , stride , offset ) \n*   INVALID_OPERATIONprogram\n*   INVALID_VALUEattribute\n* enableVertexAttribArray(location)localtion\n*   INVALID_OPERATIONprogram\n\n<img width=\"600\" src=\"webgl-2017-07-03/04.jpeg\"/>\n\n### \n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n    -1.0,1.0,\n    1.0,1.0,\n    -1.0,-1.0,\n    1.0,-1.0,\n    0.0,0.0\n]);\n{% endcodeblock %}\n\nbufferbaffer\n{% codeblock lang:javascript %}\nvar buf = cxt.createBuffer();\ncxt.bindBuffer(cxt.ARRAY_BUFFER,buf);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\ncxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);\n{% endcodeblock %}\n\nattribute\n{% codeblock lang:javascript %}\ncxt.vertexAttribPointer(aposLocation,2,cxt.FLOAT,false,0,0);\ncxt.enableVertexAttribArray(aposLocation);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\ncxt.clearColor(0.0,0.5,0.5,1.0);\ncxt.clear(cxt.COLOR_BUFFER_BIT);\ncxt.drawArrays(cxt.POINTS,0,5);\n{% endcodeblock %}\n\n\n{% codeblock lang:html %}\n<canvas id=\"e03\" width=\"500\" height=\"500\"></canvas>\n<script src=\"../lib.js\"></script>\n<script>\n    var canvas = document.getElementById('e03');\n    var cxt = canvas.getContext('webgl');\n    // \n    const vertexShaderSource =\n        `attribute vec4 apos;\n        void main() {\n    gl_Position = apos;\n    gl_PointSize = 10.0;\n    }`\n    // \n    const fragmentShaderSource =\n        `void main() {\n    gl_FragColor = vec4(1.0,0.5,0.0,1.0);\n    }`\n    var program  = initShader(cxt,vertexShaderSource,fragmentShaderSource);\n    var aposLocation = cxt.getAttribLocation(program,'apos');\n    var buffer = cxt.createBuffer();\n    cxt.bindBuffer(cxt.ARRAY_BUFFER,buffer);\n    var data = new Float32Array([\n            -1.0,1.0,\n            1.0,1.0,\n            -1.0,-1.0,\n            1.0,-1.0,\n            0.0,0.0\n    ]);\n    cxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);\n    cxt.vertexAttribPointer(aposLocation,2,cxt.FLOAT,false,0,0);\n    cxt.enableVertexAttribArray(aposLocation);\n    cxt.clearColor(0.0,0.5,0.5,1.0);\n    cxt.clear(cxt.COLOR_BUFFER_BIT);\n    cxt.drawArrays(cxt.POINTS,0,5);\n</script>\n{% endcodeblock %}\n\n\n\n<img width=\"600\" src=\"webgl-2017-07-03/05.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/03\n\n","slug":"webgl-2017-07-03","published":1,"updated":"2017-09-04T04:33:25.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1iv000vsvld5unm59uf","content":"<h3 id=\"attribute-\"><a href=\"#attribute-\" class=\"headerlink\" title=\"attribute \"></a>attribute </h3><p>attribute</p>\n<p>attribute8attribute</p>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/01.jpeg\"></p>\n<ul>\n<li> attribute </li>\n<li> attribute  gl_Position </li>\n<li> attribute </li>\n</ul>\n<a id=\"more\"></a>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">    <span class=\"string\">`attribute vec4 apos;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">  gl_Position = apos;</span></div><div class=\"line\"><span class=\"string\">  gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">    <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">  gl_FragColor = vec4(1.0,0.5,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>webgl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cxt = canvas.getContext(<span class=\"string\">'webgl'</span>);</div></pre></td></tr></table></figure></p>\n<p>,<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> vertexShader = cxt.createShader(cxt.VERTEX_SHADER);</div><div class=\"line\"><span class=\"keyword\">var</span> fragmentShader = cxt.createShader(cxt.FRAGMENT_SHADER);</div><div class=\"line\">cxt.shaderSource(vertexShader,vertexShaderSource);</div><div class=\"line\">cxt.shaderSource(fragmentShader,fragmentShaderSource);</div><div class=\"line\">cxt.compileShader(vertexShader);</div><div class=\"line\">cxt.compileShader(fragmentShader);</div></pre></td></tr></table></figure></p>\n<p>programprogram<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> program = cxt.createProgram();</div><div class=\"line\">cxt.attachShader(program,vertexShader);</div><div class=\"line\">cxt.attachShader(program,fragmentShader);</div><div class=\"line\">cxt.linkProgram(program);</div><div class=\"line\">cxt.useProgram(program);</div></pre></td></tr></table></figure></p>\n<p>apos<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> aposLocation = cxt.getAttribLocation(program,<span class=\"string\">'apos'</span>);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.clearColor(<span class=\"number\">0.2</span>,<span class=\"number\">0.2</span>,<span class=\"number\">0.2</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">cxt.clear(cxt.COLOR_BUFFER_BIT);</div></pre></td></tr></table></figure></p>\n<p>for<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i= <span class=\"number\">0</span>,num = points.length;i&lt;num;i++)&#123;</div><div class=\"line\">    cxt.vertexAttrib4f(aposLocation,points[i].x,points[i].y,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">    cxt.drawArrays(cxt.POINTS,<span class=\"number\">0</span>,<span class=\"number\">1</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li>   </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>  var buffer = gl.createBuffer()</li>\n<li></li>\n<li> gl.bindBuffer(gl.ARRAY_BUFFER , buffer)</li>\n</ul>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/02.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.bufferData(gl.ARRAY_BUFFER , data , gl.STATIC_DRAW)</li>\n<li>data </li>\n<li>gl.STATIC_DRAW</li>\n<li>gl.STREAM_DRAW</li>\n<li>gl.DYNAMIC_DRAW</li>\n</ul>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/03.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>Int8Array   Uint8Array   </li>\n<li>Int16Array   Uint16Array</li>\n<li>Int32Array   Uint32Array </li>\n<li>Float32Array </li>\n<li>Float64Array</li>\n</ul>\n<h4 id=\"-attribute-\"><a href=\"#-attribute-\" class=\"headerlink\" title=\" attribute \"></a> attribute </h4><ul>\n<li>vertexAttribPointer(location , size , type , normalized , stride , offset ) </li>\n<li>  INVALID_OPERATIONprogram</li>\n<li>  INVALID_VALUEattribute</li>\n<li>enableVertexAttribArray(location)localtion</li>\n<li>  INVALID_OPERATIONprogram</li>\n</ul>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/04.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-1.0</span>,<span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,</div><div class=\"line\">    <span class=\"number\">0.0</span>,<span class=\"number\">0.0</span></div><div class=\"line\">]);</div></pre></td></tr></table></figure></p>\n<p>bufferbaffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> buf = cxt.createBuffer();</div><div class=\"line\">cxt.bindBuffer(cxt.ARRAY_BUFFER,buf);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);</div></pre></td></tr></table></figure></p>\n<p>attribute<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.vertexAttribPointer(aposLocation,<span class=\"number\">2</span>,cxt.FLOAT,<span class=\"literal\">false</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>);</div><div class=\"line\">cxt.enableVertexAttribArray(aposLocation);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.clearColor(<span class=\"number\">0.0</span>,<span class=\"number\">0.5</span>,<span class=\"number\">0.5</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">cxt.drawArrays(cxt.POINTS,<span class=\"number\">0</span>,<span class=\"number\">5</span>);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"e03\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"500\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"500\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'e03'</span>);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> cxt = canvas.getContext(<span class=\"string\">'webgl'</span>);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> vertexShaderSource =</span></div><div class=\"line\"><span class=\"undefined\">        `attribute vec4 apos;</span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">void</span> main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">    gl_Position = apos;</span></div><div class=\"line\"><span class=\"undefined\">    gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"undefined\">    &#125;`</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> fragmentShaderSource =</span></div><div class=\"line\"><span class=\"undefined\">        `void main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">    gl_FragColor = vec4(1.0,0.5,0.0,1.0);</span></div><div class=\"line\"><span class=\"undefined\">    &#125;`</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> program  = initShader(cxt,vertexShaderSource,fragmentShaderSource);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> aposLocation = cxt.getAttribLocation(program,<span class=\"string\">'apos'</span>);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> buffer = cxt.createBuffer();</span></div><div class=\"line\"><span class=\"undefined\">    cxt.bindBuffer(cxt.ARRAY_BUFFER,buffer);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</span></div><div class=\"line\"><span class=\"undefined\">            -1.0,1.0,</span></div><div class=\"line\"><span class=\"undefined\">            1.0,1.0,</span></div><div class=\"line\"><span class=\"undefined\">            -1.0,-1.0,</span></div><div class=\"line\"><span class=\"undefined\">            1.0,-1.0,</span></div><div class=\"line\"><span class=\"undefined\">            0.0,0.0</span></div><div class=\"line\"><span class=\"undefined\">    ]);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);</span></div><div class=\"line\"><span class=\"javascript\">    cxt.vertexAttribPointer(aposLocation,<span class=\"number\">2</span>,cxt.FLOAT,<span class=\"literal\">false</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.enableVertexAttribArray(aposLocation);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.clearColor(0.0,0.5,0.5,1.0);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.clear(cxt.COLOR_BUFFER_BIT);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.drawArrays(cxt.POINTS,0,5);</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/05.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/03\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/03</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"attribute-\"><a href=\"#attribute-\" class=\"headerlink\" title=\"attribute \"></a>attribute </h3><p>attribute</p>\n<p>attribute8attribute</p>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/01.jpeg\"></p>\n<ul>\n<li> attribute </li>\n<li> attribute  gl_Position </li>\n<li> attribute </li>\n</ul>","more":"<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">    <span class=\"string\">`attribute vec4 apos;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">  gl_Position = apos;</span></div><div class=\"line\"><span class=\"string\">  gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">    <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">  gl_FragColor = vec4(1.0,0.5,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>webgl<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cxt = canvas.getContext(<span class=\"string\">'webgl'</span>);</div></pre></td></tr></table></figure></p>\n<p>,<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> vertexShader = cxt.createShader(cxt.VERTEX_SHADER);</div><div class=\"line\"><span class=\"keyword\">var</span> fragmentShader = cxt.createShader(cxt.FRAGMENT_SHADER);</div><div class=\"line\">cxt.shaderSource(vertexShader,vertexShaderSource);</div><div class=\"line\">cxt.shaderSource(fragmentShader,fragmentShaderSource);</div><div class=\"line\">cxt.compileShader(vertexShader);</div><div class=\"line\">cxt.compileShader(fragmentShader);</div></pre></td></tr></table></figure></p>\n<p>programprogram<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> program = cxt.createProgram();</div><div class=\"line\">cxt.attachShader(program,vertexShader);</div><div class=\"line\">cxt.attachShader(program,fragmentShader);</div><div class=\"line\">cxt.linkProgram(program);</div><div class=\"line\">cxt.useProgram(program);</div></pre></td></tr></table></figure></p>\n<p>apos<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> aposLocation = cxt.getAttribLocation(program,<span class=\"string\">'apos'</span>);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.clearColor(<span class=\"number\">0.2</span>,<span class=\"number\">0.2</span>,<span class=\"number\">0.2</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">cxt.clear(cxt.COLOR_BUFFER_BIT);</div></pre></td></tr></table></figure></p>\n<p>for<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i= <span class=\"number\">0</span>,num = points.length;i&lt;num;i++)&#123;</div><div class=\"line\">    cxt.vertexAttrib4f(aposLocation,points[i].x,points[i].y,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">    cxt.drawArrays(cxt.POINTS,<span class=\"number\">0</span>,<span class=\"number\">1</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li>   </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>  var buffer = gl.createBuffer()</li>\n<li></li>\n<li> gl.bindBuffer(gl.ARRAY_BUFFER , buffer)</li>\n</ul>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/02.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>gl.bufferData(gl.ARRAY_BUFFER , data , gl.STATIC_DRAW)</li>\n<li>data </li>\n<li>gl.STATIC_DRAW</li>\n<li>gl.STREAM_DRAW</li>\n<li>gl.DYNAMIC_DRAW</li>\n</ul>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/03.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ul>\n<li>Int8Array   Uint8Array   </li>\n<li>Int16Array   Uint16Array</li>\n<li>Int32Array   Uint32Array </li>\n<li>Float32Array </li>\n<li>Float64Array</li>\n</ul>\n<h4 id=\"-attribute-\"><a href=\"#-attribute-\" class=\"headerlink\" title=\" attribute \"></a> attribute </h4><ul>\n<li>vertexAttribPointer(location , size , type , normalized , stride , offset ) </li>\n<li>  INVALID_OPERATIONprogram</li>\n<li>  INVALID_VALUEattribute</li>\n<li>enableVertexAttribArray(location)localtion</li>\n<li>  INVALID_OPERATIONprogram</li>\n</ul>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/04.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">-1.0</span>,<span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,</div><div class=\"line\">    <span class=\"number\">0.0</span>,<span class=\"number\">0.0</span></div><div class=\"line\">]);</div></pre></td></tr></table></figure></p>\n<p>bufferbaffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> buf = cxt.createBuffer();</div><div class=\"line\">cxt.bindBuffer(cxt.ARRAY_BUFFER,buf);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);</div></pre></td></tr></table></figure></p>\n<p>attribute<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.vertexAttribPointer(aposLocation,<span class=\"number\">2</span>,cxt.FLOAT,<span class=\"literal\">false</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>);</div><div class=\"line\">cxt.enableVertexAttribArray(aposLocation);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.clearColor(<span class=\"number\">0.0</span>,<span class=\"number\">0.5</span>,<span class=\"number\">0.5</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">cxt.drawArrays(cxt.POINTS,<span class=\"number\">0</span>,<span class=\"number\">5</span>);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"e03\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"500\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"500\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"../lib.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'e03'</span>);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> cxt = canvas.getContext(<span class=\"string\">'webgl'</span>);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> vertexShaderSource =</span></div><div class=\"line\"><span class=\"undefined\">        `attribute vec4 apos;</span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">void</span> main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">    gl_Position = apos;</span></div><div class=\"line\"><span class=\"undefined\">    gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"undefined\">    &#125;`</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// </span></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> fragmentShaderSource =</span></div><div class=\"line\"><span class=\"undefined\">        `void main() &#123;</span></div><div class=\"line\"><span class=\"undefined\">    gl_FragColor = vec4(1.0,0.5,0.0,1.0);</span></div><div class=\"line\"><span class=\"undefined\">    &#125;`</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> program  = initShader(cxt,vertexShaderSource,fragmentShaderSource);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> aposLocation = cxt.getAttribLocation(program,<span class=\"string\">'apos'</span>);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> buffer = cxt.createBuffer();</span></div><div class=\"line\"><span class=\"undefined\">    cxt.bindBuffer(cxt.ARRAY_BUFFER,buffer);</span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</span></div><div class=\"line\"><span class=\"undefined\">            -1.0,1.0,</span></div><div class=\"line\"><span class=\"undefined\">            1.0,1.0,</span></div><div class=\"line\"><span class=\"undefined\">            -1.0,-1.0,</span></div><div class=\"line\"><span class=\"undefined\">            1.0,-1.0,</span></div><div class=\"line\"><span class=\"undefined\">            0.0,0.0</span></div><div class=\"line\"><span class=\"undefined\">    ]);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.bufferData(cxt.ARRAY_BUFFER,data,cxt.STATIC_DRAW);</span></div><div class=\"line\"><span class=\"javascript\">    cxt.vertexAttribPointer(aposLocation,<span class=\"number\">2</span>,cxt.FLOAT,<span class=\"literal\">false</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.enableVertexAttribArray(aposLocation);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.clearColor(0.0,0.5,0.5,1.0);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.clear(cxt.COLOR_BUFFER_BIT);</span></div><div class=\"line\"><span class=\"undefined\">    cxt.drawArrays(cxt.POINTS,0,5);</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"600\" src=\"/webgl-2017-07-03/05.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/03\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/03</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-06T13:09:11.000Z","_content":"\n### \n\n#### \n\n* \n* \n\nsetTimeout\n\n<!-- more -->\n\nabxy\n{% codeblock lang:javascript %}\nconst vertexShaderSource =\n    `\n    attribute vec4 pos;\n    uniform float a;\n    uniform float b;\n    void main() {\n      gl_Position.x = pos.x + a;\n      gl_Position.y = pos.y + b;\n      gl_Position.z = .0;\n      gl_PointSize = 10.0;\n}`\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nconst fragmentShaderSource =\n    `void main() {\n      gl_FragColor = vec4(1.0,0.5,0.0,1.0);\n  }`\n{% endcodeblock %}\n\nlocation\n{% codeblock lang:javascript %}\nvar posLocation = cxt.getAttribLocation(program, 'pos');\nvar aLocation = cxt.getUniformLocation(program, 'a');\nvar bLocation = cxt.getUniformLocation(program, 'b');\n{% endcodeblock %}\n\nsetTimeOut\n{% codeblock lang:javascript %}\nrun();\n    function run() {\n        cxt.uniform1f(aLocation, a);\n        cxt.uniform1f(bLocation, b);\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n\n        a += .05;\n        b += .05;\n\n        setTimeout(run, 500)\n    }\n{% endcodeblock %}\n\n\n### \n\n#### \n\n* ()\n* xy\n\n ,cjxycj\n {% codeblock lang:javascript %}\n const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform float cj;\n    void main() {\n      gl_Position.x = pos.x * cj;\n      gl_Position.y = pos.y * cj;\n      gl_Position.z = .0;\n      gl_Position.w = 1.0;\n      gl_PointSize = 10.0;\n}`\n{% endcodeblock %}\n\ncjLocation\n{% codeblock lang:javascript %}\nvar cjLocation = cxt.getUniformLocation(program, 'cj');\n{% endcodeblock %}\n\nrender\n{% codeblock lang:javascript %}\nvar cj = 1.0;\t\n    render();\n    function render() {\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniform1f(cjLocation, cj);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n    function fangda() {\n        cj += .05;\n        render()\n    }\n\n    function suoxiao() {\n        cj -= .05;\n        render()\n    }\n{% endcodeblock %}\n\n#### w\n\nvec4vec2posxy\n {% codeblock lang:javascript %}\n const vertexShaderSource =\n        `\n    attribute vec2 pos;\n    uniform float w;\n    void main() {\n      gl_Position = vec4(pos,0.0,w);\n}`\n{% endcodeblock %}\n\nvec4vec4(x/w,y/w,z/w,w),wxy\n\n\n### \n\n#### \n\n* \n* gl.Position.xgl.Position.y\n\n#### \n\n* x = r.cos(a)\n* y = r.sin(a)\n* x1 = r.cos(a+b)\n* y1 = r.sin(a+b)\n* x1 = x.cos(b) - y.sin(b)\n* y1 = x.sin(b) + y.cos(b)\n* z1 = z = 0.0\n\n\n {% codeblock lang:javascript %}\nconst vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform float cosB;\n    uniform float sinB;\n    void main() {\n      gl_Position.x = pos.x * cosB - pos.y * sinB;\n      gl_Position.y = pos.x * sinB + pos.y * cosB;\n      gl_Position.z = .0;\n      gl_Position.w = 1.0;\n}`\n{% endcodeblock %}\n\n\n {% codeblock lang:javascript %}\nvar angle = 10.0;\n    function render() {\n        var t = Math.PI * angle / 180;\n        var cosB = Math.sin(t);\n        var sinB = Math.cos(t);\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniform1f(cosBLocation, cosB);\n        cxt.uniform1f(sinBLocation, sinB);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n\n    setInterval(() => {\n        angle += 1.0;\n        render();\n    }, 1000)\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n* \n\nTx,Ty,xy\n\n<img width=\"300\" src=\"webgl-2017-07-06/1.jpeg\"/>\n\nxf\n {% codeblock lang:javascript %}\nconst vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xf;\n    void main() {\n      gl_Position = xf * pos;\n}`\n{% endcodeblock %}\n\n\n {% codeblock lang:javascript %}\nvar xf = new Float32Array([\n                    1.0, 0.0, 0.0, 0.0,\n                    0.0, 1.0, 0.0, 0.0,\n                    0.0, 0.0, 1.0, 0.0,\n                    Tx, Ty, 0.0, 1.0\n                ]);\n{% endcodeblock %}\n\nTxTyrender\n{% codeblock lang:javascript %}\nvar Tx = 1.0, Ty = 0.0;\n\n    function render() {\n      var xf = new Float32Array([\n                    1.0, 0.0, 0.0, 0.0,\n                    0.0, 1.0, 0.0, 0.0,\n                    0.0, 0.0, 1.0, 0.0,\n                    Tx, Ty, 0.0, 1.0\n                ]);\n        \n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniformMatrix4fv(xfLocation,false,xf);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n    render()\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n* \n\nSx,Sy\n<img width=\"300\" src=\"webgl-2017-07-06/2.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\nvar sx = 1.0,\n        sy = 1.0;\n\n    function render() {\n        var xf = new Float32Array([\n            sx, 0.0, 0.0, 0.0,\n            0.0, sy, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            0.0, 0.0, 0.0, 1.0\n        ]);\n\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniformMatrix4fv(xfLocation, false, xf);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n\n    render()\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n*  gl_Position.x  gl_Position.y \n\n<img width=\"300\" src=\"webgl-2017-07-06/3.jpeg\"/>\n\n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xf;\n    void main() {\n      gl_Position = xf * pos;\n}`\n\n    // \n    const fragmentShaderSource =\n        `void main() {\n      gl_FragColor = vec4(1.0,.0,.0,1.0);\n  }`\n{% endcodeblock %}\n\nrender\n{% codeblock lang:javascript %}\nvar time;\n\n    function render() {\n        angle += zl;\n\n        t = Math.PI * angle / 180;\n        sinB = Math.sin(t);\n        cosB = Math.cos(t);\n        var xf = new Float32Array([\n            cosB, sinB, 0.0, 0.0, -sinB, cosB, 0.0, .0,\n            0.0, .0, 1.0, .0,\n            0.0, .0, .0, 1.0\n        ]);\n        cxt.uniformMatrix4fv(xfLocation, false, xf);\n\n        cxt.clearColor(.5, .5, .5, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.LINES, 0, 2);\n        time = setTimeout(render, 500);\n\n        if (!isOpen) {\n            clearTimeout(time);\n        }\n    }\n\n    render()\n{% endcodeblock %}\n\n\n<img width=\"600\" src=\"webgl-2017-07-06/4.jpeg\"/>\n\n### WebGL\n\n#### \n\n*  setTimeout \n* \n* \n* A * B *   \n\n#### \n\n* \n* \n* \n* \n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xz;\n    uniform mat4 py;\n    void main() {\n      gl_Position = pos * xz * py;\n}`\n\n    // \n    const fragmentShaderSource =\n        `void main() {\n      gl_FragColor = vec4(1.0,.0,.0,1.0);\n  }`\n{% endcodeblock %}\n\nbufferbuffer\n{% codeblock lang:javascript %}\nvar cxt = document.getElementById('example08').getContext('webgl');\n\n    var buffer = cxt.createBuffer();\n    cxt.bindBuffer(cxt.ARRAY_BUFFER, buffer);\n    var data = new Float32Array([\n        0.0, 0.2, -.2, -.2,\n        .2, -.2,\n    ]);\n\n    cxt.bufferData(cxt.ARRAY_BUFFER, data, cxt.STATIC_DRAW);\n\n    var program = initShader(cxt, vertexShaderSource, fragmentShaderSource);\n\n    var posLocation = cxt.getAttribLocation(program, 'pos');\n    var xzLocation = cxt.getUniformLocation(program, 'xz');\n    var pyLocation = cxt.getUniformLocation(program, 'py');\n\n\n    cxt.vertexAttribPointer(posLocation, 2, cxt.FLOAT, false, 0, 0);\n    cxt.enableVertexAttribArray(posLocation);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nvar xz = new Float32Array([\n            cosB, sinB, 0.0, 0.0, \n            -sinB, cosB, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            0.0, 0.0, 0.0, 1.0\n        ]);\n var py = new Float32Array([\n            1.0, 0.0, 0.0, 0.0,\n            0.0, 1.0, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            tx, ty, 0.0, 1.0\n        ]);\n\n        cxt.uniformMatrix4fv(xzLocation,false, xz);\n        cxt.uniformMatrix4fv(pyLocation,false, py);       \n{% endcodeblock %}\n\nsetTimeOutrun\n\n{% codeblock lang:javascript %}\nfunction run() {\n        var t = Math.PI * ANGLE / 180;\n        sinB = Math.sin(t);\n        cosB = Math.cos(t);\n\n        var xz = new Float32Array([\n            cosB, sinB, 0.0, 0.0, \n            -sinB, cosB, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            0.0, 0.0, 0.0, 1.0\n        ]);\n\n        tx += .005;\n        ty += .005;\n\n        ANGLE += 1;\n\n        var py = new Float32Array([\n            1.0, 0.0, 0.0, 0.0,\n            0.0, 1.0, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            tx, ty, 0.0, 1.0\n        ]);\n\n        cxt.uniformMatrix4fv(xzLocation,false, xz);\n        cxt.uniformMatrix4fv(pyLocation,false, py);\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n\n\n        setTimeout(run, 500)\n    }\n\n    run();     \n{% endcodeblock %}\n\n\n### \n\n* 4 * 4 \n\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/5.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\nfunction mix(a, b) {\n        var result = new Float32Array(16);\n\n        for (var i = 0; i < 4; i++) {\n            result[i] = a[i] * b[0] + a[i + 4] * b[1] + a[i + 8] * b[2] + a[i + 12] * b[3];\n            result[i + 4] = a[i] * b[4] + a[i + 4] * b[5] + a[i + 8] * b[6] + a[i + 12] * b[7];\n            result[i + 8] = a[i] * b[8] + a[i + 4] * b[9] + a[i + 8] * b[10] + a[i + 12] * b[11];\n            result[i + 12] = a[i] * b[12] + a[i + 4] * b[13] + a[i + 8] * b[14] + a[i + 12] * b[15];\n        }\n\n        return result;\n    }\n\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nconst vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xf;\n    void main() {\n      gl_Position = pos * xf;\n}`\n\n    // \n    const fragmentShaderSource =\n        `void main() {\n      gl_FragColor = vec4(1.0,.0,.0,1.0);\n  }`\n{% endcodeblock %}\n\nLocation\n{% codeblock lang:javascript %}\nvar xfLocation = cxt.getUniformLocation(program, 'xf');\ncxt.uniformMatrix4fv(xfLocation, false, mix(xz,py));\n{% endcodeblock %}\n\n https://github.com/wqzwh/webgl-code/tree/master/05","source":"_posts/webgl-2017-07-06.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-06 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n#### \n\n* \n* \n\nsetTimeout\n\n<!-- more -->\n\nabxy\n{% codeblock lang:javascript %}\nconst vertexShaderSource =\n    `\n    attribute vec4 pos;\n    uniform float a;\n    uniform float b;\n    void main() {\n      gl_Position.x = pos.x + a;\n      gl_Position.y = pos.y + b;\n      gl_Position.z = .0;\n      gl_PointSize = 10.0;\n}`\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nconst fragmentShaderSource =\n    `void main() {\n      gl_FragColor = vec4(1.0,0.5,0.0,1.0);\n  }`\n{% endcodeblock %}\n\nlocation\n{% codeblock lang:javascript %}\nvar posLocation = cxt.getAttribLocation(program, 'pos');\nvar aLocation = cxt.getUniformLocation(program, 'a');\nvar bLocation = cxt.getUniformLocation(program, 'b');\n{% endcodeblock %}\n\nsetTimeOut\n{% codeblock lang:javascript %}\nrun();\n    function run() {\n        cxt.uniform1f(aLocation, a);\n        cxt.uniform1f(bLocation, b);\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n\n        a += .05;\n        b += .05;\n\n        setTimeout(run, 500)\n    }\n{% endcodeblock %}\n\n\n### \n\n#### \n\n* ()\n* xy\n\n ,cjxycj\n {% codeblock lang:javascript %}\n const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform float cj;\n    void main() {\n      gl_Position.x = pos.x * cj;\n      gl_Position.y = pos.y * cj;\n      gl_Position.z = .0;\n      gl_Position.w = 1.0;\n      gl_PointSize = 10.0;\n}`\n{% endcodeblock %}\n\ncjLocation\n{% codeblock lang:javascript %}\nvar cjLocation = cxt.getUniformLocation(program, 'cj');\n{% endcodeblock %}\n\nrender\n{% codeblock lang:javascript %}\nvar cj = 1.0;\t\n    render();\n    function render() {\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniform1f(cjLocation, cj);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n    function fangda() {\n        cj += .05;\n        render()\n    }\n\n    function suoxiao() {\n        cj -= .05;\n        render()\n    }\n{% endcodeblock %}\n\n#### w\n\nvec4vec2posxy\n {% codeblock lang:javascript %}\n const vertexShaderSource =\n        `\n    attribute vec2 pos;\n    uniform float w;\n    void main() {\n      gl_Position = vec4(pos,0.0,w);\n}`\n{% endcodeblock %}\n\nvec4vec4(x/w,y/w,z/w,w),wxy\n\n\n### \n\n#### \n\n* \n* gl.Position.xgl.Position.y\n\n#### \n\n* x = r.cos(a)\n* y = r.sin(a)\n* x1 = r.cos(a+b)\n* y1 = r.sin(a+b)\n* x1 = x.cos(b) - y.sin(b)\n* y1 = x.sin(b) + y.cos(b)\n* z1 = z = 0.0\n\n\n {% codeblock lang:javascript %}\nconst vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform float cosB;\n    uniform float sinB;\n    void main() {\n      gl_Position.x = pos.x * cosB - pos.y * sinB;\n      gl_Position.y = pos.x * sinB + pos.y * cosB;\n      gl_Position.z = .0;\n      gl_Position.w = 1.0;\n}`\n{% endcodeblock %}\n\n\n {% codeblock lang:javascript %}\nvar angle = 10.0;\n    function render() {\n        var t = Math.PI * angle / 180;\n        var cosB = Math.sin(t);\n        var sinB = Math.cos(t);\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniform1f(cosBLocation, cosB);\n        cxt.uniform1f(sinBLocation, sinB);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n\n    setInterval(() => {\n        angle += 1.0;\n        render();\n    }, 1000)\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n* \n\nTx,Ty,xy\n\n<img width=\"300\" src=\"webgl-2017-07-06/1.jpeg\"/>\n\nxf\n {% codeblock lang:javascript %}\nconst vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xf;\n    void main() {\n      gl_Position = xf * pos;\n}`\n{% endcodeblock %}\n\n\n {% codeblock lang:javascript %}\nvar xf = new Float32Array([\n                    1.0, 0.0, 0.0, 0.0,\n                    0.0, 1.0, 0.0, 0.0,\n                    0.0, 0.0, 1.0, 0.0,\n                    Tx, Ty, 0.0, 1.0\n                ]);\n{% endcodeblock %}\n\nTxTyrender\n{% codeblock lang:javascript %}\nvar Tx = 1.0, Ty = 0.0;\n\n    function render() {\n      var xf = new Float32Array([\n                    1.0, 0.0, 0.0, 0.0,\n                    0.0, 1.0, 0.0, 0.0,\n                    0.0, 0.0, 1.0, 0.0,\n                    Tx, Ty, 0.0, 1.0\n                ]);\n        \n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniformMatrix4fv(xfLocation,false,xf);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n    render()\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n* \n\nSx,Sy\n<img width=\"300\" src=\"webgl-2017-07-06/2.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\nvar sx = 1.0,\n        sy = 1.0;\n\n    function render() {\n        var xf = new Float32Array([\n            sx, 0.0, 0.0, 0.0,\n            0.0, sy, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            0.0, 0.0, 0.0, 1.0\n        ]);\n\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n        cxt.uniformMatrix4fv(xfLocation, false, xf);\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n    }\n\n    render()\n{% endcodeblock %}\n\n### \n\n#### \n\n* \n*  gl_Position.x  gl_Position.y \n\n<img width=\"300\" src=\"webgl-2017-07-06/3.jpeg\"/>\n\n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xf;\n    void main() {\n      gl_Position = xf * pos;\n}`\n\n    // \n    const fragmentShaderSource =\n        `void main() {\n      gl_FragColor = vec4(1.0,.0,.0,1.0);\n  }`\n{% endcodeblock %}\n\nrender\n{% codeblock lang:javascript %}\nvar time;\n\n    function render() {\n        angle += zl;\n\n        t = Math.PI * angle / 180;\n        sinB = Math.sin(t);\n        cosB = Math.cos(t);\n        var xf = new Float32Array([\n            cosB, sinB, 0.0, 0.0, -sinB, cosB, 0.0, .0,\n            0.0, .0, 1.0, .0,\n            0.0, .0, .0, 1.0\n        ]);\n        cxt.uniformMatrix4fv(xfLocation, false, xf);\n\n        cxt.clearColor(.5, .5, .5, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.LINES, 0, 2);\n        time = setTimeout(render, 500);\n\n        if (!isOpen) {\n            clearTimeout(time);\n        }\n    }\n\n    render()\n{% endcodeblock %}\n\n\n<img width=\"600\" src=\"webgl-2017-07-06/4.jpeg\"/>\n\n### WebGL\n\n#### \n\n*  setTimeout \n* \n* \n* A * B *   \n\n#### \n\n* \n* \n* \n* \n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xz;\n    uniform mat4 py;\n    void main() {\n      gl_Position = pos * xz * py;\n}`\n\n    // \n    const fragmentShaderSource =\n        `void main() {\n      gl_FragColor = vec4(1.0,.0,.0,1.0);\n  }`\n{% endcodeblock %}\n\nbufferbuffer\n{% codeblock lang:javascript %}\nvar cxt = document.getElementById('example08').getContext('webgl');\n\n    var buffer = cxt.createBuffer();\n    cxt.bindBuffer(cxt.ARRAY_BUFFER, buffer);\n    var data = new Float32Array([\n        0.0, 0.2, -.2, -.2,\n        .2, -.2,\n    ]);\n\n    cxt.bufferData(cxt.ARRAY_BUFFER, data, cxt.STATIC_DRAW);\n\n    var program = initShader(cxt, vertexShaderSource, fragmentShaderSource);\n\n    var posLocation = cxt.getAttribLocation(program, 'pos');\n    var xzLocation = cxt.getUniformLocation(program, 'xz');\n    var pyLocation = cxt.getUniformLocation(program, 'py');\n\n\n    cxt.vertexAttribPointer(posLocation, 2, cxt.FLOAT, false, 0, 0);\n    cxt.enableVertexAttribArray(posLocation);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nvar xz = new Float32Array([\n            cosB, sinB, 0.0, 0.0, \n            -sinB, cosB, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            0.0, 0.0, 0.0, 1.0\n        ]);\n var py = new Float32Array([\n            1.0, 0.0, 0.0, 0.0,\n            0.0, 1.0, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            tx, ty, 0.0, 1.0\n        ]);\n\n        cxt.uniformMatrix4fv(xzLocation,false, xz);\n        cxt.uniformMatrix4fv(pyLocation,false, py);       \n{% endcodeblock %}\n\nsetTimeOutrun\n\n{% codeblock lang:javascript %}\nfunction run() {\n        var t = Math.PI * ANGLE / 180;\n        sinB = Math.sin(t);\n        cosB = Math.cos(t);\n\n        var xz = new Float32Array([\n            cosB, sinB, 0.0, 0.0, \n            -sinB, cosB, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            0.0, 0.0, 0.0, 1.0\n        ]);\n\n        tx += .005;\n        ty += .005;\n\n        ANGLE += 1;\n\n        var py = new Float32Array([\n            1.0, 0.0, 0.0, 0.0,\n            0.0, 1.0, 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            tx, ty, 0.0, 1.0\n        ]);\n\n        cxt.uniformMatrix4fv(xzLocation,false, xz);\n        cxt.uniformMatrix4fv(pyLocation,false, py);\n        cxt.clearColor(0.0, 0.0, 0.0, 1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.TRIANGLES, 0, 3);\n\n\n        setTimeout(run, 500)\n    }\n\n    run();     \n{% endcodeblock %}\n\n\n### \n\n* 4 * 4 \n\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/5.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\nfunction mix(a, b) {\n        var result = new Float32Array(16);\n\n        for (var i = 0; i < 4; i++) {\n            result[i] = a[i] * b[0] + a[i + 4] * b[1] + a[i + 8] * b[2] + a[i + 12] * b[3];\n            result[i + 4] = a[i] * b[4] + a[i + 4] * b[5] + a[i + 8] * b[6] + a[i + 12] * b[7];\n            result[i + 8] = a[i] * b[8] + a[i + 4] * b[9] + a[i + 8] * b[10] + a[i + 12] * b[11];\n            result[i + 12] = a[i] * b[12] + a[i + 4] * b[13] + a[i + 8] * b[14] + a[i + 12] * b[15];\n        }\n\n        return result;\n    }\n\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nconst vertexShaderSource =\n        `\n    attribute vec4 pos;\n    uniform mat4 xf;\n    void main() {\n      gl_Position = pos * xf;\n}`\n\n    // \n    const fragmentShaderSource =\n        `void main() {\n      gl_FragColor = vec4(1.0,.0,.0,1.0);\n  }`\n{% endcodeblock %}\n\nLocation\n{% codeblock lang:javascript %}\nvar xfLocation = cxt.getUniformLocation(program, 'xf');\ncxt.uniformMatrix4fv(xfLocation, false, mix(xz,py));\n{% endcodeblock %}\n\n https://github.com/wqzwh/webgl-code/tree/master/05","slug":"webgl-2017-07-06","published":1,"updated":"2017-10-05T08:31:05.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1ix000xsvldxu2epzrn","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p>setTimeout</p>\n<a id=\"more\"></a>\n<p>abxy<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">    <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float a;</span></div><div class=\"line\"><span class=\"string\">    uniform float b;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.x = pos.x + a;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.y = pos.y + b;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.z = .0;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">    <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,0.5,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>location<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> posLocation = cxt.getAttribLocation(program, <span class=\"string\">'pos'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> aLocation = cxt.getUniformLocation(program, <span class=\"string\">'a'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> bLocation = cxt.getUniformLocation(program, <span class=\"string\">'b'</span>);</div></pre></td></tr></table></figure></p>\n<p>setTimeOut<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">run();</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cxt.uniform1f(aLocation, a);</div><div class=\"line\">        cxt.uniform1f(bLocation, b);</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\"></div><div class=\"line\">        a += <span class=\"number\">.05</span>;</div><div class=\"line\">        b += <span class=\"number\">.05</span>;</div><div class=\"line\"></div><div class=\"line\">        setTimeout(run, <span class=\"number\">500</span>)</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>()</li>\n<li><p>xy</p>\n<p>,cjxycj</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float cj;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.x = pos.x * cj;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.y = pos.y * cj;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.z = .0;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.w = 1.0;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>cjLocation<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cjLocation = cxt.getUniformLocation(program, <span class=\"string\">'cj'</span>);</div></pre></td></tr></table></figure></p>\n<p>render<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cj = <span class=\"number\">1.0</span>;\t</div><div class=\"line\">    render();</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniform1f(cjLocation, cj);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fangda</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cj += <span class=\"number\">.05</span>;</div><div class=\"line\">        render()</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">suoxiao</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cj -= <span class=\"number\">.05</span>;</div><div class=\"line\">        render()</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"w\"><a href=\"#w\" class=\"headerlink\" title=\"w\"></a>w</h4><p>vec4vec2posxy<br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec2 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float w;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = vec4(pos,0.0,w);</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p>vec4vec4(x/w,y/w,z/w,w),wxy</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>gl.Position.xgl.Position.y</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>x = r.cos(a)</li>\n<li>y = r.sin(a)</li>\n<li>x1 = r.cos(a+b)</li>\n<li>y1 = r.sin(a+b)</li>\n<li>x1 = x.cos(b) - y.sin(b)</li>\n<li>y1 = x.sin(b) + y.cos(b)</li>\n<li>z1 = z = 0.0</li>\n</ul>\n<p><br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float cosB;</span></div><div class=\"line\"><span class=\"string\">    uniform float sinB;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.x = pos.x * cosB - pos.y * sinB;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.y = pos.x * sinB + pos.y * cosB;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.z = .0;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.w = 1.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> angle = <span class=\"number\">10.0</span>;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> t = <span class=\"built_in\">Math</span>.PI * angle / <span class=\"number\">180</span>;</div><div class=\"line\">        <span class=\"keyword\">var</span> cosB = <span class=\"built_in\">Math</span>.sin(t);</div><div class=\"line\">        <span class=\"keyword\">var</span> sinB = <span class=\"built_in\">Math</span>.cos(t);</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniform1f(cosBLocation, cosB);</div><div class=\"line\">        cxt.uniform1f(sinBLocation, sinB);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    setInterval(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        angle += <span class=\"number\">1.0</span>;</div><div class=\"line\">        render();</div><div class=\"line\">    &#125;, <span class=\"number\">1000</span>)</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p>Tx,Ty,xy</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-06/1.jpeg\"></p>\n<p>xf<br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = xf * pos;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">                    <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    Tx, Ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">                ]);</div></pre></td></tr></table></figure></p>\n<p>TxTyrender<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> Tx = <span class=\"number\">1.0</span>, Ty = <span class=\"number\">0.0</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">                    <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    Tx, Ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">                ]);</div><div class=\"line\">        </div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation,<span class=\"literal\">false</span>,xf);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">    render()</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p>Sx,Sy<br><img width=\"300\" src=\"/webgl-2017-07-06/2.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> sx = <span class=\"number\">1.0</span>,</div><div class=\"line\">        sy = <span class=\"number\">1.0</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            sx, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, sy, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, xf);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    render()</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-5\"><a href=\"#-5\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li> gl_Position.x  gl_Position.y </li>\n</ul>\n<p><img width=\"300\" src=\"/webgl-2017-07-06/3.jpeg\"></p>\n<p></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = xf * pos;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,.0,.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>render<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> time;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        angle += zl;</div><div class=\"line\"></div><div class=\"line\">        t = <span class=\"built_in\">Math</span>.PI * angle / <span class=\"number\">180</span>;</div><div class=\"line\">        sinB = <span class=\"built_in\">Math</span>.sin(t);</div><div class=\"line\">        cosB = <span class=\"built_in\">Math</span>.cos(t);</div><div class=\"line\">        <span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            cosB, sinB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, -sinB, cosB, <span class=\"number\">0.0</span>, <span class=\"number\">.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">.0</span>, <span class=\"number\">.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, xf);</div><div class=\"line\"></div><div class=\"line\">        cxt.clearColor(<span class=\"number\">.5</span>, <span class=\"number\">.5</span>, <span class=\"number\">.5</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.LINES, <span class=\"number\">0</span>, <span class=\"number\">2</span>);</div><div class=\"line\">        time = setTimeout(render, <span class=\"number\">500</span>);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (!isOpen) &#123;</div><div class=\"line\">            clearTimeout(time);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    render()</div></pre></td></tr></table></figure></p>\n<p><br><img width=\"600\" src=\"/webgl-2017-07-06/4.jpeg\"></p>\n<h3 id=\"WebGL\"><a href=\"#WebGL\" class=\"headerlink\" title=\"WebGL\"></a>WebGL</h3><h4 id=\"-6\"><a href=\"#-6\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> setTimeout </li>\n<li></li>\n<li></li>\n<li>A <em> B </em>   </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xz;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 py;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos * xz * py;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,.0,.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure>\n<p>bufferbuffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cxt = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'example08'</span>).getContext(<span class=\"string\">'webgl'</span>);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> buffer = cxt.createBuffer();</div><div class=\"line\">    cxt.bindBuffer(cxt.ARRAY_BUFFER, buffer);</div><div class=\"line\">    <span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">0.2</span>, <span class=\"number\">-.2</span>, <span class=\"number\">-.2</span>,</div><div class=\"line\">        <span class=\"number\">.2</span>, <span class=\"number\">-.2</span>,</div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">    cxt.bufferData(cxt.ARRAY_BUFFER, data, cxt.STATIC_DRAW);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> program = initShader(cxt, vertexShaderSource, fragmentShaderSource);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> posLocation = cxt.getAttribLocation(program, <span class=\"string\">'pos'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> xzLocation = cxt.getUniformLocation(program, <span class=\"string\">'xz'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> pyLocation = cxt.getUniformLocation(program, <span class=\"string\">'py'</span>);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    cxt.vertexAttribPointer(posLocation, <span class=\"number\">2</span>, cxt.FLOAT, <span class=\"literal\">false</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</div><div class=\"line\">    cxt.enableVertexAttribArray(posLocation);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xz = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            cosB, sinB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, </div><div class=\"line\">            -sinB, cosB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"> <span class=\"keyword\">var</span> py = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            tx, ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        cxt.uniformMatrix4fv(xzLocation,<span class=\"literal\">false</span>, xz);</div><div class=\"line\">        cxt.uniformMatrix4fv(pyLocation,<span class=\"literal\">false</span>, py);       </div></pre></td></tr></table></figure></p>\n<p>setTimeOutrun</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> t = <span class=\"built_in\">Math</span>.PI * ANGLE / <span class=\"number\">180</span>;</div><div class=\"line\">        sinB = <span class=\"built_in\">Math</span>.sin(t);</div><div class=\"line\">        cosB = <span class=\"built_in\">Math</span>.cos(t);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> xz = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            cosB, sinB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, </div><div class=\"line\">            -sinB, cosB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        tx += <span class=\"number\">.005</span>;</div><div class=\"line\">        ty += <span class=\"number\">.005</span>;</div><div class=\"line\"></div><div class=\"line\">        ANGLE += <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> py = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            tx, ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        cxt.uniformMatrix4fv(xzLocation,<span class=\"literal\">false</span>, xz);</div><div class=\"line\">        cxt.uniformMatrix4fv(pyLocation,<span class=\"literal\">false</span>, py);</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">        setTimeout(run, <span class=\"number\">500</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    run();     </div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>4 * 4 </li>\n</ul>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-06/5.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mix</span>(<span class=\"params\">a, b</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>(<span class=\"number\">16</span>);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">4</span>; i++) &#123;</div><div class=\"line\">            result[i] = a[i] * b[<span class=\"number\">0</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">1</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">2</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">3</span>];</div><div class=\"line\">            result[i + <span class=\"number\">4</span>] = a[i] * b[<span class=\"number\">4</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">5</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">6</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">7</span>];</div><div class=\"line\">            result[i + <span class=\"number\">8</span>] = a[i] * b[<span class=\"number\">8</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">9</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">10</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">11</span>];</div><div class=\"line\">            result[i + <span class=\"number\">12</span>] = a[i] * b[<span class=\"number\">12</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">13</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">14</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">15</span>];</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">return</span> result;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos * xf;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,.0,.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>Location<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xfLocation = cxt.getUniformLocation(program, <span class=\"string\">'xf'</span>);</div><div class=\"line\">cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, mix(xz,py));</div></pre></td></tr></table></figure></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/05\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/05</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p>setTimeout</p>","more":"<p>abxy<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">    <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float a;</span></div><div class=\"line\"><span class=\"string\">    uniform float b;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.x = pos.x + a;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.y = pos.y + b;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.z = .0;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">    <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,0.5,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>location<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> posLocation = cxt.getAttribLocation(program, <span class=\"string\">'pos'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> aLocation = cxt.getUniformLocation(program, <span class=\"string\">'a'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> bLocation = cxt.getUniformLocation(program, <span class=\"string\">'b'</span>);</div></pre></td></tr></table></figure></p>\n<p>setTimeOut<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">run();</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cxt.uniform1f(aLocation, a);</div><div class=\"line\">        cxt.uniform1f(bLocation, b);</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\"></div><div class=\"line\">        a += <span class=\"number\">.05</span>;</div><div class=\"line\">        b += <span class=\"number\">.05</span>;</div><div class=\"line\"></div><div class=\"line\">        setTimeout(run, <span class=\"number\">500</span>)</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>()</li>\n<li><p>xy</p>\n<p>,cjxycj</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float cj;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.x = pos.x * cj;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.y = pos.y * cj;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.z = .0;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.w = 1.0;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = 10.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>cjLocation<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cjLocation = cxt.getUniformLocation(program, <span class=\"string\">'cj'</span>);</div></pre></td></tr></table></figure></p>\n<p>render<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cj = <span class=\"number\">1.0</span>;\t</div><div class=\"line\">    render();</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniform1f(cjLocation, cj);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fangda</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cj += <span class=\"number\">.05</span>;</div><div class=\"line\">        render()</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">suoxiao</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        cj -= <span class=\"number\">.05</span>;</div><div class=\"line\">        render()</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"w\"><a href=\"#w\" class=\"headerlink\" title=\"w\"></a>w</h4><p>vec4vec2posxy<br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec2 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float w;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = vec4(pos,0.0,w);</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p>vec4vec4(x/w,y/w,z/w,w),wxy</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>gl.Position.xgl.Position.y</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>x = r.cos(a)</li>\n<li>y = r.sin(a)</li>\n<li>x1 = r.cos(a+b)</li>\n<li>y1 = r.sin(a+b)</li>\n<li>x1 = x.cos(b) - y.sin(b)</li>\n<li>y1 = x.sin(b) + y.cos(b)</li>\n<li>z1 = z = 0.0</li>\n</ul>\n<p><br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform float cosB;</span></div><div class=\"line\"><span class=\"string\">    uniform float sinB;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.x = pos.x * cosB - pos.y * sinB;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.y = pos.x * sinB + pos.y * cosB;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.z = .0;</span></div><div class=\"line\"><span class=\"string\">      gl_Position.w = 1.0;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> angle = <span class=\"number\">10.0</span>;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> t = <span class=\"built_in\">Math</span>.PI * angle / <span class=\"number\">180</span>;</div><div class=\"line\">        <span class=\"keyword\">var</span> cosB = <span class=\"built_in\">Math</span>.sin(t);</div><div class=\"line\">        <span class=\"keyword\">var</span> sinB = <span class=\"built_in\">Math</span>.cos(t);</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniform1f(cosBLocation, cosB);</div><div class=\"line\">        cxt.uniform1f(sinBLocation, sinB);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    setInterval(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        angle += <span class=\"number\">1.0</span>;</div><div class=\"line\">        render();</div><div class=\"line\">    &#125;, <span class=\"number\">1000</span>)</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-3\"><a href=\"#-3\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p>Tx,Ty,xy</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-06/1.jpeg\"></p>\n<p>xf<br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = xf * pos;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br> <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">                    <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    Tx, Ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">                ]);</div></pre></td></tr></table></figure></p>\n<p>TxTyrender<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> Tx = <span class=\"number\">1.0</span>, Ty = <span class=\"number\">0.0</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">                    <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">                    Tx, Ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">                ]);</div><div class=\"line\">        </div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation,<span class=\"literal\">false</span>,xf);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">    render()</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-4\"><a href=\"#-4\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p>Sx,Sy<br><img width=\"300\" src=\"/webgl-2017-07-06/2.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> sx = <span class=\"number\">1.0</span>,</div><div class=\"line\">        sy = <span class=\"number\">1.0</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            sx, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, sy, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, xf);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    render()</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-5\"><a href=\"#-5\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li> gl_Position.x  gl_Position.y </li>\n</ul>\n<p><img width=\"300\" src=\"/webgl-2017-07-06/3.jpeg\"></p>\n<p></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = xf * pos;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,.0,.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>render<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> time;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        angle += zl;</div><div class=\"line\"></div><div class=\"line\">        t = <span class=\"built_in\">Math</span>.PI * angle / <span class=\"number\">180</span>;</div><div class=\"line\">        sinB = <span class=\"built_in\">Math</span>.sin(t);</div><div class=\"line\">        cosB = <span class=\"built_in\">Math</span>.cos(t);</div><div class=\"line\">        <span class=\"keyword\">var</span> xf = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            cosB, sinB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, -sinB, cosB, <span class=\"number\">0.0</span>, <span class=\"number\">.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">.0</span>, <span class=\"number\">.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, xf);</div><div class=\"line\"></div><div class=\"line\">        cxt.clearColor(<span class=\"number\">.5</span>, <span class=\"number\">.5</span>, <span class=\"number\">.5</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.LINES, <span class=\"number\">0</span>, <span class=\"number\">2</span>);</div><div class=\"line\">        time = setTimeout(render, <span class=\"number\">500</span>);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">if</span> (!isOpen) &#123;</div><div class=\"line\">            clearTimeout(time);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    render()</div></pre></td></tr></table></figure></p>\n<p><br><img width=\"600\" src=\"/webgl-2017-07-06/4.jpeg\"></p>\n<h3 id=\"WebGL\"><a href=\"#WebGL\" class=\"headerlink\" title=\"WebGL\"></a>WebGL</h3><h4 id=\"-6\"><a href=\"#-6\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> setTimeout </li>\n<li></li>\n<li></li>\n<li>A <em> B </em>   </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xz;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 py;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos * xz * py;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,.0,.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure>\n<p>bufferbuffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cxt = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'example08'</span>).getContext(<span class=\"string\">'webgl'</span>);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> buffer = cxt.createBuffer();</div><div class=\"line\">    cxt.bindBuffer(cxt.ARRAY_BUFFER, buffer);</div><div class=\"line\">    <span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">0.2</span>, <span class=\"number\">-.2</span>, <span class=\"number\">-.2</span>,</div><div class=\"line\">        <span class=\"number\">.2</span>, <span class=\"number\">-.2</span>,</div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">    cxt.bufferData(cxt.ARRAY_BUFFER, data, cxt.STATIC_DRAW);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> program = initShader(cxt, vertexShaderSource, fragmentShaderSource);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> posLocation = cxt.getAttribLocation(program, <span class=\"string\">'pos'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> xzLocation = cxt.getUniformLocation(program, <span class=\"string\">'xz'</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> pyLocation = cxt.getUniformLocation(program, <span class=\"string\">'py'</span>);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    cxt.vertexAttribPointer(posLocation, <span class=\"number\">2</span>, cxt.FLOAT, <span class=\"literal\">false</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</div><div class=\"line\">    cxt.enableVertexAttribArray(posLocation);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xz = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            cosB, sinB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, </div><div class=\"line\">            -sinB, cosB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"> <span class=\"keyword\">var</span> py = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            tx, ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        cxt.uniformMatrix4fv(xzLocation,<span class=\"literal\">false</span>, xz);</div><div class=\"line\">        cxt.uniformMatrix4fv(pyLocation,<span class=\"literal\">false</span>, py);       </div></pre></td></tr></table></figure></p>\n<p>setTimeOutrun</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> t = <span class=\"built_in\">Math</span>.PI * ANGLE / <span class=\"number\">180</span>;</div><div class=\"line\">        sinB = <span class=\"built_in\">Math</span>.sin(t);</div><div class=\"line\">        cosB = <span class=\"built_in\">Math</span>.cos(t);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> xz = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            cosB, sinB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, </div><div class=\"line\">            -sinB, cosB, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        tx += <span class=\"number\">.005</span>;</div><div class=\"line\">        ty += <span class=\"number\">.005</span>;</div><div class=\"line\"></div><div class=\"line\">        ANGLE += <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> py = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>,</div><div class=\"line\">            tx, ty, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span></div><div class=\"line\">        ]);</div><div class=\"line\"></div><div class=\"line\">        cxt.uniformMatrix4fv(xzLocation,<span class=\"literal\">false</span>, xz);</div><div class=\"line\">        cxt.uniformMatrix4fv(pyLocation,<span class=\"literal\">false</span>, py);</div><div class=\"line\">        cxt.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">        setTimeout(run, <span class=\"number\">500</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    run();     </div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>4 * 4 </li>\n</ul>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-06/5.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">mix</span>(<span class=\"params\">a, b</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>(<span class=\"number\">16</span>);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">4</span>; i++) &#123;</div><div class=\"line\">            result[i] = a[i] * b[<span class=\"number\">0</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">1</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">2</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">3</span>];</div><div class=\"line\">            result[i + <span class=\"number\">4</span>] = a[i] * b[<span class=\"number\">4</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">5</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">6</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">7</span>];</div><div class=\"line\">            result[i + <span class=\"number\">8</span>] = a[i] * b[<span class=\"number\">8</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">9</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">10</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">11</span>];</div><div class=\"line\">            result[i + <span class=\"number\">12</span>] = a[i] * b[<span class=\"number\">12</span>] + a[i + <span class=\"number\">4</span>] * b[<span class=\"number\">13</span>] + a[i + <span class=\"number\">8</span>] * b[<span class=\"number\">14</span>] + a[i + <span class=\"number\">12</span>] * b[<span class=\"number\">15</span>];</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">return</span> result;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos * xf;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,.0,.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>Location<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xfLocation = cxt.getUniformLocation(program, <span class=\"string\">'xf'</span>);</div><div class=\"line\">cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, mix(xz,py));</div></pre></td></tr></table></figure></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/05\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/05</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-10T13:09:11.000Z","_content":"\n### \n\n#### \n\n\n* JPG 24\n* GIF 40%50%256\n* PNG \n\n#### \n\n* \n* \n* \n* \n\n<!-- more -->\n\n\n### \n\n#### \n\n* st\n\n<img width=\"300\" src=\"webgl-2017-07-10/1.jpeg\"/>\n\n#### \n\n* createTexture \n* deleteTexture(tex) \n\n#### \n\n* \n* \n* \n* \n* \n* \n* \n\n#### \n\n* Y \n* \n* \n* \n* \n* \n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n\t    attribute vec4 pos;\n\t    attribute vec2 texPos;\n\t    varying vec2 v_texPos;\n\t    void main() {\n\t      gl_Position = pos;\n\t      v_texPos = texPos;\n\t}`\n\n\t    // \n\t    const fragmentShaderSource =\n\t        `\n\t        precision lowp float;\n\t        uniform sampler2D ss;\n\t        varying vec2 v_texPos;\n\t        void main() {\n\t      gl_FragColor = texture2D(ss,v_texPos);\n\t  }`   \n{% endcodeblock %}\n\ncanvas\n{% codeblock lang:javascript %}\n\nfunction loadImg(url,callback){\n        var img = new Image;\n        img.src = url;\n        img.onload = function () {\n            callback(img);\n        }\n    }\n\n\n    loadImg('./img.png', function (img) {\n        var texture = cxt.createTexture();\n        cxt.pixelStorei(cxt.UNPACK_FLIP_Y_WEBGL,1);\n        cxt.activeTexture(cxt.TEXTURE0);\n        cxt.bindTexture(cxt.TEXTURE_2D,texture);\n\n        cxt.texParameteri(cxt.TEXTURE_2D,cxt.TEXTURE_MIN_FILTER,cxt.LINEAR);\n        cxt.texImage2D(cxt.TEXTURE_2D,0,cxt.RGB,cxt.RGB,cxt.UNSIGNED_BYTE,img);\n        cxt.uniform1i(texLocation,0);\n        cxt.drawArrays(cxt.TRIANGLE_STRIP,0,4);\n\n    });\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-10/2.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/10","source":"_posts/webgl-2017-07-10.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-10 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n#### \n\n\n* JPG 24\n* GIF 40%50%256\n* PNG \n\n#### \n\n* \n* \n* \n* \n\n<!-- more -->\n\n\n### \n\n#### \n\n* st\n\n<img width=\"300\" src=\"webgl-2017-07-10/1.jpeg\"/>\n\n#### \n\n* createTexture \n* deleteTexture(tex) \n\n#### \n\n* \n* \n* \n* \n* \n* \n* \n\n#### \n\n* Y \n* \n* \n* \n* \n* \n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n\t    attribute vec4 pos;\n\t    attribute vec2 texPos;\n\t    varying vec2 v_texPos;\n\t    void main() {\n\t      gl_Position = pos;\n\t      v_texPos = texPos;\n\t}`\n\n\t    // \n\t    const fragmentShaderSource =\n\t        `\n\t        precision lowp float;\n\t        uniform sampler2D ss;\n\t        varying vec2 v_texPos;\n\t        void main() {\n\t      gl_FragColor = texture2D(ss,v_texPos);\n\t  }`   \n{% endcodeblock %}\n\ncanvas\n{% codeblock lang:javascript %}\n\nfunction loadImg(url,callback){\n        var img = new Image;\n        img.src = url;\n        img.onload = function () {\n            callback(img);\n        }\n    }\n\n\n    loadImg('./img.png', function (img) {\n        var texture = cxt.createTexture();\n        cxt.pixelStorei(cxt.UNPACK_FLIP_Y_WEBGL,1);\n        cxt.activeTexture(cxt.TEXTURE0);\n        cxt.bindTexture(cxt.TEXTURE_2D,texture);\n\n        cxt.texParameteri(cxt.TEXTURE_2D,cxt.TEXTURE_MIN_FILTER,cxt.LINEAR);\n        cxt.texImage2D(cxt.TEXTURE_2D,0,cxt.RGB,cxt.RGB,cxt.UNSIGNED_BYTE,img);\n        cxt.uniform1i(texLocation,0);\n        cxt.drawArrays(cxt.TRIANGLE_STRIP,0,4);\n\n    });\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-10/2.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/10","slug":"webgl-2017-07-10","published":1,"updated":"2017-10-15T04:10:00.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1iz000zsvldiarnlxb3","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>JPG 24</li>\n<li>GIF 40%50%256</li>\n<li>PNG </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>st</li>\n</ul>\n<p><img width=\"300\" src=\"/webgl-2017-07-10/1.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>createTexture </li>\n<li>deleteTexture(tex) </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>Y </li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">\t    attribute vec2 texPos;</span></div><div class=\"line\"><span class=\"string\">\t    varying vec2 v_texPos;</span></div><div class=\"line\"><span class=\"string\">\t    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">\t      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">\t      v_texPos = texPos;</span></div><div class=\"line\"><span class=\"string\">\t&#125;`</span></div><div class=\"line\"></div><div class=\"line\">\t    <span class=\"comment\">// </span></div><div class=\"line\">\t    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">\t        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t        precision lowp float;</span></div><div class=\"line\"><span class=\"string\">\t        uniform sampler2D ss;</span></div><div class=\"line\"><span class=\"string\">\t        varying vec2 v_texPos;</span></div><div class=\"line\"><span class=\"string\">\t        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">\t      gl_FragColor = texture2D(ss,v_texPos);</span></div><div class=\"line\"><span class=\"string\">\t  &#125;`</span>   </div></pre></td></tr></table></figure>\n<p>canvas<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadImg</span>(<span class=\"params\">url,callback</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> Image;</div><div class=\"line\">        img.src = url;</div><div class=\"line\">        img.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">            callback(img);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    loadImg(<span class=\"string\">'./img.png'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">img</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> texture = cxt.createTexture();</div><div class=\"line\">        cxt.pixelStorei(cxt.UNPACK_FLIP_Y_WEBGL,<span class=\"number\">1</span>);</div><div class=\"line\">        cxt.activeTexture(cxt.TEXTURE0);</div><div class=\"line\">        cxt.bindTexture(cxt.TEXTURE_2D,texture);</div><div class=\"line\"></div><div class=\"line\">        cxt.texParameteri(cxt.TEXTURE_2D,cxt.TEXTURE_MIN_FILTER,cxt.LINEAR);</div><div class=\"line\">        cxt.texImage2D(cxt.TEXTURE_2D,<span class=\"number\">0</span>,cxt.RGB,cxt.RGB,cxt.UNSIGNED_BYTE,img);</div><div class=\"line\">        cxt.uniform1i(texLocation,<span class=\"number\">0</span>);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLE_STRIP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div><div class=\"line\"></div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-10/2.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/10\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/10</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>JPG 24</li>\n<li>GIF 40%50%256</li>\n<li>PNG </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>st</li>\n</ul>\n<p><img width=\"300\" src=\"/webgl-2017-07-10/1.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>createTexture </li>\n<li>deleteTexture(tex) </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>Y </li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">\t    attribute vec2 texPos;</span></div><div class=\"line\"><span class=\"string\">\t    varying vec2 v_texPos;</span></div><div class=\"line\"><span class=\"string\">\t    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">\t      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">\t      v_texPos = texPos;</span></div><div class=\"line\"><span class=\"string\">\t&#125;`</span></div><div class=\"line\"></div><div class=\"line\">\t    <span class=\"comment\">// </span></div><div class=\"line\">\t    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">\t        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t        precision lowp float;</span></div><div class=\"line\"><span class=\"string\">\t        uniform sampler2D ss;</span></div><div class=\"line\"><span class=\"string\">\t        varying vec2 v_texPos;</span></div><div class=\"line\"><span class=\"string\">\t        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">\t      gl_FragColor = texture2D(ss,v_texPos);</span></div><div class=\"line\"><span class=\"string\">\t  &#125;`</span>   </div></pre></td></tr></table></figure>\n<p>canvas<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadImg</span>(<span class=\"params\">url,callback</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> Image;</div><div class=\"line\">        img.src = url;</div><div class=\"line\">        img.onload = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">            callback(img);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    loadImg(<span class=\"string\">'./img.png'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">img</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> texture = cxt.createTexture();</div><div class=\"line\">        cxt.pixelStorei(cxt.UNPACK_FLIP_Y_WEBGL,<span class=\"number\">1</span>);</div><div class=\"line\">        cxt.activeTexture(cxt.TEXTURE0);</div><div class=\"line\">        cxt.bindTexture(cxt.TEXTURE_2D,texture);</div><div class=\"line\"></div><div class=\"line\">        cxt.texParameteri(cxt.TEXTURE_2D,cxt.TEXTURE_MIN_FILTER,cxt.LINEAR);</div><div class=\"line\">        cxt.texImage2D(cxt.TEXTURE_2D,<span class=\"number\">0</span>,cxt.RGB,cxt.RGB,cxt.UNSIGNED_BYTE,img);</div><div class=\"line\">        cxt.uniform1i(texLocation,<span class=\"number\">0</span>);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLE_STRIP,<span class=\"number\">0</span>,<span class=\"number\">4</span>);</div><div class=\"line\"></div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-10/2.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/10\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/10</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-08T13:09:11.000Z","_content":"\n### \n\n#### \n\n<img width=\"300\" src=\"webgl-2017-07-08/1.jpeg\"/>\n\nattribute\n\nattribute\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    attribute float size;\n    void main() {\n      gl_Position = pos;\n      gl_PointSize = size;\n}`\n{% endcodeblock %}\n\n<!-- more -->\nprogram\n{% codeblock lang:javascript %}\nvar program = initShader(cxt, vertexShaderSource, fragmentShaderSource);\n{% endcodeblock %}\n\nlibbindAttributebuffer\n{% codeblock lang:javascript %}\nbindAttribute(cxt, 'pos', new Float32Array([\n            0.0,0.0,\n            0.3,0.5,\n            0.2,1.0\n    ]), program, 2);\n    bindAttribute(cxt, 'size', new Float32Array([\n            10.0,20.0,30.0\n    ]), program, 1);\n{% endcodeblock %}\n\ndrawArrays\n{% codeblock lang:javascript %}\ncxt.drawArrays(cxt.POINTS, 0, 3);\n{% endcodeblock %}\n\n### \n\n* \n* \n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        0.0, 0.0, 10.0,\n        0.5, 0.5, 30.0,\n        0.2, -.6, 50.0\n    ]);\n{% endcodeblock %}\n\nvertexAttribPointerdata.BYTES_PER_ELEMENT*3*3*22\n{% codeblock lang:javascript %}\ncxt.vertexAttribPointer(posLocation, 2, cxt.FLOAT, false, data.BYTES_PER_ELEMENT * 3, 0);\n    cxt.vertexAttribPointer(sizeLocation, 1, cxt.FLOAT, false, data.BYTES_PER_ELEMENT * 3, data.BYTES_PER_ELEMENT * 2)\n{% endcodeblock %}\n\n\n### \n\n*  uniform uniform\n*  varying \n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    varying vec4 color;\n    void main() {\n      gl_Position = pos;\n      gl_PointSize = abs(pos.x) * 30.0;\n      color = pos;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n\t\tvarying vec4 color;\n        void main() {\n      gl_FragColor = color;\n  }`\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/2.jpeg\"/>\n\nbuffer\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    attribute vec4 vcolor;\n    varying vec4 color;\n    void main() {\n      gl_Position = pos;\n      color = vcolor;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n\t\tvarying vec4 color;\n        void main() {\n      gl_FragColor = color;\n  }`\n{% endcodeblock %}\n\nbufferdata\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        0.0, .3,  1.0 ,0.0,0.0,\n        -.5, -.5, 0.0, 1.0,0.0,\n        .5, -.5  , 0.0, 0.0,1.0\n\n    ]);\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/3.jpeg\"/>\n\n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n        uniform mat4 xf;\n    attribute vec4 pos;\n    varying vec4 vpos;\n    void main() {\n      gl_Position =  xf * pos;\n      vpos = gl_Position;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n        varying vec4 vpos;\n        void main() {\n      gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n  }`\n{% endcodeblock %}\n\nprogramlibinitShader\n\n{% codeblock lang:javascript %}\nvar cxt = document.getElementById('example06').getContext('webgl');\n\n    var program = initShader(cxt, vertexShaderSource, fragmentShaderSource);\n{% endcodeblock %}\n\nbuffer\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        -.3, .3,\n        -0.5, -.3,\n        .5, .3,\n        .3, -.3\n\n    ]);\n\n    bindAttribute(cxt,'pos',data,program);\n{% endcodeblock %}\n\nxf\n{% codeblock lang:javascript %}\nvar xfLocation = cxt.getUniformLocation(program,'xf');\nvar angle = 0;\nrun()\n    function run() {\n        angle++\n        var xzm = createXZMatrix(angle);\n        cxt.uniformMatrix4fv(xfLocation, false, xzm);\n        cxt.drawArrays(cxt.TRIANGLE_STRIP, 0, 4);\n        setTimeout(run, 100)\n    }\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/6.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\n// \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n        varying vec4 vpos;\n        void main() {\n      if(vpos.x >= 0.0 && vpos.y >= 0.0){\n                   gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n               }else if(vpos.x >0.0 && vpos.y < 0.0){\n                   gl_FragColor = vec4(0.0,1.0,0.0,1.0);\n               }else if(vpos.x < 0.0 && vpos.y > 0.0){\n                   gl_FragColor = vec4(0.0,0.0,1.0,1.0);\n               }else{\n                   gl_FragColor = vec4(0.2,0.2,0.2,1.0);\n            }\n  }`\n\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/7.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/06","source":"_posts/webgl-2017-07-08.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-08 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n#### \n\n<img width=\"300\" src=\"webgl-2017-07-08/1.jpeg\"/>\n\nattribute\n\nattribute\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    attribute float size;\n    void main() {\n      gl_Position = pos;\n      gl_PointSize = size;\n}`\n{% endcodeblock %}\n\n<!-- more -->\nprogram\n{% codeblock lang:javascript %}\nvar program = initShader(cxt, vertexShaderSource, fragmentShaderSource);\n{% endcodeblock %}\n\nlibbindAttributebuffer\n{% codeblock lang:javascript %}\nbindAttribute(cxt, 'pos', new Float32Array([\n            0.0,0.0,\n            0.3,0.5,\n            0.2,1.0\n    ]), program, 2);\n    bindAttribute(cxt, 'size', new Float32Array([\n            10.0,20.0,30.0\n    ]), program, 1);\n{% endcodeblock %}\n\ndrawArrays\n{% codeblock lang:javascript %}\ncxt.drawArrays(cxt.POINTS, 0, 3);\n{% endcodeblock %}\n\n### \n\n* \n* \n\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        0.0, 0.0, 10.0,\n        0.5, 0.5, 30.0,\n        0.2, -.6, 50.0\n    ]);\n{% endcodeblock %}\n\nvertexAttribPointerdata.BYTES_PER_ELEMENT*3*3*22\n{% codeblock lang:javascript %}\ncxt.vertexAttribPointer(posLocation, 2, cxt.FLOAT, false, data.BYTES_PER_ELEMENT * 3, 0);\n    cxt.vertexAttribPointer(sizeLocation, 1, cxt.FLOAT, false, data.BYTES_PER_ELEMENT * 3, data.BYTES_PER_ELEMENT * 2)\n{% endcodeblock %}\n\n\n### \n\n*  uniform uniform\n*  varying \n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    varying vec4 color;\n    void main() {\n      gl_Position = pos;\n      gl_PointSize = abs(pos.x) * 30.0;\n      color = pos;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n\t\tvarying vec4 color;\n        void main() {\n      gl_FragColor = color;\n  }`\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/2.jpeg\"/>\n\nbuffer\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 pos;\n    attribute vec4 vcolor;\n    varying vec4 color;\n    void main() {\n      gl_Position = pos;\n      color = vcolor;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n\t\tvarying vec4 color;\n        void main() {\n      gl_FragColor = color;\n  }`\n{% endcodeblock %}\n\nbufferdata\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        0.0, .3,  1.0 ,0.0,0.0,\n        -.5, -.5, 0.0, 1.0,0.0,\n        .5, -.5  , 0.0, 0.0,1.0\n\n    ]);\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/3.jpeg\"/>\n\n\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n        uniform mat4 xf;\n    attribute vec4 pos;\n    varying vec4 vpos;\n    void main() {\n      gl_Position =  xf * pos;\n      vpos = gl_Position;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n        varying vec4 vpos;\n        void main() {\n      gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n  }`\n{% endcodeblock %}\n\nprogramlibinitShader\n\n{% codeblock lang:javascript %}\nvar cxt = document.getElementById('example06').getContext('webgl');\n\n    var program = initShader(cxt, vertexShaderSource, fragmentShaderSource);\n{% endcodeblock %}\n\nbuffer\n\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n        -.3, .3,\n        -0.5, -.3,\n        .5, .3,\n        .3, -.3\n\n    ]);\n\n    bindAttribute(cxt,'pos',data,program);\n{% endcodeblock %}\n\nxf\n{% codeblock lang:javascript %}\nvar xfLocation = cxt.getUniformLocation(program,'xf');\nvar angle = 0;\nrun()\n    function run() {\n        angle++\n        var xzm = createXZMatrix(angle);\n        cxt.uniformMatrix4fv(xfLocation, false, xzm);\n        cxt.drawArrays(cxt.TRIANGLE_STRIP, 0, 4);\n        setTimeout(run, 100)\n    }\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/6.jpeg\"/>\n\n\n{% codeblock lang:javascript %}\n// \n    const fragmentShaderSource =\n        `\n\t\tprecision lowp float;\n        varying vec4 vpos;\n        void main() {\n      if(vpos.x >= 0.0 && vpos.y >= 0.0){\n                   gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n               }else if(vpos.x >0.0 && vpos.y < 0.0){\n                   gl_FragColor = vec4(0.0,1.0,0.0,1.0);\n               }else if(vpos.x < 0.0 && vpos.y > 0.0){\n                   gl_FragColor = vec4(0.0,0.0,1.0,1.0);\n               }else{\n                   gl_FragColor = vec4(0.2,0.2,0.2,1.0);\n            }\n  }`\n\n{% endcodeblock %}\n\n\n<img width=\"300\" src=\"webgl-2017-07-08/7.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/06","slug":"webgl-2017-07-08","published":1,"updated":"2017-10-06T11:47:22.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1j00012svldhjc4rd91","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img width=\"300\" src=\"/webgl-2017-07-08/1.jpeg\"></p>\n<p>attribute</p>\n<p>attribute<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    attribute float size;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = size;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<p>program<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> program = initShader(cxt, vertexShaderSource, fragmentShaderSource);</div></pre></td></tr></table></figure></p>\n<p>libbindAttributebuffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">bindAttribute(cxt, <span class=\"string\">'pos'</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.3</span>,<span class=\"number\">0.5</span>,</div><div class=\"line\">            <span class=\"number\">0.2</span>,<span class=\"number\">1.0</span></div><div class=\"line\">    ]), program, <span class=\"number\">2</span>);</div><div class=\"line\">    bindAttribute(cxt, <span class=\"string\">'size'</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">10.0</span>,<span class=\"number\">20.0</span>,<span class=\"number\">30.0</span></div><div class=\"line\">    ]), program, <span class=\"number\">1</span>);</div></pre></td></tr></table></figure></p>\n<p>drawArrays<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.drawArrays(cxt.POINTS, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">10.0</span>,</div><div class=\"line\">        <span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>, <span class=\"number\">30.0</span>,</div><div class=\"line\">        <span class=\"number\">0.2</span>, <span class=\"number\">-.6</span>, <span class=\"number\">50.0</span></div><div class=\"line\">    ]);</div></pre></td></tr></table></figure></p>\n<p>vertexAttribPointerdata.BYTES_PER_ELEMENT<em>3</em>3*22<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.vertexAttribPointer(posLocation, <span class=\"number\">2</span>, cxt.FLOAT, <span class=\"literal\">false</span>, data.BYTES_PER_ELEMENT * <span class=\"number\">3</span>, <span class=\"number\">0</span>);</div><div class=\"line\">    cxt.vertexAttribPointer(sizeLocation, <span class=\"number\">1</span>, cxt.FLOAT, <span class=\"literal\">false</span>, data.BYTES_PER_ELEMENT * <span class=\"number\">3</span>, data.BYTES_PER_ELEMENT * <span class=\"number\">2</span>)</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> uniform uniform</li>\n<li> varying </li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 color;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = abs(pos.x) * 30.0;</span></div><div class=\"line\"><span class=\"string\">      color = pos;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">\t\tvarying vec4 color;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = color;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-08/2.jpeg\"></p>\n<p>buffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 vcolor;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 color;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">      color = vcolor;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">\t\tvarying vec4 color;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = color;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>bufferdata<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">.3</span>,  <span class=\"number\">1.0</span> ,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,</div><div class=\"line\">        <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,</div><div class=\"line\">        <span class=\"number\">.5</span>, <span class=\"number\">-.5</span>  , <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,<span class=\"number\">1.0</span></div><div class=\"line\"></div><div class=\"line\">    ]);</div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-08/3.jpeg\"></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">        uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 vpos;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position =  xf * pos;</span></div><div class=\"line\"><span class=\"string\">      vpos = gl_Position;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">        varying vec4 vpos;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure>\n<p>programlibinitShader</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cxt = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'example06'</span>).getContext(<span class=\"string\">'webgl'</span>);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> program = initShader(cxt, vertexShaderSource, fragmentShaderSource);</div></pre></td></tr></table></figure>\n<p>buffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">-.3</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">        <span class=\"number\">-0.5</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">        <span class=\"number\">.5</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">        <span class=\"number\">.3</span>, <span class=\"number\">-.3</span></div><div class=\"line\"></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">    bindAttribute(cxt,<span class=\"string\">'pos'</span>,data,program);</div></pre></td></tr></table></figure>\n<p>xf<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xfLocation = cxt.getUniformLocation(program,<span class=\"string\">'xf'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> angle = <span class=\"number\">0</span>;</div><div class=\"line\">run()</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        angle++</div><div class=\"line\">        <span class=\"keyword\">var</span> xzm = createXZMatrix(angle);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, xzm);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLE_STRIP, <span class=\"number\">0</span>, <span class=\"number\">4</span>);</div><div class=\"line\">        setTimeout(run, <span class=\"number\">100</span>)</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-08/6.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">        varying vec4 vpos;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      if(vpos.x &gt;= 0.0 &amp;&amp; vpos.y &gt;= 0.0)&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">               &#125;else if(vpos.x &gt;0.0 &amp;&amp; vpos.y &lt; 0.0)&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(0.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">               &#125;else if(vpos.x &lt; 0.0 &amp;&amp; vpos.y &gt; 0.0)&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(0.0,0.0,1.0,1.0);</span></div><div class=\"line\"><span class=\"string\">               &#125;else&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(0.2,0.2,0.2,1.0);</span></div><div class=\"line\"><span class=\"string\">            &#125;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div><div class=\"line\"></div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-08/7.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/06\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/06</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img width=\"300\" src=\"/webgl-2017-07-08/1.jpeg\"></p>\n<p>attribute</p>\n<p>attribute<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    attribute float size;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = size;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div></pre></td></tr></table></figure></p>","more":"<p>program<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> program = initShader(cxt, vertexShaderSource, fragmentShaderSource);</div></pre></td></tr></table></figure></p>\n<p>libbindAttributebuffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">bindAttribute(cxt, <span class=\"string\">'pos'</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,</div><div class=\"line\">            <span class=\"number\">0.3</span>,<span class=\"number\">0.5</span>,</div><div class=\"line\">            <span class=\"number\">0.2</span>,<span class=\"number\">1.0</span></div><div class=\"line\">    ]), program, <span class=\"number\">2</span>);</div><div class=\"line\">    bindAttribute(cxt, <span class=\"string\">'size'</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">            <span class=\"number\">10.0</span>,<span class=\"number\">20.0</span>,<span class=\"number\">30.0</span></div><div class=\"line\">    ]), program, <span class=\"number\">1</span>);</div></pre></td></tr></table></figure></p>\n<p>drawArrays<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.drawArrays(cxt.POINTS, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">10.0</span>,</div><div class=\"line\">        <span class=\"number\">0.5</span>, <span class=\"number\">0.5</span>, <span class=\"number\">30.0</span>,</div><div class=\"line\">        <span class=\"number\">0.2</span>, <span class=\"number\">-.6</span>, <span class=\"number\">50.0</span></div><div class=\"line\">    ]);</div></pre></td></tr></table></figure></p>\n<p>vertexAttribPointerdata.BYTES_PER_ELEMENT<em>3</em>3*22<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cxt.vertexAttribPointer(posLocation, <span class=\"number\">2</span>, cxt.FLOAT, <span class=\"literal\">false</span>, data.BYTES_PER_ELEMENT * <span class=\"number\">3</span>, <span class=\"number\">0</span>);</div><div class=\"line\">    cxt.vertexAttribPointer(sizeLocation, <span class=\"number\">1</span>, cxt.FLOAT, <span class=\"literal\">false</span>, data.BYTES_PER_ELEMENT * <span class=\"number\">3</span>, data.BYTES_PER_ELEMENT * <span class=\"number\">2</span>)</div></pre></td></tr></table></figure></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> uniform uniform</li>\n<li> varying </li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 color;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">      gl_PointSize = abs(pos.x) * 30.0;</span></div><div class=\"line\"><span class=\"string\">      color = pos;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">\t\tvarying vec4 color;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = color;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-08/2.jpeg\"></p>\n<p>buffer<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 vcolor;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 color;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = pos;</span></div><div class=\"line\"><span class=\"string\">      color = vcolor;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">\t\tvarying vec4 color;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = color;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p>bufferdata<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">.3</span>,  <span class=\"number\">1.0</span> ,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,</div><div class=\"line\">        <span class=\"number\">-.5</span>, <span class=\"number\">-.5</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,</div><div class=\"line\">        <span class=\"number\">.5</span>, <span class=\"number\">-.5</span>  , <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>,<span class=\"number\">1.0</span></div><div class=\"line\"></div><div class=\"line\">    ]);</div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-08/3.jpeg\"></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">        uniform mat4 xf;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 vpos;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position =  xf * pos;</span></div><div class=\"line\"><span class=\"string\">      vpos = gl_Position;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">        varying vec4 vpos;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure>\n<p>programlibinitShader</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cxt = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'example06'</span>).getContext(<span class=\"string\">'webgl'</span>);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> program = initShader(cxt, vertexShaderSource, fragmentShaderSource);</div></pre></td></tr></table></figure>\n<p>buffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">-.3</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">        <span class=\"number\">-0.5</span>, <span class=\"number\">-.3</span>,</div><div class=\"line\">        <span class=\"number\">.5</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">        <span class=\"number\">.3</span>, <span class=\"number\">-.3</span></div><div class=\"line\"></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">    bindAttribute(cxt,<span class=\"string\">'pos'</span>,data,program);</div></pre></td></tr></table></figure>\n<p>xf<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> xfLocation = cxt.getUniformLocation(program,<span class=\"string\">'xf'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> angle = <span class=\"number\">0</span>;</div><div class=\"line\">run()</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">run</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        angle++</div><div class=\"line\">        <span class=\"keyword\">var</span> xzm = createXZMatrix(angle);</div><div class=\"line\">        cxt.uniformMatrix4fv(xfLocation, <span class=\"literal\">false</span>, xzm);</div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLE_STRIP, <span class=\"number\">0</span>, <span class=\"number\">4</span>);</div><div class=\"line\">        setTimeout(run, <span class=\"number\">100</span>)</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-08/6.jpeg\"></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">\t\tprecision lowp float;</span></div><div class=\"line\"><span class=\"string\">        varying vec4 vpos;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      if(vpos.x &gt;= 0.0 &amp;&amp; vpos.y &gt;= 0.0)&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(1.0,0.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">               &#125;else if(vpos.x &gt;0.0 &amp;&amp; vpos.y &lt; 0.0)&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(0.0,1.0,0.0,1.0);</span></div><div class=\"line\"><span class=\"string\">               &#125;else if(vpos.x &lt; 0.0 &amp;&amp; vpos.y &gt; 0.0)&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(0.0,0.0,1.0,1.0);</span></div><div class=\"line\"><span class=\"string\">               &#125;else&#123;</span></div><div class=\"line\"><span class=\"string\">                   gl_FragColor = vec4(0.2,0.2,0.2,1.0);</span></div><div class=\"line\"><span class=\"string\">            &#125;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div><div class=\"line\"></div></pre></td></tr></table></figure></p>\n<p><br><img width=\"300\" src=\"/webgl-2017-07-08/7.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/06\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/06</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-09T13:09:11.000Z","_content":"\n### \n\n* \n* \n* \n\n#### \n\n* \n* lookAt(out, eye, center, up)\n* eye \n* center  \n* up  \n\n<!-- more -->\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 a_Position;\n    attribute vec4 a_Color;\n    uniform mat4 u_vmatrix;\n    varying vec4 v_Color;\n    void main() {\n      gl_Position = u_vmatrix * a_Position;\n      v_Color = a_Color;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n        precision lowp float;\n        varying vec4 v_Color;\n        void main() {\n      gl_FragColor = v_Color;\n  }`\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction normalize(v){\n        var sum = 0;\n        for (var i=0;i< v.length;i++){\n            sum += v[i] * v[i];\n        }\n        var result = Math.sqrt(sum);\n        for(var j=0;j< v.length; j++){\n            v[i] = v[i] / result;\n        }\n    }\n\n    function cross(a,b){\n        var nX = a[1] * b[2] - a[2] * b[1];\n        var nY = a[2] * b[0] -a[0] * b[2];\n        var nZ = a[0] * b[1] - a[1] * b[0];\n\n        return new Float32Array([nX,nY,nZ]);\n    }\n\n    function dot(a,b){\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n    }\n\n    function minus(a , b){\n        return new Float32Array([a[0] - b[0], a[1] - b[1] , a[2] - b[2]]);\n    }\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction getVMatrix(){\n\n        var eye = new Float32Array([0.4,0.0,0.26]);\n        var lookat = new Float32Array([0.0,0.0,0.0]);\n        var up = new Float32Array([0,1,1]);\n\n        var zA = minus(eye , lookat);\n        normalize(zA);\n\n        normalize(up);\n        var xA = cross(up, zA);\n\n        var yA = cross(zA,xA);\n\n        return new Float32Array([\n                xA[0],yA[0],zA[0], 0,\n                xA[1],yA[1],zA[1], 0,\n                xA[2],yA[2],zA[2], 0,\n                - dot(xA,eye), -dot(yA,eye),-dot(zA,eye),1\n\n        ])\n\n    }\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n\nvar data = new Float32Array([\n        0.0, 0.5, -0.4, 0.4, 1.0, 0.4,\n        -0.5, -0.5, -0.4, 0.4, 1.0, 0.4,\n        0.5, -0.5, -0.4, 1.0, 0.4, 0.4,\n\n        0.5, 0.4, -0.2, 1.0, 0.4, 0.4,\n        -0.5, 0.4, -0.2, 1.0, 1.0, 0.4,\n        0.0, -0.6, -0.2, 1.0, 1.0, 0.4\n    ]);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n\nvar u_vmatrixLocation = cxt.getUniformLocation(program,'u_vmatrix');\n\nvar mx = getVMatrix(); // \n\ncxt.uniformMatrix4fv(u_vmatrixLocation,false,mx);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-09/1.jpeg\"/>\n\n### \n\n*    * \n*    * \n*    *  * \n*  *  * \n\n\n{% codeblock lang:javascript %}\n\nvar eyeX = 0.25;\n\n    function draw(eyeX){\n\n        var mx = getVMatrix(eyeX); // \n\n        cxt.uniformMatrix4fv(u_vmatrixLocation,false,mx);\n\n        cxt.clearColor(1.0,1.0,1.0,1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.TRIANGLES,0,6);\n\n    }\n\n    document.addEventListener('keydown', function (event) {\n        switch (event.keyCode){\n            case 37:\n                eyeX += .01;\n                break;\n            case 39:\n                eyeX -= .01;\n                break;\n        }\n        draw(eyeX);\n\n    });\n\n    draw(eyeX);\n{% endcodeblock %}\n\n\n https://github.com/wqzwh/webgl-code/tree/master/09","source":"_posts/webgl-2017-07-09.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-09 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n* \n* \n* \n\n#### \n\n* \n* lookAt(out, eye, center, up)\n* eye \n* center  \n* up  \n\n<!-- more -->\n\n\n{% codeblock lang:javascript %}\n// \n    const vertexShaderSource =\n        `\n    attribute vec4 a_Position;\n    attribute vec4 a_Color;\n    uniform mat4 u_vmatrix;\n    varying vec4 v_Color;\n    void main() {\n      gl_Position = u_vmatrix * a_Position;\n      v_Color = a_Color;\n}`\n\n    // \n    const fragmentShaderSource =\n        `\n        precision lowp float;\n        varying vec4 v_Color;\n        void main() {\n      gl_FragColor = v_Color;\n  }`\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction normalize(v){\n        var sum = 0;\n        for (var i=0;i< v.length;i++){\n            sum += v[i] * v[i];\n        }\n        var result = Math.sqrt(sum);\n        for(var j=0;j< v.length; j++){\n            v[i] = v[i] / result;\n        }\n    }\n\n    function cross(a,b){\n        var nX = a[1] * b[2] - a[2] * b[1];\n        var nY = a[2] * b[0] -a[0] * b[2];\n        var nZ = a[0] * b[1] - a[1] * b[0];\n\n        return new Float32Array([nX,nY,nZ]);\n    }\n\n    function dot(a,b){\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n    }\n\n    function minus(a , b){\n        return new Float32Array([a[0] - b[0], a[1] - b[1] , a[2] - b[2]]);\n    }\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction getVMatrix(){\n\n        var eye = new Float32Array([0.4,0.0,0.26]);\n        var lookat = new Float32Array([0.0,0.0,0.0]);\n        var up = new Float32Array([0,1,1]);\n\n        var zA = minus(eye , lookat);\n        normalize(zA);\n\n        normalize(up);\n        var xA = cross(up, zA);\n\n        var yA = cross(zA,xA);\n\n        return new Float32Array([\n                xA[0],yA[0],zA[0], 0,\n                xA[1],yA[1],zA[1], 0,\n                xA[2],yA[2],zA[2], 0,\n                - dot(xA,eye), -dot(yA,eye),-dot(zA,eye),1\n\n        ])\n\n    }\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n\nvar data = new Float32Array([\n        0.0, 0.5, -0.4, 0.4, 1.0, 0.4,\n        -0.5, -0.5, -0.4, 0.4, 1.0, 0.4,\n        0.5, -0.5, -0.4, 1.0, 0.4, 0.4,\n\n        0.5, 0.4, -0.2, 1.0, 0.4, 0.4,\n        -0.5, 0.4, -0.2, 1.0, 1.0, 0.4,\n        0.0, -0.6, -0.2, 1.0, 1.0, 0.4\n    ]);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\n\nvar u_vmatrixLocation = cxt.getUniformLocation(program,'u_vmatrix');\n\nvar mx = getVMatrix(); // \n\ncxt.uniformMatrix4fv(u_vmatrixLocation,false,mx);\n{% endcodeblock %}\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-09/1.jpeg\"/>\n\n### \n\n*    * \n*    * \n*    *  * \n*  *  * \n\n\n{% codeblock lang:javascript %}\n\nvar eyeX = 0.25;\n\n    function draw(eyeX){\n\n        var mx = getVMatrix(eyeX); // \n\n        cxt.uniformMatrix4fv(u_vmatrixLocation,false,mx);\n\n        cxt.clearColor(1.0,1.0,1.0,1.0);\n        cxt.clear(cxt.COLOR_BUFFER_BIT);\n\n        cxt.drawArrays(cxt.TRIANGLES,0,6);\n\n    }\n\n    document.addEventListener('keydown', function (event) {\n        switch (event.keyCode){\n            case 37:\n                eyeX += .01;\n                break;\n            case 39:\n                eyeX -= .01;\n                break;\n        }\n        draw(eyeX);\n\n    });\n\n    draw(eyeX);\n{% endcodeblock %}\n\n\n https://github.com/wqzwh/webgl-code/tree/master/09","slug":"webgl-2017-07-09","published":1,"updated":"2017-10-15T02:20:21.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1j20014svld3toriggf","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>lookAt(out, eye, center, up)</li>\n<li>eye </li>\n<li>center  </li>\n<li>up  </li>\n</ul>\n<a id=\"more\"></a>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Position;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Color;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_vmatrix;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = u_vmatrix * a_Position;</span></div><div class=\"line\"><span class=\"string\">      v_Color = a_Color;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">        precision lowp float;</span></div><div class=\"line\"><span class=\"string\">        varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = v_Color;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">normalize</span>(<span class=\"params\">v</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> sum = <span class=\"number\">0</span>;</div><div class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt; v.length;i++)&#123;</div><div class=\"line\">            sum += v[i] * v[i];</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"built_in\">Math</span>.sqrt(sum);</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> j=<span class=\"number\">0</span>;j&lt; v.length; j++)&#123;</div><div class=\"line\">            v[i] = v[i] / result;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">cross</span>(<span class=\"params\">a,b</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> nX = a[<span class=\"number\">1</span>] * b[<span class=\"number\">2</span>] - a[<span class=\"number\">2</span>] * b[<span class=\"number\">1</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> nY = a[<span class=\"number\">2</span>] * b[<span class=\"number\">0</span>] -a[<span class=\"number\">0</span>] * b[<span class=\"number\">2</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> nZ = a[<span class=\"number\">0</span>] * b[<span class=\"number\">1</span>] - a[<span class=\"number\">1</span>] * b[<span class=\"number\">0</span>];</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([nX,nY,nZ]);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dot</span>(<span class=\"params\">a,b</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> a[<span class=\"number\">0</span>] * b[<span class=\"number\">0</span>] + a[<span class=\"number\">1</span>] * b[<span class=\"number\">1</span>] + a[<span class=\"number\">2</span>] * b[<span class=\"number\">2</span>];</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minus</span>(<span class=\"params\">a , b</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([a[<span class=\"number\">0</span>] - b[<span class=\"number\">0</span>], a[<span class=\"number\">1</span>] - b[<span class=\"number\">1</span>] , a[<span class=\"number\">2</span>] - b[<span class=\"number\">2</span>]]);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getVMatrix</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> eye = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([<span class=\"number\">0.4</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.26</span>]);</div><div class=\"line\">        <span class=\"keyword\">var</span> lookat = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>]);</div><div class=\"line\">        <span class=\"keyword\">var</span> up = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>]);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> zA = minus(eye , lookat);</div><div class=\"line\">        normalize(zA);</div><div class=\"line\"></div><div class=\"line\">        normalize(up);</div><div class=\"line\">        <span class=\"keyword\">var</span> xA = cross(up, zA);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> yA = cross(zA,xA);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">                xA[<span class=\"number\">0</span>],yA[<span class=\"number\">0</span>],zA[<span class=\"number\">0</span>], <span class=\"number\">0</span>,</div><div class=\"line\">                xA[<span class=\"number\">1</span>],yA[<span class=\"number\">1</span>],zA[<span class=\"number\">1</span>], <span class=\"number\">0</span>,</div><div class=\"line\">                xA[<span class=\"number\">2</span>],yA[<span class=\"number\">2</span>],zA[<span class=\"number\">2</span>], <span class=\"number\">0</span>,</div><div class=\"line\">                - dot(xA,eye), -dot(yA,eye),-dot(zA,eye),<span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\">        ])</div><div class=\"line\"></div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">0.5</span>, <span class=\"number\">-0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">-0.5</span>, <span class=\"number\">-0.5</span>, <span class=\"number\">-0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">0.5</span>, <span class=\"number\">-0.5</span>, <span class=\"number\">-0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"number\">0.5</span>, <span class=\"number\">0.4</span>, <span class=\"number\">-0.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">-0.5</span>, <span class=\"number\">0.4</span>, <span class=\"number\">-0.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">-0.6</span>, <span class=\"number\">-0.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span></div><div class=\"line\">    ]);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> u_vmatrixLocation = cxt.getUniformLocation(program,<span class=\"string\">'u_vmatrix'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mx = getVMatrix(); <span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">cxt.uniformMatrix4fv(u_vmatrixLocation,<span class=\"literal\">false</span>,mx);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-09/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>   * </li>\n<li>   * </li>\n<li>   <em>  </em> </li>\n<li> <em>  </em> </li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> eyeX = <span class=\"number\">0.25</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">draw</span>(<span class=\"params\">eyeX</span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> mx = getVMatrix(eyeX); <span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">        cxt.uniformMatrix4fv(u_vmatrixLocation,<span class=\"literal\">false</span>,mx);</div><div class=\"line\"></div><div class=\"line\">        cxt.clearColor(<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES,<span class=\"number\">0</span>,<span class=\"number\">6</span>);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">'keydown'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">switch</span> (event.keyCode)&#123;</div><div class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">37</span>:</div><div class=\"line\">                eyeX += <span class=\"number\">.01</span>;</div><div class=\"line\">                <span class=\"keyword\">break</span>;</div><div class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">39</span>:</div><div class=\"line\">                eyeX -= <span class=\"number\">.01</span>;</div><div class=\"line\">                <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        draw(eyeX);</div><div class=\"line\"></div><div class=\"line\">    &#125;);</div><div class=\"line\"></div><div class=\"line\">    draw(eyeX);</div></pre></td></tr></table></figure></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/09\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/09</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>lookAt(out, eye, center, up)</li>\n<li>eye </li>\n<li>center  </li>\n<li>up  </li>\n</ul>","more":"<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> vertexShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Position;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Color;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_vmatrix;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">    void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_Position = u_vmatrix * a_Position;</span></div><div class=\"line\"><span class=\"string\">      v_Color = a_Color;</span></div><div class=\"line\"><span class=\"string\">&#125;`</span></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">const</span> fragmentShaderSource =</div><div class=\"line\">        <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">        precision lowp float;</span></div><div class=\"line\"><span class=\"string\">        varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">        void main() &#123;</span></div><div class=\"line\"><span class=\"string\">      gl_FragColor = v_Color;</span></div><div class=\"line\"><span class=\"string\">  &#125;`</span></div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">normalize</span>(<span class=\"params\">v</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> sum = <span class=\"number\">0</span>;</div><div class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt; v.length;i++)&#123;</div><div class=\"line\">            sum += v[i] * v[i];</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">var</span> result = <span class=\"built_in\">Math</span>.sqrt(sum);</div><div class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> j=<span class=\"number\">0</span>;j&lt; v.length; j++)&#123;</div><div class=\"line\">            v[i] = v[i] / result;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">cross</span>(<span class=\"params\">a,b</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> nX = a[<span class=\"number\">1</span>] * b[<span class=\"number\">2</span>] - a[<span class=\"number\">2</span>] * b[<span class=\"number\">1</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> nY = a[<span class=\"number\">2</span>] * b[<span class=\"number\">0</span>] -a[<span class=\"number\">0</span>] * b[<span class=\"number\">2</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> nZ = a[<span class=\"number\">0</span>] * b[<span class=\"number\">1</span>] - a[<span class=\"number\">1</span>] * b[<span class=\"number\">0</span>];</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([nX,nY,nZ]);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">dot</span>(<span class=\"params\">a,b</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> a[<span class=\"number\">0</span>] * b[<span class=\"number\">0</span>] + a[<span class=\"number\">1</span>] * b[<span class=\"number\">1</span>] + a[<span class=\"number\">2</span>] * b[<span class=\"number\">2</span>];</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">minus</span>(<span class=\"params\">a , b</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([a[<span class=\"number\">0</span>] - b[<span class=\"number\">0</span>], a[<span class=\"number\">1</span>] - b[<span class=\"number\">1</span>] , a[<span class=\"number\">2</span>] - b[<span class=\"number\">2</span>]]);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getVMatrix</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> eye = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([<span class=\"number\">0.4</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.26</span>]);</div><div class=\"line\">        <span class=\"keyword\">var</span> lookat = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>]);</div><div class=\"line\">        <span class=\"keyword\">var</span> up = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>]);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> zA = minus(eye , lookat);</div><div class=\"line\">        normalize(zA);</div><div class=\"line\"></div><div class=\"line\">        normalize(up);</div><div class=\"line\">        <span class=\"keyword\">var</span> xA = cross(up, zA);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> yA = cross(zA,xA);</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">                xA[<span class=\"number\">0</span>],yA[<span class=\"number\">0</span>],zA[<span class=\"number\">0</span>], <span class=\"number\">0</span>,</div><div class=\"line\">                xA[<span class=\"number\">1</span>],yA[<span class=\"number\">1</span>],zA[<span class=\"number\">1</span>], <span class=\"number\">0</span>,</div><div class=\"line\">                xA[<span class=\"number\">2</span>],yA[<span class=\"number\">2</span>],zA[<span class=\"number\">2</span>], <span class=\"number\">0</span>,</div><div class=\"line\">                - dot(xA,eye), -dot(yA,eye),-dot(zA,eye),<span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\">        ])</div><div class=\"line\"></div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">0.5</span>, <span class=\"number\">-0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">-0.5</span>, <span class=\"number\">-0.5</span>, <span class=\"number\">-0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">0.5</span>, <span class=\"number\">-0.5</span>, <span class=\"number\">-0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"number\">0.5</span>, <span class=\"number\">0.4</span>, <span class=\"number\">-0.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">-0.5</span>, <span class=\"number\">0.4</span>, <span class=\"number\">-0.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">        <span class=\"number\">0.0</span>, <span class=\"number\">-0.6</span>, <span class=\"number\">-0.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span></div><div class=\"line\">    ]);</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> u_vmatrixLocation = cxt.getUniformLocation(program,<span class=\"string\">'u_vmatrix'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mx = getVMatrix(); <span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">cxt.uniformMatrix4fv(u_vmatrixLocation,<span class=\"literal\">false</span>,mx);</div></pre></td></tr></table></figure></p>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-09/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>   * </li>\n<li>   * </li>\n<li>   <em>  </em> </li>\n<li> <em>  </em> </li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> eyeX = <span class=\"number\">0.25</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">draw</span>(<span class=\"params\">eyeX</span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">var</span> mx = getVMatrix(eyeX); <span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">        cxt.uniformMatrix4fv(u_vmatrixLocation,<span class=\"literal\">false</span>,mx);</div><div class=\"line\"></div><div class=\"line\">        cxt.clearColor(<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>);</div><div class=\"line\">        cxt.clear(cxt.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">        cxt.drawArrays(cxt.TRIANGLES,<span class=\"number\">0</span>,<span class=\"number\">6</span>);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">'keydown'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">switch</span> (event.keyCode)&#123;</div><div class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">37</span>:</div><div class=\"line\">                eyeX += <span class=\"number\">.01</span>;</div><div class=\"line\">                <span class=\"keyword\">break</span>;</div><div class=\"line\">            <span class=\"keyword\">case</span> <span class=\"number\">39</span>:</div><div class=\"line\">                eyeX -= <span class=\"number\">.01</span>;</div><div class=\"line\">                <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        draw(eyeX);</div><div class=\"line\"></div><div class=\"line\">    &#125;);</div><div class=\"line\"></div><div class=\"line\">    draw(eyeX);</div></pre></td></tr></table></figure></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/09\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/09</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-12T13:09:11.000Z","_content":"\n### \n\n* OpenGL\n* \n*  C \n\n#### \n\n* main\n* void\n* void main(){...}\n\n\n{% codeblock lang:javascript %}\nvoid main(){\n   ...\n}\n{% endcodeblock %}\n\n<!-- more -->\n\n#### \n\n* \n* \n\n{% codeblock lang:javascript %}\nbool a;\ninit b;\nfloat c;\nvoid main(){\n   ...\n}\n{% endcodeblock %}\n\n#### \n\n* a-z , A-Z , 0-9 , _\n* \n* \n*  gl_  , _webgl_ \n\n\n#### \n\n* - * / +\n* + -\n* ++ \n* =\n* += -= *= /=\n* < > <= >=\n* ==  != \n* !   &&  ||  ^^  \n\n{% codeblock lang:javascript %}\nfloat a;\nfloat b;\n\nfloat c = a + b;\n++a/a++\n\ntrue ^^ true // false\nfalse ^^ false // false\nfalse ^^ true // true\n{% endcodeblock %}\n\n### \n\n#### \n\nstruct bright{\n   vec4 color;\n   vec3 position;\n}\n\n\n\n{% codeblock lang:javascript %}\n\nstruct user {\n\tfloat gezi;\n\tvec3 book;\n}\n\nuser wq;\nfloat a = 12.0;\nvec3 b = vec3(1.2,3.3,5.0);\nwq = user(a,b)\nwq = user(12.0,vec3(2.1,3.3,5.0));\n\n{% endcodeblock %}\n\n#### \n\n* \n*  0 \n*  const \n* float floatArr[4];\n\n#### \n\n* \n* sampler2D\n*  uniform \n* 8\n\n### \n\n#### \n\nif (1){\n  true\n}else if(1){\n 1 false2 true\n}else{\n   12 false  \n}\n\n{% codeblock lang:javascript %}\n\nvarying vec4 vpos;\n\nif(vpos.x >= 0.0 && vpos.y >= 0.0){\n\tgl_FragColor = vec4(1.0,0.0,0.0,1.0); //\n}else if(vpos.x >= 0.0 && vpos.y < 0.0){\n\tgl_FragColor = vec4(0.0,1.0,0.0,1.0); //\n}else if(vpos.x < 0.0 && vpos.y >= 0.0){\n\tgl_FragColor = vec4(0.0,0.0,1.0,1.0); //\n}else{\n\tgl_FragColor = vec4(1.0,1.0,0.0,1.0); //\n}\n\n{% endcodeblock %}\n\n#### \n\nfor (  ;  ;  ) {\n \n}\n\n{% codeblock lang:javascript %}\n\ninit sum = 0;\nfor(init i = 0; i<10;i++){\n\tsum += 1;\n}\n// sum = 10;\n\nfloat sum = 0.0;\nfor(init i = 0; i<10;i++){\n\tsum += float(i);\n}\n{% endcodeblock %}\n\n### \n\n#### \n\n (type0 arg0 , type1 arg1 , ) {\n   \n   return  ;\n}\n{% codeblock lang:javascript %}\n\ninit sum(int a,int b){\n\treturn a + b;\n}\n{% endcodeblock %}\n\n#### \n\n* float bright();  // \n* void main(){ bright(); }\n* float bright(){  }   \n\n#### \n\n* \n* \n* \n* \n* \n* \n* \n\n{% codeblock lang:javascript %}\n\n//\nradians(float d);\nradians(vec2 d);\nradians(vec3 d);\nradians(vec4 d);\n\ndegrees(float d);\ndegrees(vec2 d);\ndegrees(vec3 d);\ndegrees(vec4 d);\n\n// cos tan ...\nsin(float d);\nsin(vec2 d);\nsin(vec3 d);\nsin(vec4 d);\n\n// \n\npow(float x,float y)\npow(vec2 x,vec2 y)\npow(vec3 x,vec3 y)\npow(vec4 x,vec4 y)\n\n// \n\nabc(float x);\nabc(vec2 x);\nabc(vec3 x);\nabc(vec4 x);\n\nfloor(float x);\nfloor(vec2 x);\nfloor(vec3 x);\nfloor(vec4 x);\n\nmax(float x,float y);\n\n// \n// x\nlength(float x) // vec2 ,vec3, vec4\n...\n{% endcodeblock %}\n\n\n### \n\n####  \n\n<img width=\"500\" src=\"webgl-2017-07-12/1.jpeg\"/>\n\n* const \n* attribute \n* uniform \n* varying varyingvarying\n\n#### \n\n* highp   \n* mediump   \n* lowp   \n* precision lowp float //  \n\n","source":"_posts/webgl-2017-07-12.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-12 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n* OpenGL\n* \n*  C \n\n#### \n\n* main\n* void\n* void main(){...}\n\n\n{% codeblock lang:javascript %}\nvoid main(){\n   ...\n}\n{% endcodeblock %}\n\n<!-- more -->\n\n#### \n\n* \n* \n\n{% codeblock lang:javascript %}\nbool a;\ninit b;\nfloat c;\nvoid main(){\n   ...\n}\n{% endcodeblock %}\n\n#### \n\n* a-z , A-Z , 0-9 , _\n* \n* \n*  gl_  , _webgl_ \n\n\n#### \n\n* - * / +\n* + -\n* ++ \n* =\n* += -= *= /=\n* < > <= >=\n* ==  != \n* !   &&  ||  ^^  \n\n{% codeblock lang:javascript %}\nfloat a;\nfloat b;\n\nfloat c = a + b;\n++a/a++\n\ntrue ^^ true // false\nfalse ^^ false // false\nfalse ^^ true // true\n{% endcodeblock %}\n\n### \n\n#### \n\nstruct bright{\n   vec4 color;\n   vec3 position;\n}\n\n\n\n{% codeblock lang:javascript %}\n\nstruct user {\n\tfloat gezi;\n\tvec3 book;\n}\n\nuser wq;\nfloat a = 12.0;\nvec3 b = vec3(1.2,3.3,5.0);\nwq = user(a,b)\nwq = user(12.0,vec3(2.1,3.3,5.0));\n\n{% endcodeblock %}\n\n#### \n\n* \n*  0 \n*  const \n* float floatArr[4];\n\n#### \n\n* \n* sampler2D\n*  uniform \n* 8\n\n### \n\n#### \n\nif (1){\n  true\n}else if(1){\n 1 false2 true\n}else{\n   12 false  \n}\n\n{% codeblock lang:javascript %}\n\nvarying vec4 vpos;\n\nif(vpos.x >= 0.0 && vpos.y >= 0.0){\n\tgl_FragColor = vec4(1.0,0.0,0.0,1.0); //\n}else if(vpos.x >= 0.0 && vpos.y < 0.0){\n\tgl_FragColor = vec4(0.0,1.0,0.0,1.0); //\n}else if(vpos.x < 0.0 && vpos.y >= 0.0){\n\tgl_FragColor = vec4(0.0,0.0,1.0,1.0); //\n}else{\n\tgl_FragColor = vec4(1.0,1.0,0.0,1.0); //\n}\n\n{% endcodeblock %}\n\n#### \n\nfor (  ;  ;  ) {\n \n}\n\n{% codeblock lang:javascript %}\n\ninit sum = 0;\nfor(init i = 0; i<10;i++){\n\tsum += 1;\n}\n// sum = 10;\n\nfloat sum = 0.0;\nfor(init i = 0; i<10;i++){\n\tsum += float(i);\n}\n{% endcodeblock %}\n\n### \n\n#### \n\n (type0 arg0 , type1 arg1 , ) {\n   \n   return  ;\n}\n{% codeblock lang:javascript %}\n\ninit sum(int a,int b){\n\treturn a + b;\n}\n{% endcodeblock %}\n\n#### \n\n* float bright();  // \n* void main(){ bright(); }\n* float bright(){  }   \n\n#### \n\n* \n* \n* \n* \n* \n* \n* \n\n{% codeblock lang:javascript %}\n\n//\nradians(float d);\nradians(vec2 d);\nradians(vec3 d);\nradians(vec4 d);\n\ndegrees(float d);\ndegrees(vec2 d);\ndegrees(vec3 d);\ndegrees(vec4 d);\n\n// cos tan ...\nsin(float d);\nsin(vec2 d);\nsin(vec3 d);\nsin(vec4 d);\n\n// \n\npow(float x,float y)\npow(vec2 x,vec2 y)\npow(vec3 x,vec3 y)\npow(vec4 x,vec4 y)\n\n// \n\nabc(float x);\nabc(vec2 x);\nabc(vec3 x);\nabc(vec4 x);\n\nfloor(float x);\nfloor(vec2 x);\nfloor(vec3 x);\nfloor(vec4 x);\n\nmax(float x,float y);\n\n// \n// x\nlength(float x) // vec2 ,vec3, vec4\n...\n{% endcodeblock %}\n\n\n### \n\n####  \n\n<img width=\"500\" src=\"webgl-2017-07-12/1.jpeg\"/>\n\n* const \n* attribute \n* uniform \n* varying varyingvarying\n\n#### \n\n* highp   \n* mediump   \n* lowp   \n* precision lowp float //  \n\n","slug":"webgl-2017-07-12","published":1,"updated":"2017-10-29T10:13:41.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1j50017svld22pe6foj","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>OpenGL</li>\n<li></li>\n<li> C </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>main</li>\n<li>void</li>\n<li>void main(){}</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">void</span> main()&#123;</div><div class=\"line\">   ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">bool a;</div><div class=\"line\">init b;</div><div class=\"line\">float c;</div><div class=\"line\"><span class=\"keyword\">void</span> main()&#123;</div><div class=\"line\">   ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>a-z , A-Z , 0-9 , _</li>\n<li></li>\n<li></li>\n<li> gl_  , <em>webgl</em> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><ul>\n<li><ul>\n<li>/ +</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>-</li>\n</ul>\n</li>\n<li>++ </li>\n<li>=</li>\n<li>+= -= *= /=</li>\n<li>&lt; &gt; &lt;= &gt;=</li>\n<li>==  != </li>\n<li>!   &amp;&amp;  ||  ^^  </li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">float a;</div><div class=\"line\">float b;</div><div class=\"line\"></div><div class=\"line\">float c = a + b;</div><div class=\"line\">++a/a++</div><div class=\"line\"></div><div class=\"line\"><span class=\"literal\">true</span> ^^ <span class=\"literal\">true</span> <span class=\"comment\">// false</span></div><div class=\"line\"><span class=\"literal\">false</span> ^^ <span class=\"literal\">false</span> <span class=\"comment\">// false</span></div><div class=\"line\"><span class=\"literal\">false</span> ^^ <span class=\"literal\">true</span> <span class=\"comment\">// true</span></div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>struct bright{<br>   vec4 color;<br>   vec3 position;<br>}</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">struct user &#123;</div><div class=\"line\">\tfloat gezi;</div><div class=\"line\">\tvec3 book;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">user wq;</div><div class=\"line\">float a = <span class=\"number\">12.0</span>;</div><div class=\"line\">vec3 b = vec3(<span class=\"number\">1.2</span>,<span class=\"number\">3.3</span>,<span class=\"number\">5.0</span>);</div><div class=\"line\">wq = user(a,b)</div><div class=\"line\">wq = user(<span class=\"number\">12.0</span>,vec3(<span class=\"number\">2.1</span>,<span class=\"number\">3.3</span>,<span class=\"number\">5.0</span>));</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li> 0 </li>\n<li> const </li>\n<li>float floatArr[4];</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>sampler2D</li>\n<li> uniform </li>\n<li>8</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>if (1){<br>  true<br>}else if(1){<br> 1 false2 true<br>}else{<br>   12 false  <br>}</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">varying vec4 vpos;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span>(vpos.x &gt;= <span class=\"number\">0.0</span> &amp;&amp; vpos.y &gt;= <span class=\"number\">0.0</span>)&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(vpos.x &gt;= <span class=\"number\">0.0</span> &amp;&amp; vpos.y &lt; <span class=\"number\">0.0</span>)&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(vpos.x &lt; <span class=\"number\">0.0</span> &amp;&amp; vpos.y &gt;= <span class=\"number\">0.0</span>)&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>for (  ;  ;  ) {<br> <br>}</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">init sum = <span class=\"number\">0</span>;</div><div class=\"line\"><span class=\"keyword\">for</span>(init i = <span class=\"number\">0</span>; i&lt;<span class=\"number\">10</span>;i++)&#123;</div><div class=\"line\">\tsum += <span class=\"number\">1</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// sum = 10;</span></div><div class=\"line\"></div><div class=\"line\">float sum = <span class=\"number\">0.0</span>;</div><div class=\"line\"><span class=\"keyword\">for</span>(init i = <span class=\"number\">0</span>; i&lt;<span class=\"number\">10</span>;i++)&#123;</div><div class=\"line\">\tsum += float(i);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> (type0 arg0 , type1 arg1 , ) {<br>   <br>   return  ;<br>}<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">init sum(int a,int b)&#123;</div><div class=\"line\">\t<span class=\"keyword\">return</span> a + b;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>float bright();  // </li>\n<li>void main(){ bright(); }</li>\n<li>float bright(){  }   </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">radians(float d);</div><div class=\"line\">radians(vec2 d);</div><div class=\"line\">radians(vec3 d);</div><div class=\"line\">radians(vec4 d);</div><div class=\"line\"></div><div class=\"line\">degrees(float d);</div><div class=\"line\">degrees(vec2 d);</div><div class=\"line\">degrees(vec3 d);</div><div class=\"line\">degrees(vec4 d);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// cos tan ...</span></div><div class=\"line\">sin(float d);</div><div class=\"line\">sin(vec2 d);</div><div class=\"line\">sin(vec3 d);</div><div class=\"line\">sin(vec4 d);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">pow(float x,float y)</div><div class=\"line\">pow(vec2 x,vec2 y)</div><div class=\"line\">pow(vec3 x,vec3 y)</div><div class=\"line\">pow(vec4 x,vec4 y)</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">abc(float x);</div><div class=\"line\">abc(vec2 x);</div><div class=\"line\">abc(vec3 x);</div><div class=\"line\">abc(vec4 x);</div><div class=\"line\"></div><div class=\"line\">floor(float x);</div><div class=\"line\">floor(vec2 x);</div><div class=\"line\">floor(vec3 x);</div><div class=\"line\">floor(vec4 x);</div><div class=\"line\"></div><div class=\"line\">max(float x,float y);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"comment\">// x</span></div><div class=\"line\">length(float x) <span class=\"comment\">// vec2 ,vec3, vec4</span></div><div class=\"line\">...</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img width=\"500\" src=\"/webgl-2017-07-12/1.jpeg\"></p>\n<ul>\n<li>const </li>\n<li>attribute </li>\n<li>uniform </li>\n<li>varying varyingvarying</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>highp   </li>\n<li>mediump   </li>\n<li>lowp   </li>\n<li>precision lowp float //  </li>\n</ul>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>OpenGL</li>\n<li></li>\n<li> C </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>main</li>\n<li>void</li>\n<li>void main(){}</li>\n</ul>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">void</span> main()&#123;</div><div class=\"line\">   ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">bool a;</div><div class=\"line\">init b;</div><div class=\"line\">float c;</div><div class=\"line\"><span class=\"keyword\">void</span> main()&#123;</div><div class=\"line\">   ...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>a-z , A-Z , 0-9 , _</li>\n<li></li>\n<li></li>\n<li> gl_  , <em>webgl</em> </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><ul>\n<li><ul>\n<li>/ +</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><ul>\n<li>-</li>\n</ul>\n</li>\n<li>++ </li>\n<li>=</li>\n<li>+= -= *= /=</li>\n<li>&lt; &gt; &lt;= &gt;=</li>\n<li>==  != </li>\n<li>!   &amp;&amp;  ||  ^^  </li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">float a;</div><div class=\"line\">float b;</div><div class=\"line\"></div><div class=\"line\">float c = a + b;</div><div class=\"line\">++a/a++</div><div class=\"line\"></div><div class=\"line\"><span class=\"literal\">true</span> ^^ <span class=\"literal\">true</span> <span class=\"comment\">// false</span></div><div class=\"line\"><span class=\"literal\">false</span> ^^ <span class=\"literal\">false</span> <span class=\"comment\">// false</span></div><div class=\"line\"><span class=\"literal\">false</span> ^^ <span class=\"literal\">true</span> <span class=\"comment\">// true</span></div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>struct bright{<br>   vec4 color;<br>   vec3 position;<br>}</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">struct user &#123;</div><div class=\"line\">\tfloat gezi;</div><div class=\"line\">\tvec3 book;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">user wq;</div><div class=\"line\">float a = <span class=\"number\">12.0</span>;</div><div class=\"line\">vec3 b = vec3(<span class=\"number\">1.2</span>,<span class=\"number\">3.3</span>,<span class=\"number\">5.0</span>);</div><div class=\"line\">wq = user(a,b)</div><div class=\"line\">wq = user(<span class=\"number\">12.0</span>,vec3(<span class=\"number\">2.1</span>,<span class=\"number\">3.3</span>,<span class=\"number\">5.0</span>));</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li> 0 </li>\n<li> const </li>\n<li>float floatArr[4];</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>sampler2D</li>\n<li> uniform </li>\n<li>8</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>if (1){<br>  true<br>}else if(1){<br> 1 false2 true<br>}else{<br>   12 false  <br>}</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">varying vec4 vpos;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span>(vpos.x &gt;= <span class=\"number\">0.0</span> &amp;&amp; vpos.y &gt;= <span class=\"number\">0.0</span>)&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(vpos.x &gt;= <span class=\"number\">0.0</span> &amp;&amp; vpos.y &lt; <span class=\"number\">0.0</span>)&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(vpos.x &lt; <span class=\"number\">0.0</span> &amp;&amp; vpos.y &gt;= <span class=\"number\">0.0</span>)&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">0.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\tgl_FragColor = vec4(<span class=\"number\">1.0</span>,<span class=\"number\">1.0</span>,<span class=\"number\">0.0</span>,<span class=\"number\">1.0</span>); <span class=\"comment\">//</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>for (  ;  ;  ) {<br> <br>}</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">init sum = <span class=\"number\">0</span>;</div><div class=\"line\"><span class=\"keyword\">for</span>(init i = <span class=\"number\">0</span>; i&lt;<span class=\"number\">10</span>;i++)&#123;</div><div class=\"line\">\tsum += <span class=\"number\">1</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// sum = 10;</span></div><div class=\"line\"></div><div class=\"line\">float sum = <span class=\"number\">0.0</span>;</div><div class=\"line\"><span class=\"keyword\">for</span>(init i = <span class=\"number\">0</span>; i&lt;<span class=\"number\">10</span>;i++)&#123;</div><div class=\"line\">\tsum += float(i);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> (type0 arg0 , type1 arg1 , ) {<br>   <br>   return  ;<br>}<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">init sum(int a,int b)&#123;</div><div class=\"line\">\t<span class=\"keyword\">return</span> a + b;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>float bright();  // </li>\n<li>void main(){ bright(); }</li>\n<li>float bright(){  }   </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">radians(float d);</div><div class=\"line\">radians(vec2 d);</div><div class=\"line\">radians(vec3 d);</div><div class=\"line\">radians(vec4 d);</div><div class=\"line\"></div><div class=\"line\">degrees(float d);</div><div class=\"line\">degrees(vec2 d);</div><div class=\"line\">degrees(vec3 d);</div><div class=\"line\">degrees(vec4 d);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// cos tan ...</span></div><div class=\"line\">sin(float d);</div><div class=\"line\">sin(vec2 d);</div><div class=\"line\">sin(vec3 d);</div><div class=\"line\">sin(vec4 d);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">pow(float x,float y)</div><div class=\"line\">pow(vec2 x,vec2 y)</div><div class=\"line\">pow(vec3 x,vec3 y)</div><div class=\"line\">pow(vec4 x,vec4 y)</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\">abc(float x);</div><div class=\"line\">abc(vec2 x);</div><div class=\"line\">abc(vec3 x);</div><div class=\"line\">abc(vec4 x);</div><div class=\"line\"></div><div class=\"line\">floor(float x);</div><div class=\"line\">floor(vec2 x);</div><div class=\"line\">floor(vec3 x);</div><div class=\"line\">floor(vec4 x);</div><div class=\"line\"></div><div class=\"line\">max(float x,float y);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"comment\">// x</span></div><div class=\"line\">length(float x) <span class=\"comment\">// vec2 ,vec3, vec4</span></div><div class=\"line\">...</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><img width=\"500\" src=\"/webgl-2017-07-12/1.jpeg\"></p>\n<ul>\n<li>const </li>\n<li>attribute </li>\n<li>uniform </li>\n<li>varying varyingvarying</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>highp   </li>\n<li>mediump   </li>\n<li>lowp   </li>\n<li>precision lowp float //  </li>\n</ul>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-11T13:09:11.000Z","_content":"\n### \n\n#### \n\n* \n* \n\n\n\n<!-- more -->\n\n#### \n\nright,top,-near,(-left,top,-near),(-left,-bottom,-near),(right,-bottom,-near),(right,top,far),(-left,top,far),(-left,-bottom,far),(right,-bottom,far).\n\n<img width=\"300\" src=\"webgl-2017-07-11/01.jpeg\"/>\n\n<canvas><canvas><canvas>\n\n### \n\n#### \n\n* setOrtho(left , right , bottom , top , near , far)\n* left / right / bottom / top \n* near  \n* far  \n\n\n\n<img width=\"300\" src=\"webgl-2017-07-11/2.jpeg\"/>\n\n\n\nuniform\n{% codeblock lang:javascript %}\nvar vertexShaderSource = `\n    attribute vec4 pos;\n    uniform mat4 u_mx;\n    attribute vec4 a_Color;\n    varying vec4 v_Color;\n\n    void main(){\n        gl_Position = u_mx * pos;\n        v_Color = a_Color;\n    }\n`\n\nvar fragmentShaderSource = `\n    precision lowp float;\n    varying vec4 v_Color;\n    void main(){\n        gl_FragColor = v_Color;\n    }\n`  \n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction getOMX(left,right,bottom,top,near,far){\n\n    return new Float32Array([\n        2 / (right - left), 0, 0, 0,\n        0, 2 / (top - bottom), 0, 0,\n        0, 0, -2 / (far - near), 0,\n        -(right + left) / (right - left),\n        -(top + bottom) / (top - bottom),\n        -(far + near) / (far - near),\n        1\n    ]);\n\n}\nvar near = 0.0;\nvar far = .5;\n\nvar omx = getOMX(-.5,.5, -.5,.5, near , far);    \n{% endcodeblock %}\n\n\ndata\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n    0.0, 0.6, -.4, 0.4, 1.0, 0.4,\n    -.45, -.4, -.51, .4, 1.0, .4,\n    0.5, -.4, -.4, 1.0, .4, .4,\n\n    .5, .4, -.2, 1.0, .4, .4,\n    -.5, .4, -.2, 1.0, 1.0, .3,\n    .0, -.6, -.2, 1.0, 1.0, .4\n]);   \n{% endcodeblock %}\n\nfar.5,data-.51\n\n<img width=\"300\" src=\"webgl-2017-07-11/3.jpeg\"/>\n\n### \n\n* \n* <> * <> * <>\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-11/4.jpeg\"/>\n\n### \n\n#### \n\n* \n* 0\n* \n\n<img width=\"300\" src=\"webgl-2017-07-11/5.jpeg\"/>\n\n\n\n#### \n\n### \n\n<img width=\"500\" src=\"webgl-2017-07-11/6.jpeg\"/>\n\n\n\n\n\n{% codeblock lang:javascript %}\nvar vertexShaderSource = `\n    attribute vec4 pos;\n    uniform mat4 u_mx;\n    attribute vec4 a_Color;\n    varying vec4 v_Color;\n\n    void main(){\n        gl_Position = u_mx * pos;\n        v_Color = a_Color;\n    }\n`\n\nvar fragmentShaderSource = `\n    precision lowp float;\n    varying vec4 v_Color;\n    void main(){\n        gl_FragColor = v_Color;\n    }\n`   \n{% endcodeblock %}\n\nprogram\n\n{% codeblock lang:javascript %}\nvar gl = canvas.getContext('webgl');\n\nvar program = initShader(gl,vertexShaderSource,fragmentShaderSource); \n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n/**\n * \n * fov \n * aspect   \n * near  \n * far  \n */\nfunction getTS(fov,aspect,near,far){\n    fov = fov * Math.PI / 180; // \n    return new Float32Array([\n        1 / (aspect * Math.tan(fov / 2)), 0, 0, 0,\n        0, 1 / Math.tan(fov / 2), 0, 0,\n        0, 0, -(far + near) / (far - near), -1,\n        0, 0, -2 * (far * near) / (far - near), 0\n    ]);\n}\n{% endcodeblock %}\n\natadatabuffer\n\n{% codeblock lang:javascript %}\n// \nvar buffer_data = new Float32Array([\n\n    0.75, 1.0, -.8, 1.0, 1.0, .4,\n    .25, -1.0, -.8, 1.0, 1.0, .4,\n    1.0, -1.0, -.8, 1.0, .4, .4,\n\n    .75, 1.0, 0.8, .4, .4, 1.0,\n    .25, -1.0, .8, .4, .4, 1.0,\n    1.0, -1.0, .8, 1.0, .4, .4,\n\n\n    // \n    -.75, 1.0, -.8, 1.0, 1.0, .4,\n    -1.0, -1.0, -.8, 1.0, 1.0, 0.4,\n    -0.25, -1.0, -.8, 1.0, .4, .4,\n\n    -.75, 1.0, .8, .4, .4, 1.0,\n    -1.0, -1.0, .8, .4, .4, 1.0,\n    -.25, -1.0, .8, 1.0, .4, .4\n\n]);\n\nvar buffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, buffer);\ngl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);\n{% endcodeblock %}\n\nLocation\n\n{% codeblock lang:javascript %}\nvar posLocation = gl.getAttribLocation(program, 'pos');\nvar aColorLocation = gl.getAttribLocation(program, 'a_Color');\nvar uMXLocation = gl.getUniformLocation(program, 'u_mx');\n\nvar BYTES_SIZE = buffer_data.BYTES_PER_ELEMENT;\n\ngl.vertexAttribPointer(posLocation, 3, gl.FLOAT, false, BYTES_SIZE * 6, 0);\ngl.vertexAttribPointer(aColorLocation, 3, gl.FLOAT, false, BYTES_SIZE * 6, BYTES_SIZE * 3);\ngl.enableVertexAttribArray(posLocation);\ngl.enableVertexAttribArray(aColorLocation);\n{% endcodeblock %}\n\ngetVMatrixmultiplyMatrixlib\n\n{% codeblock lang:javascript %}\nfunction draw() {\n\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var mx = getTS(30, canvas.width / canvas.height, 1, 100);\n    var vmx = getVMatrix(0,0,5,0,0,-100);\n    gl.uniformMatrix4fv(uMXLocation,false,multiplyMatrix(mx,vmx));\n\n    gl.drawArrays(gl.TRIANGLES, 0, 12);\n}\n\ndraw();\n{% endcodeblock %}\n\n\n\n<img width=\"400\" src=\"webgl-2017-07-11/7.jpeg\"/>\n\n#### \n\n* WebGL \n* \n\ndata\n\n{% codeblock lang:javascript %}\n// \nvar buffer_data = new Float32Array([\n\n    .75, 1.0, 0.8, .4, .4, 1.0,\n    .25, -1.0, .8, .4, .4, 1.0,\n    1.0, -1.0, .8, 1.0, .4, .4,\n\n    0.75, 1.0, -.8, 1.0, 1.0, .4,\n    .25, -1.0, -.8, 1.0, 1.0, .4,\n    1.0, -1.0, -.8, 1.0, .4, .4,\n\n    -.75, 1.0, .8, .4, .4, 1.0,\n    -1.0, -1.0, .8, .4, .4, 1.0,\n    -.25, -1.0, .8, 1.0, .4, .4,\n\n    -.75, 1.0, -.8, 1.0, 1.0, .4,\n    -1.0, -1.0, -.8, 1.0, 1.0, 0.4,\n    -0.25, -1.0, -.8, 1.0, .4, .4,\n\n]);\n{% endcodeblock %}\n\n<img width=\"400\" src=\"webgl-2017-07-11/8.jpeg\"/>\n\nwebgl\n\n#### \n\n* \n* \n\n\n\n{% codeblock lang:javascript %}\ngl.enable(gl.DEPTH_TEST);\ngl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n{% endcodeblock %}\n\n\n\n#### \n\nWebGLZ fighting\n\n\n\n{% codeblock lang:javascript %}\ngl.enable(gl.POLYGON_OFFSET_FILL);\ngl.drawArrays(gl.TRIANGLES, 0, 3);\ngl.polygonOffset(1.0, 1.0);   \ngl.drawArrays(gl.TRIANGLES, 3, 3);\n{% endcodeblock %}\n\n\n\n<img width=\"400\" src=\"webgl-2017-07-11/9.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/11","source":"_posts/webgl-2017-07-11.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-11 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n#### \n\n* \n* \n\n\n\n<!-- more -->\n\n#### \n\nright,top,-near,(-left,top,-near),(-left,-bottom,-near),(right,-bottom,-near),(right,top,far),(-left,top,far),(-left,-bottom,far),(right,-bottom,far).\n\n<img width=\"300\" src=\"webgl-2017-07-11/01.jpeg\"/>\n\n<canvas><canvas><canvas>\n\n### \n\n#### \n\n* setOrtho(left , right , bottom , top , near , far)\n* left / right / bottom / top \n* near  \n* far  \n\n\n\n<img width=\"300\" src=\"webgl-2017-07-11/2.jpeg\"/>\n\n\n\nuniform\n{% codeblock lang:javascript %}\nvar vertexShaderSource = `\n    attribute vec4 pos;\n    uniform mat4 u_mx;\n    attribute vec4 a_Color;\n    varying vec4 v_Color;\n\n    void main(){\n        gl_Position = u_mx * pos;\n        v_Color = a_Color;\n    }\n`\n\nvar fragmentShaderSource = `\n    precision lowp float;\n    varying vec4 v_Color;\n    void main(){\n        gl_FragColor = v_Color;\n    }\n`  \n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\nfunction getOMX(left,right,bottom,top,near,far){\n\n    return new Float32Array([\n        2 / (right - left), 0, 0, 0,\n        0, 2 / (top - bottom), 0, 0,\n        0, 0, -2 / (far - near), 0,\n        -(right + left) / (right - left),\n        -(top + bottom) / (top - bottom),\n        -(far + near) / (far - near),\n        1\n    ]);\n\n}\nvar near = 0.0;\nvar far = .5;\n\nvar omx = getOMX(-.5,.5, -.5,.5, near , far);    \n{% endcodeblock %}\n\n\ndata\n{% codeblock lang:javascript %}\nvar data = new Float32Array([\n    0.0, 0.6, -.4, 0.4, 1.0, 0.4,\n    -.45, -.4, -.51, .4, 1.0, .4,\n    0.5, -.4, -.4, 1.0, .4, .4,\n\n    .5, .4, -.2, 1.0, .4, .4,\n    -.5, .4, -.2, 1.0, 1.0, .3,\n    .0, -.6, -.2, 1.0, 1.0, .4\n]);   \n{% endcodeblock %}\n\nfar.5,data-.51\n\n<img width=\"300\" src=\"webgl-2017-07-11/3.jpeg\"/>\n\n### \n\n* \n* <> * <> * <>\n\n\n\n<img width=\"300\" src=\"webgl-2017-07-11/4.jpeg\"/>\n\n### \n\n#### \n\n* \n* 0\n* \n\n<img width=\"300\" src=\"webgl-2017-07-11/5.jpeg\"/>\n\n\n\n#### \n\n### \n\n<img width=\"500\" src=\"webgl-2017-07-11/6.jpeg\"/>\n\n\n\n\n\n{% codeblock lang:javascript %}\nvar vertexShaderSource = `\n    attribute vec4 pos;\n    uniform mat4 u_mx;\n    attribute vec4 a_Color;\n    varying vec4 v_Color;\n\n    void main(){\n        gl_Position = u_mx * pos;\n        v_Color = a_Color;\n    }\n`\n\nvar fragmentShaderSource = `\n    precision lowp float;\n    varying vec4 v_Color;\n    void main(){\n        gl_FragColor = v_Color;\n    }\n`   \n{% endcodeblock %}\n\nprogram\n\n{% codeblock lang:javascript %}\nvar gl = canvas.getContext('webgl');\n\nvar program = initShader(gl,vertexShaderSource,fragmentShaderSource); \n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n/**\n * \n * fov \n * aspect   \n * near  \n * far  \n */\nfunction getTS(fov,aspect,near,far){\n    fov = fov * Math.PI / 180; // \n    return new Float32Array([\n        1 / (aspect * Math.tan(fov / 2)), 0, 0, 0,\n        0, 1 / Math.tan(fov / 2), 0, 0,\n        0, 0, -(far + near) / (far - near), -1,\n        0, 0, -2 * (far * near) / (far - near), 0\n    ]);\n}\n{% endcodeblock %}\n\natadatabuffer\n\n{% codeblock lang:javascript %}\n// \nvar buffer_data = new Float32Array([\n\n    0.75, 1.0, -.8, 1.0, 1.0, .4,\n    .25, -1.0, -.8, 1.0, 1.0, .4,\n    1.0, -1.0, -.8, 1.0, .4, .4,\n\n    .75, 1.0, 0.8, .4, .4, 1.0,\n    .25, -1.0, .8, .4, .4, 1.0,\n    1.0, -1.0, .8, 1.0, .4, .4,\n\n\n    // \n    -.75, 1.0, -.8, 1.0, 1.0, .4,\n    -1.0, -1.0, -.8, 1.0, 1.0, 0.4,\n    -0.25, -1.0, -.8, 1.0, .4, .4,\n\n    -.75, 1.0, .8, .4, .4, 1.0,\n    -1.0, -1.0, .8, .4, .4, 1.0,\n    -.25, -1.0, .8, 1.0, .4, .4\n\n]);\n\nvar buffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, buffer);\ngl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);\n{% endcodeblock %}\n\nLocation\n\n{% codeblock lang:javascript %}\nvar posLocation = gl.getAttribLocation(program, 'pos');\nvar aColorLocation = gl.getAttribLocation(program, 'a_Color');\nvar uMXLocation = gl.getUniformLocation(program, 'u_mx');\n\nvar BYTES_SIZE = buffer_data.BYTES_PER_ELEMENT;\n\ngl.vertexAttribPointer(posLocation, 3, gl.FLOAT, false, BYTES_SIZE * 6, 0);\ngl.vertexAttribPointer(aColorLocation, 3, gl.FLOAT, false, BYTES_SIZE * 6, BYTES_SIZE * 3);\ngl.enableVertexAttribArray(posLocation);\ngl.enableVertexAttribArray(aColorLocation);\n{% endcodeblock %}\n\ngetVMatrixmultiplyMatrixlib\n\n{% codeblock lang:javascript %}\nfunction draw() {\n\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var mx = getTS(30, canvas.width / canvas.height, 1, 100);\n    var vmx = getVMatrix(0,0,5,0,0,-100);\n    gl.uniformMatrix4fv(uMXLocation,false,multiplyMatrix(mx,vmx));\n\n    gl.drawArrays(gl.TRIANGLES, 0, 12);\n}\n\ndraw();\n{% endcodeblock %}\n\n\n\n<img width=\"400\" src=\"webgl-2017-07-11/7.jpeg\"/>\n\n#### \n\n* WebGL \n* \n\ndata\n\n{% codeblock lang:javascript %}\n// \nvar buffer_data = new Float32Array([\n\n    .75, 1.0, 0.8, .4, .4, 1.0,\n    .25, -1.0, .8, .4, .4, 1.0,\n    1.0, -1.0, .8, 1.0, .4, .4,\n\n    0.75, 1.0, -.8, 1.0, 1.0, .4,\n    .25, -1.0, -.8, 1.0, 1.0, .4,\n    1.0, -1.0, -.8, 1.0, .4, .4,\n\n    -.75, 1.0, .8, .4, .4, 1.0,\n    -1.0, -1.0, .8, .4, .4, 1.0,\n    -.25, -1.0, .8, 1.0, .4, .4,\n\n    -.75, 1.0, -.8, 1.0, 1.0, .4,\n    -1.0, -1.0, -.8, 1.0, 1.0, 0.4,\n    -0.25, -1.0, -.8, 1.0, .4, .4,\n\n]);\n{% endcodeblock %}\n\n<img width=\"400\" src=\"webgl-2017-07-11/8.jpeg\"/>\n\nwebgl\n\n#### \n\n* \n* \n\n\n\n{% codeblock lang:javascript %}\ngl.enable(gl.DEPTH_TEST);\ngl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n{% endcodeblock %}\n\n\n\n#### \n\nWebGLZ fighting\n\n\n\n{% codeblock lang:javascript %}\ngl.enable(gl.POLYGON_OFFSET_FILL);\ngl.drawArrays(gl.TRIANGLES, 0, 3);\ngl.polygonOffset(1.0, 1.0);   \ngl.drawArrays(gl.TRIANGLES, 3, 3);\n{% endcodeblock %}\n\n\n\n<img width=\"400\" src=\"webgl-2017-07-11/9.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/11","slug":"webgl-2017-07-11","published":1,"updated":"2017-11-05T09:40:23.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1jc0019svldh03ce6s6","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<a id=\"more\"></a>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>right,top,-near,(-left,top,-near),(-left,-bottom,-near),(right,-bottom,-near),(right,top,far),(-left,top,far),(-left,-bottom,far),(right,-bottom,far).</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/01.jpeg\"></p>\n<p><canvas><canvas><canvas></canvas></canvas></canvas></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>setOrtho(left , right , bottom , top , near , far)</li>\n<li>left / right / bottom / top </li>\n<li>near  </li>\n<li>far  </li>\n</ul>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/2.jpeg\"></p>\n<p></p>\n<p>uniform<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> vertexShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_mx;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Color;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_Position = u_mx * pos;</span></div><div class=\"line\"><span class=\"string\">        v_Color = a_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> fragmentShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    precision lowp float;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_FragColor = v_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span>  </div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getOMX</span>(<span class=\"params\">left,right,bottom,top,near,far</span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">2</span> / (right - left), <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">2</span> / (top - bottom), <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">-2</span> / (far - near), <span class=\"number\">0</span>,</div><div class=\"line\">        -(right + left) / (right - left),</div><div class=\"line\">        -(top + bottom) / (top - bottom),</div><div class=\"line\">        -(far + near) / (far - near),</div><div class=\"line\">        <span class=\"number\">1</span></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> near = <span class=\"number\">0.0</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> far = <span class=\"number\">.5</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> omx = getOMX(<span class=\"number\">-.5</span>,<span class=\"number\">.5</span>, <span class=\"number\">-.5</span>,<span class=\"number\">.5</span>, near , far);    </div></pre></td></tr></table></figure></p>\n<p>data<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">0.0</span>, <span class=\"number\">0.6</span>, <span class=\"number\">-.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">    <span class=\"number\">-.45</span>, <span class=\"number\">-.4</span>, <span class=\"number\">-.51</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">0.5</span>, <span class=\"number\">-.4</span>, <span class=\"number\">-.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">.4</span>, <span class=\"number\">-.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">.4</span>, <span class=\"number\">-.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">    <span class=\"number\">.0</span>, <span class=\"number\">-.6</span>, <span class=\"number\">-.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span></div><div class=\"line\">]);   </div></pre></td></tr></table></figure></p>\n<p>far.5,data-.51</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li>&lt;&gt; <em> &lt;&gt; </em> &lt;&gt;</li>\n</ul>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/4.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>0</li>\n<li></li>\n</ul>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/5.jpeg\"></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img width=\"500\" src=\"/webgl-2017-07-11/6.jpeg\"></p>\n<p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> vertexShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_mx;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Color;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_Position = u_mx * pos;</span></div><div class=\"line\"><span class=\"string\">        v_Color = a_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> fragmentShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    precision lowp float;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_FragColor = v_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span>   </div></pre></td></tr></table></figure>\n<p>program</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gl = canvas.getContext(<span class=\"string\">'webgl'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> program = initShader(gl,vertexShaderSource,fragmentShaderSource); </div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"><span class=\"comment\"> * </span></div><div class=\"line\"><span class=\"comment\"> * fov </span></div><div class=\"line\"><span class=\"comment\"> * aspect   </span></div><div class=\"line\"><span class=\"comment\"> * near  </span></div><div class=\"line\"><span class=\"comment\"> * far  </span></div><div class=\"line\"><span class=\"comment\"> */</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTS</span>(<span class=\"params\">fov,aspect,near,far</span>)</span>&#123;</div><div class=\"line\">    fov = fov * <span class=\"built_in\">Math</span>.PI / <span class=\"number\">180</span>; <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">1</span> / (aspect * <span class=\"built_in\">Math</span>.tan(fov / <span class=\"number\">2</span>)), <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">1</span> / <span class=\"built_in\">Math</span>.tan(fov / <span class=\"number\">2</span>), <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">0</span>, -(far + near) / (far - near), <span class=\"number\">-1</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">-2</span> * (far * near) / (far - near), <span class=\"number\">0</span></div><div class=\"line\">    ]);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>atadatabuffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">    <span class=\"number\">-0.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span></div><div class=\"line\"></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> buffer = gl.createBuffer();</div><div class=\"line\">gl.bindBuffer(gl.ARRAY_BUFFER, buffer);</div><div class=\"line\">gl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);</div></pre></td></tr></table></figure>\n<p>Location</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> posLocation = gl.getAttribLocation(program, <span class=\"string\">'pos'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> aColorLocation = gl.getAttribLocation(program, <span class=\"string\">'a_Color'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> uMXLocation = gl.getUniformLocation(program, <span class=\"string\">'u_mx'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> BYTES_SIZE = buffer_data.BYTES_PER_ELEMENT;</div><div class=\"line\"></div><div class=\"line\">gl.vertexAttribPointer(posLocation, <span class=\"number\">3</span>, gl.FLOAT, <span class=\"literal\">false</span>, BYTES_SIZE * <span class=\"number\">6</span>, <span class=\"number\">0</span>);</div><div class=\"line\">gl.vertexAttribPointer(aColorLocation, <span class=\"number\">3</span>, gl.FLOAT, <span class=\"literal\">false</span>, BYTES_SIZE * <span class=\"number\">6</span>, BYTES_SIZE * <span class=\"number\">3</span>);</div><div class=\"line\">gl.enableVertexAttribArray(posLocation);</div><div class=\"line\">gl.enableVertexAttribArray(aColorLocation);</div></pre></td></tr></table></figure>\n<p>getVMatrixmultiplyMatrixlib</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">draw</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    gl.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\"></div><div class=\"line\">    gl.clear(gl.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> mx = getTS(<span class=\"number\">30</span>, canvas.width / canvas.height, <span class=\"number\">1</span>, <span class=\"number\">100</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> vmx = getVMatrix(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">5</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">-100</span>);</div><div class=\"line\">    gl.uniformMatrix4fv(uMXLocation,<span class=\"literal\">false</span>,multiplyMatrix(mx,vmx));</div><div class=\"line\"></div><div class=\"line\">    gl.drawArrays(gl.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">12</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">draw();</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"400\" src=\"/webgl-2017-07-11/7.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>WebGL </li>\n<li></li>\n</ul>\n<p>data</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">    <span class=\"number\">-0.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<p><img width=\"400\" src=\"/webgl-2017-07-11/8.jpeg\"></p>\n<p>webgl</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">gl.enable(gl.DEPTH_TEST);</div><div class=\"line\">gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);</div></pre></td></tr></table></figure>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>WebGLZ fighting</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">gl.enable(gl.POLYGON_OFFSET_FILL);</div><div class=\"line\">gl.drawArrays(gl.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">gl.polygonOffset(<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>);   </div><div class=\"line\">gl.drawArrays(gl.TRIANGLES, <span class=\"number\">3</span>, <span class=\"number\">3</span>);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"400\" src=\"/webgl-2017-07-11/9.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/11\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/11</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>right,top,-near,(-left,top,-near),(-left,-bottom,-near),(right,-bottom,-near),(right,top,far),(-left,top,far),(-left,-bottom,far),(right,-bottom,far).</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/01.jpeg\"></p>\n<p><canvas><canvas><canvas></canvas></canvas></canvas></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>setOrtho(left , right , bottom , top , near , far)</li>\n<li>left / right / bottom / top </li>\n<li>near  </li>\n<li>far  </li>\n</ul>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/2.jpeg\"></p>\n<p></p>\n<p>uniform<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> vertexShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_mx;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Color;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_Position = u_mx * pos;</span></div><div class=\"line\"><span class=\"string\">        v_Color = a_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> fragmentShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    precision lowp float;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_FragColor = v_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span>  </div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getOMX</span>(<span class=\"params\">left,right,bottom,top,near,far</span>)</span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">2</span> / (right - left), <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">2</span> / (top - bottom), <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">-2</span> / (far - near), <span class=\"number\">0</span>,</div><div class=\"line\">        -(right + left) / (right - left),</div><div class=\"line\">        -(top + bottom) / (top - bottom),</div><div class=\"line\">        -(far + near) / (far - near),</div><div class=\"line\">        <span class=\"number\">1</span></div><div class=\"line\">    ]);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> near = <span class=\"number\">0.0</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> far = <span class=\"number\">.5</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> omx = getOMX(<span class=\"number\">-.5</span>,<span class=\"number\">.5</span>, <span class=\"number\">-.5</span>,<span class=\"number\">.5</span>, near , far);    </div></pre></td></tr></table></figure></p>\n<p>data<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">0.0</span>, <span class=\"number\">0.6</span>, <span class=\"number\">-.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">    <span class=\"number\">-.45</span>, <span class=\"number\">-.4</span>, <span class=\"number\">-.51</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">0.5</span>, <span class=\"number\">-.4</span>, <span class=\"number\">-.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">.5</span>, <span class=\"number\">.4</span>, <span class=\"number\">-.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">-.5</span>, <span class=\"number\">.4</span>, <span class=\"number\">-.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.3</span>,</div><div class=\"line\">    <span class=\"number\">.0</span>, <span class=\"number\">-.6</span>, <span class=\"number\">-.2</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span></div><div class=\"line\">]);   </div></pre></td></tr></table></figure></p>\n<p>far.5,data-.51</p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li>&lt;&gt; <em> &lt;&gt; </em> &lt;&gt;</li>\n</ul>\n<p></p>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/4.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li>0</li>\n<li></li>\n</ul>\n<p><img width=\"300\" src=\"/webgl-2017-07-11/5.jpeg\"></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img width=\"500\" src=\"/webgl-2017-07-11/6.jpeg\"></p>\n<p></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> vertexShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 pos;</span></div><div class=\"line\"><span class=\"string\">    uniform mat4 u_mx;</span></div><div class=\"line\"><span class=\"string\">    attribute vec4 a_Color;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_Position = u_mx * pos;</span></div><div class=\"line\"><span class=\"string\">        v_Color = a_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> fragmentShaderSource = <span class=\"string\">`</span></div><div class=\"line\"><span class=\"string\">    precision lowp float;</span></div><div class=\"line\"><span class=\"string\">    varying vec4 v_Color;</span></div><div class=\"line\"><span class=\"string\">    void main()&#123;</span></div><div class=\"line\"><span class=\"string\">        gl_FragColor = v_Color;</span></div><div class=\"line\"><span class=\"string\">    &#125;</span></div><div class=\"line\"><span class=\"string\">`</span>   </div></pre></td></tr></table></figure>\n<p>program</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gl = canvas.getContext(<span class=\"string\">'webgl'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> program = initShader(gl,vertexShaderSource,fragmentShaderSource); </div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"><span class=\"comment\"> * </span></div><div class=\"line\"><span class=\"comment\"> * fov </span></div><div class=\"line\"><span class=\"comment\"> * aspect   </span></div><div class=\"line\"><span class=\"comment\"> * near  </span></div><div class=\"line\"><span class=\"comment\"> * far  </span></div><div class=\"line\"><span class=\"comment\"> */</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTS</span>(<span class=\"params\">fov,aspect,near,far</span>)</span>&#123;</div><div class=\"line\">    fov = fov * <span class=\"built_in\">Math</span>.PI / <span class=\"number\">180</span>; <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">        <span class=\"number\">1</span> / (aspect * <span class=\"built_in\">Math</span>.tan(fov / <span class=\"number\">2</span>)), <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">1</span> / <span class=\"built_in\">Math</span>.tan(fov / <span class=\"number\">2</span>), <span class=\"number\">0</span>, <span class=\"number\">0</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">0</span>, -(far + near) / (far - near), <span class=\"number\">-1</span>,</div><div class=\"line\">        <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">-2</span> * (far * near) / (far - near), <span class=\"number\">0</span></div><div class=\"line\">    ]);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>atadatabuffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">    <span class=\"number\">-0.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span></div><div class=\"line\"></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> buffer = gl.createBuffer();</div><div class=\"line\">gl.bindBuffer(gl.ARRAY_BUFFER, buffer);</div><div class=\"line\">gl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);</div></pre></td></tr></table></figure>\n<p>Location</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> posLocation = gl.getAttribLocation(program, <span class=\"string\">'pos'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> aColorLocation = gl.getAttribLocation(program, <span class=\"string\">'a_Color'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> uMXLocation = gl.getUniformLocation(program, <span class=\"string\">'u_mx'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> BYTES_SIZE = buffer_data.BYTES_PER_ELEMENT;</div><div class=\"line\"></div><div class=\"line\">gl.vertexAttribPointer(posLocation, <span class=\"number\">3</span>, gl.FLOAT, <span class=\"literal\">false</span>, BYTES_SIZE * <span class=\"number\">6</span>, <span class=\"number\">0</span>);</div><div class=\"line\">gl.vertexAttribPointer(aColorLocation, <span class=\"number\">3</span>, gl.FLOAT, <span class=\"literal\">false</span>, BYTES_SIZE * <span class=\"number\">6</span>, BYTES_SIZE * <span class=\"number\">3</span>);</div><div class=\"line\">gl.enableVertexAttribArray(posLocation);</div><div class=\"line\">gl.enableVertexAttribArray(aColorLocation);</div></pre></td></tr></table></figure>\n<p>getVMatrixmultiplyMatrixlib</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">draw</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    gl.clearColor(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>);</div><div class=\"line\"></div><div class=\"line\">    gl.clear(gl.COLOR_BUFFER_BIT);</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> mx = getTS(<span class=\"number\">30</span>, canvas.width / canvas.height, <span class=\"number\">1</span>, <span class=\"number\">100</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> vmx = getVMatrix(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">5</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">-100</span>);</div><div class=\"line\">    gl.uniformMatrix4fv(uMXLocation,<span class=\"literal\">false</span>,multiplyMatrix(mx,vmx));</div><div class=\"line\"></div><div class=\"line\">    gl.drawArrays(gl.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">12</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">draw();</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"400\" src=\"/webgl-2017-07-11/7.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>WebGL </li>\n<li></li>\n</ul>\n<p>data</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">0.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>, <span class=\"number\">1.0</span>,</div><div class=\"line\">    <span class=\"number\">-.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">    <span class=\"number\">-.75</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>,</div><div class=\"line\">    <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,</div><div class=\"line\">    <span class=\"number\">-0.25</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-.8</span>, <span class=\"number\">1.0</span>, <span class=\"number\">.4</span>, <span class=\"number\">.4</span>,</div><div class=\"line\"></div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<p><img width=\"400\" src=\"/webgl-2017-07-11/8.jpeg\"></p>\n<p>webgl</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">gl.enable(gl.DEPTH_TEST);</div><div class=\"line\">gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);</div></pre></td></tr></table></figure>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>WebGLZ fighting</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">gl.enable(gl.POLYGON_OFFSET_FILL);</div><div class=\"line\">gl.drawArrays(gl.TRIANGLES, <span class=\"number\">0</span>, <span class=\"number\">3</span>);</div><div class=\"line\">gl.polygonOffset(<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>);   </div><div class=\"line\">gl.drawArrays(gl.TRIANGLES, <span class=\"number\">3</span>, <span class=\"number\">3</span>);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"400\" src=\"/webgl-2017-07-11/9.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/11\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/11</a></p>"},{"title":"WebGL--","comments":1,"toc":true,"date":"2017-07-13T13:09:11.000Z","_content":"\n### \n\n* 8\n* 368\n* \n*  new Uint8Array(  ) \n\n\n\n* gl.drawElements(mode , count , type , offset)\n* mode \n* count \n* type \n* offset \n\n<!-- more -->\n\n\n\n8buffer\n\n{% codeblock lang:javascript %}\nvar buffer_data = new Float32Array([\n\t// \n\t1.0, 1.0, 1.0, 1.0, 1.0, 1.0, // v0 White\n\t-1.0, 1.0, 1.0, 1.0, 0.0, 1.0, // v1 Magenta\n\t-1.0, -1.0, 1.0, 1.0, 0.0, 0.0, // v2 Red\n\t1.0, -1.0, 1.0, 1.0, 1.0, 0.0, // v3 Yellow\n\t1.0, -1.0, -1.0, 0.0, 1.0, 0.0, // v4 Green\n\t1.0, 1.0, -1.0, 0.0, 1.0, 1.0, // v5 Cyan\n\t-1.0, 1.0, -1.0, 0.0, 0.0, 1.0, // v6 Blue\n\t-1.0, -1.0, -1.0, 0.0, 0.0, 0.0 // v7 Black\n]);\n\nvar buffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\ngl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);\n{% endcodeblock %}\n\nbufferbuffer\n\n{% codeblock lang:javascript %}\nvar indices = new Uint8Array([\n    0, 1, 2, 0, 2, 3, // \n    0, 3, 4, 0, 4, 5, // \n    0, 5, 6, 0, 6, 1, // \n    1, 6, 7, 1, 7, 2, // \n    7, 4, 3, 7, 3, 2, // \n    4, 7, 6, 4, 6, 5 // \n]);\nvar indexBuffer = gl.createBuffer();\n\ngl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuffer);\ngl.bufferData(gl.ELEMENT_ARRAY_BUFFER,indices,gl.STATIC_DRAW);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \nvar tsMX = getTS(30,1,1,100);\n\n// \nvar vMX = getVMatrix(3,3,7,0,0,0);\n\nvar mx = multiplyMatrix(tsMX,vMX);\n\ngl.uniformMatrix4fv(mxLocation,false,mx);\n{% endcodeblock %}\n\ngl.drawElements\n\n{% codeblock lang:javascript %}\ngl.drawElements(gl.TRIANGLES, indices.length,gl.UNSIGNED_BYTE,0);\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/1.jpeg\"/>\n\n### \n\n* \n* \n* \n\n\n\n{% codeblock lang:javascript %}\n\n// Create a cube\n//    v6----- v5\n//   /|      /|\n//  v1------v0|\n//  | |     | |\n//  | |v7---|-|v4\n//  |/      |/\n//  v2------v3\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/2.jpeg\"/>\n\n\n\n{% codeblock lang:javascript %}\nvar buffer_data = new Float32Array([\n\t1.0, 1.0, 1.0,  -1.0, 1.0, 1.0,  -1.0,-1.0, 1.0,   1.0,-1.0, 1.0,  // v0-v1-v2-v3 front\n\t 1.0, 1.0, 1.0,   1.0,-1.0, 1.0,   1.0,-1.0,-1.0,   1.0, 1.0,-1.0,  // v0-v3-v4-v5 right\n\t 1.0, 1.0, 1.0,   1.0, 1.0,-1.0,  -1.0, 1.0,-1.0,  -1.0, 1.0, 1.0,  // v0-v5-v6-v1 up\n\t-1.0, 1.0, 1.0,  -1.0, 1.0,-1.0,  -1.0,-1.0,-1.0,  -1.0,-1.0, 1.0,  // v1-v6-v7-v2 left\n\t-1.0,-1.0,-1.0,   1.0,-1.0,-1.0,   1.0,-1.0, 1.0,  -1.0,-1.0, 1.0,  // v7-v4-v3-v2 down\n\t 1.0,-1.0,-1.0,  -1.0,-1.0,-1.0,  -1.0, 1.0,-1.0,   1.0, 1.0,-1.0   // v4-v7-v6-v5 back\n]);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\nvar color_data = new Float32Array([\n    0.4, 0.4, 1.0,  0.4, 0.4, 1.0,  0.4, 0.4, 1.0,  0.4, 0.4, 1.0,  // v0-v1-v2-v3 front(blue)\n    0.4, 1.0, 0.4,  0.4, 1.0, 0.4,  0.4, 1.0, 0.4,  0.4, 1.0, 0.4,  // v0-v3-v4-v5 right(green)\n    1.0, 0.4, 0.4,  1.0, 0.4, 0.4,  1.0, 0.4, 0.4,  1.0, 0.4, 0.4,  // v0-v5-v6-v1 up(red)\n    1.0, 1.0, 0.4,  1.0, 1.0, 0.4,  1.0, 1.0, 0.4,  1.0, 1.0, 0.4,  // v1-v6-v7-v2 left\n    1.0, 1.0, 1.0,  1.0, 1.0, 1.0,  1.0, 1.0, 1.0,  1.0, 1.0, 1.0,  // v7-v4-v3-v2 down\n    0.4, 1.0, 1.0,  0.4, 1.0, 1.0,  0.4, 1.0, 1.0,  0.4, 1.0, 1.0   // v4-v7-v6-v5 back\n]);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \ngl.enable(gl.DEPTH_TEST);\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/3.jpeg\"/>\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/4.jpeg\"/>\n\n\n https://github.com/wqzwh/webgl-code/tree/master/12","source":"_posts/webgl-2017-07-13.md","raw":"---\ntitle: WebGL--\ncomments: true\ntoc: true\ndate: 2017-07-13 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n---\n\n### \n\n* 8\n* 368\n* \n*  new Uint8Array(  ) \n\n\n\n* gl.drawElements(mode , count , type , offset)\n* mode \n* count \n* type \n* offset \n\n<!-- more -->\n\n\n\n8buffer\n\n{% codeblock lang:javascript %}\nvar buffer_data = new Float32Array([\n\t// \n\t1.0, 1.0, 1.0, 1.0, 1.0, 1.0, // v0 White\n\t-1.0, 1.0, 1.0, 1.0, 0.0, 1.0, // v1 Magenta\n\t-1.0, -1.0, 1.0, 1.0, 0.0, 0.0, // v2 Red\n\t1.0, -1.0, 1.0, 1.0, 1.0, 0.0, // v3 Yellow\n\t1.0, -1.0, -1.0, 0.0, 1.0, 0.0, // v4 Green\n\t1.0, 1.0, -1.0, 0.0, 1.0, 1.0, // v5 Cyan\n\t-1.0, 1.0, -1.0, 0.0, 0.0, 1.0, // v6 Blue\n\t-1.0, -1.0, -1.0, 0.0, 0.0, 0.0 // v7 Black\n]);\n\nvar buffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\ngl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);\n{% endcodeblock %}\n\nbufferbuffer\n\n{% codeblock lang:javascript %}\nvar indices = new Uint8Array([\n    0, 1, 2, 0, 2, 3, // \n    0, 3, 4, 0, 4, 5, // \n    0, 5, 6, 0, 6, 1, // \n    1, 6, 7, 1, 7, 2, // \n    7, 4, 3, 7, 3, 2, // \n    4, 7, 6, 4, 6, 5 // \n]);\nvar indexBuffer = gl.createBuffer();\n\ngl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuffer);\ngl.bufferData(gl.ELEMENT_ARRAY_BUFFER,indices,gl.STATIC_DRAW);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \nvar tsMX = getTS(30,1,1,100);\n\n// \nvar vMX = getVMatrix(3,3,7,0,0,0);\n\nvar mx = multiplyMatrix(tsMX,vMX);\n\ngl.uniformMatrix4fv(mxLocation,false,mx);\n{% endcodeblock %}\n\ngl.drawElements\n\n{% codeblock lang:javascript %}\ngl.drawElements(gl.TRIANGLES, indices.length,gl.UNSIGNED_BYTE,0);\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/1.jpeg\"/>\n\n### \n\n* \n* \n* \n\n\n\n{% codeblock lang:javascript %}\n\n// Create a cube\n//    v6----- v5\n//   /|      /|\n//  v1------v0|\n//  | |     | |\n//  | |v7---|-|v4\n//  |/      |/\n//  v2------v3\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/2.jpeg\"/>\n\n\n\n{% codeblock lang:javascript %}\nvar buffer_data = new Float32Array([\n\t1.0, 1.0, 1.0,  -1.0, 1.0, 1.0,  -1.0,-1.0, 1.0,   1.0,-1.0, 1.0,  // v0-v1-v2-v3 front\n\t 1.0, 1.0, 1.0,   1.0,-1.0, 1.0,   1.0,-1.0,-1.0,   1.0, 1.0,-1.0,  // v0-v3-v4-v5 right\n\t 1.0, 1.0, 1.0,   1.0, 1.0,-1.0,  -1.0, 1.0,-1.0,  -1.0, 1.0, 1.0,  // v0-v5-v6-v1 up\n\t-1.0, 1.0, 1.0,  -1.0, 1.0,-1.0,  -1.0,-1.0,-1.0,  -1.0,-1.0, 1.0,  // v1-v6-v7-v2 left\n\t-1.0,-1.0,-1.0,   1.0,-1.0,-1.0,   1.0,-1.0, 1.0,  -1.0,-1.0, 1.0,  // v7-v4-v3-v2 down\n\t 1.0,-1.0,-1.0,  -1.0,-1.0,-1.0,  -1.0, 1.0,-1.0,   1.0, 1.0,-1.0   // v4-v7-v6-v5 back\n]);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\nvar color_data = new Float32Array([\n    0.4, 0.4, 1.0,  0.4, 0.4, 1.0,  0.4, 0.4, 1.0,  0.4, 0.4, 1.0,  // v0-v1-v2-v3 front(blue)\n    0.4, 1.0, 0.4,  0.4, 1.0, 0.4,  0.4, 1.0, 0.4,  0.4, 1.0, 0.4,  // v0-v3-v4-v5 right(green)\n    1.0, 0.4, 0.4,  1.0, 0.4, 0.4,  1.0, 0.4, 0.4,  1.0, 0.4, 0.4,  // v0-v5-v6-v1 up(red)\n    1.0, 1.0, 0.4,  1.0, 1.0, 0.4,  1.0, 1.0, 0.4,  1.0, 1.0, 0.4,  // v1-v6-v7-v2 left\n    1.0, 1.0, 1.0,  1.0, 1.0, 1.0,  1.0, 1.0, 1.0,  1.0, 1.0, 1.0,  // v7-v4-v3-v2 down\n    0.4, 1.0, 1.0,  0.4, 1.0, 1.0,  0.4, 1.0, 1.0,  0.4, 1.0, 1.0   // v4-v7-v6-v5 back\n]);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \ngl.enable(gl.DEPTH_TEST);\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/3.jpeg\"/>\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-13/4.jpeg\"/>\n\n\n https://github.com/wqzwh/webgl-code/tree/master/12","slug":"webgl-2017-07-13","published":1,"updated":"2017-11-09T10:24:07.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1jf001bsvldhmh6oggf","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>8</li>\n<li>368</li>\n<li></li>\n<li> new Uint8Array(  ) </li>\n</ul>\n<p></p>\n<ul>\n<li>gl.drawElements(mode , count , type , offset)</li>\n<li>mode </li>\n<li>count </li>\n<li>type </li>\n<li>offset </li>\n</ul>\n<a id=\"more\"></a>\n<p></p>\n<p>8buffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">\t<span class=\"comment\">// </span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v0 White</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v1 Magenta</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"comment\">// v2 Red</span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"comment\">// v3 Yellow</span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"comment\">// v4 Green</span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v5 Cyan</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v6 Blue</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span> <span class=\"comment\">// v7 Black</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> buffer = gl.createBuffer();</div><div class=\"line\">gl.bindBuffer(gl.ARRAY_BUFFER, buffer);</div><div class=\"line\"></div><div class=\"line\">gl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);</div></pre></td></tr></table></figure>\n<p>bufferbuffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> indices = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint8Array</span>([</div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">7</span>, <span class=\"number\">4</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">4</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span> <span class=\"comment\">// </span></div><div class=\"line\">]);</div><div class=\"line\"><span class=\"keyword\">var</span> indexBuffer = gl.createBuffer();</div><div class=\"line\"></div><div class=\"line\">gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuffer);</div><div class=\"line\">gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,indices,gl.STATIC_DRAW);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> tsMX = getTS(<span class=\"number\">30</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">100</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> vMX = getVMatrix(<span class=\"number\">3</span>,<span class=\"number\">3</span>,<span class=\"number\">7</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mx = multiplyMatrix(tsMX,vMX);</div><div class=\"line\"></div><div class=\"line\">gl.uniformMatrix4fv(mxLocation,<span class=\"literal\">false</span>,mx);</div></pre></td></tr></table></figure>\n<p>gl.drawElements</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">gl.drawElements(gl.TRIANGLES, indices.length,gl.UNSIGNED_BYTE,<span class=\"number\">0</span>);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Create a cube</span></div><div class=\"line\"><span class=\"comment\">//    v6----- v5</span></div><div class=\"line\"><span class=\"comment\">//   /|      /|</span></div><div class=\"line\"><span class=\"comment\">//  v1------v0|</span></div><div class=\"line\"><span class=\"comment\">//  | |     | |</span></div><div class=\"line\"><span class=\"comment\">//  | |v7---|-|v4</span></div><div class=\"line\"><span class=\"comment\">//  |/      |/</span></div><div class=\"line\"><span class=\"comment\">//  v2------v3</span></div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/2.jpeg\"></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v0-v1-v2-v3 front</span></div><div class=\"line\">\t <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"comment\">// v0-v3-v4-v5 right</span></div><div class=\"line\">\t <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v0-v5-v6-v1 up</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v1-v6-v7-v2 left</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v7-v4-v3-v2 down</span></div><div class=\"line\">\t <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>   <span class=\"comment\">// v4-v7-v6-v5 back</span></div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> color_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v0-v1-v2-v3 front(blue)</span></div><div class=\"line\">    <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"comment\">// v0-v3-v4-v5 right(green)</span></div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"comment\">// v0-v5-v6-v1 up(red)</span></div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"comment\">// v1-v6-v7-v2 left</span></div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v7-v4-v3-v2 down</span></div><div class=\"line\">    <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>   <span class=\"comment\">// v4-v7-v6-v5 back</span></div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">gl.enable(gl.DEPTH_TEST);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/3.jpeg\"></p>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/12\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/12</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>8</li>\n<li>368</li>\n<li></li>\n<li> new Uint8Array(  ) </li>\n</ul>\n<p></p>\n<ul>\n<li>gl.drawElements(mode , count , type , offset)</li>\n<li>mode </li>\n<li>count </li>\n<li>type </li>\n<li>offset </li>\n</ul>","more":"<p></p>\n<p>8buffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">\t<span class=\"comment\">// </span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v0 White</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v1 Magenta</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"comment\">// v2 Red</span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"comment\">// v3 Yellow</span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"comment\">// v4 Green</span></div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v5 Cyan</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"comment\">// v6 Blue</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">-1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span> <span class=\"comment\">// v7 Black</span></div><div class=\"line\">]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> buffer = gl.createBuffer();</div><div class=\"line\">gl.bindBuffer(gl.ARRAY_BUFFER, buffer);</div><div class=\"line\"></div><div class=\"line\">gl.bufferData(gl.ARRAY_BUFFER, buffer_data, gl.STATIC_DRAW);</div></pre></td></tr></table></figure>\n<p>bufferbuffer</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> indices = <span class=\"keyword\">new</span> <span class=\"built_in\">Uint8Array</span>([</div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">0</span>, <span class=\"number\">6</span>, <span class=\"number\">1</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">1</span>, <span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">7</span>, <span class=\"number\">4</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"number\">4</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span> <span class=\"comment\">// </span></div><div class=\"line\">]);</div><div class=\"line\"><span class=\"keyword\">var</span> indexBuffer = gl.createBuffer();</div><div class=\"line\"></div><div class=\"line\">gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuffer);</div><div class=\"line\">gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,indices,gl.STATIC_DRAW);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> tsMX = getTS(<span class=\"number\">30</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">100</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> vMX = getVMatrix(<span class=\"number\">3</span>,<span class=\"number\">3</span>,<span class=\"number\">7</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mx = multiplyMatrix(tsMX,vMX);</div><div class=\"line\"></div><div class=\"line\">gl.uniformMatrix4fv(mxLocation,<span class=\"literal\">false</span>,mx);</div></pre></td></tr></table></figure>\n<p>gl.drawElements</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">gl.drawElements(gl.TRIANGLES, indices.length,gl.UNSIGNED_BYTE,<span class=\"number\">0</span>);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Create a cube</span></div><div class=\"line\"><span class=\"comment\">//    v6----- v5</span></div><div class=\"line\"><span class=\"comment\">//   /|      /|</span></div><div class=\"line\"><span class=\"comment\">//  v1------v0|</span></div><div class=\"line\"><span class=\"comment\">//  | |     | |</span></div><div class=\"line\"><span class=\"comment\">//  | |v7---|-|v4</span></div><div class=\"line\"><span class=\"comment\">//  |/      |/</span></div><div class=\"line\"><span class=\"comment\">//  v2------v3</span></div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/2.jpeg\"></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> buffer_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">\t<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v0-v1-v2-v3 front</span></div><div class=\"line\">\t <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"comment\">// v0-v3-v4-v5 right</span></div><div class=\"line\">\t <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,   <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v0-v5-v6-v1 up</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v1-v6-v7-v2 left</span></div><div class=\"line\">\t<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v7-v4-v3-v2 down</span></div><div class=\"line\">\t <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,<span class=\"number\">-1.0</span>,  <span class=\"number\">-1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>,   <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,<span class=\"number\">-1.0</span>   <span class=\"comment\">// v4-v7-v6-v5 back</span></div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> color_data = <span class=\"keyword\">new</span> <span class=\"built_in\">Float32Array</span>([</div><div class=\"line\">    <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v0-v1-v2-v3 front(blue)</span></div><div class=\"line\">    <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"comment\">// v0-v3-v4-v5 right(green)</span></div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>, <span class=\"number\">0.4</span>,  <span class=\"comment\">// v0-v5-v6-v1 up(red)</span></div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.4</span>,  <span class=\"comment\">// v1-v6-v7-v2 left</span></div><div class=\"line\">    <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"comment\">// v7-v4-v3-v2 down</span></div><div class=\"line\">    <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>,  <span class=\"number\">0.4</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>   <span class=\"comment\">// v4-v7-v6-v5 back</span></div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">gl.enable(gl.DEPTH_TEST);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/3.jpeg\"></p>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-13/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/12\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/12</a></p>"},{"title":"Three.js--","comments":1,"toc":true,"date":"2017-07-14T13:09:11.000Z","_content":"\n### \n\n#### \n\n* \n* \n* \n\n#### \n\n* scene.add()  \n* scene.remove()  \n* scene.getChildByName()  \n\n#### \n\n* fog  \n* overrideMaterial  \n* children \n\n<!-- more -->\n\n\n\n{% codeblock lang:javascript %}\n// \nvar scene = new THREE.Scene();\n\n// \nvar camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, .1, 1000);\n\n// \nvar renderer = new THREE.WebGLRenderer();\n\nrenderer.setClearColor(new THREE.Color(0xEEEEEE, 1.0));\n\nrenderer.setSize(window.innerWidth, window.innerHeight);\n\n// \nrenderer.shadowMapEnabled = true;\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \nvar planeGeometry = new THREE.PlaneGeometry(60, 20, 1, 1);\n\n// \nvar planeMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });\nvar plane = new THREE.Mesh(planeGeometry, planeMaterial);\n\nplane.receiveShadow = true;\n\nplane.rotation.x = -.5 * Math.PI;\nplane.position.x = 16;\nplane.position.y = 0;\nplane.position.z = 0;\n\nscene.add(plane);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\ncamera.position.x = -30;\ncamera.position.y = 40;\ncamera.position.z = 30;\ncamera.lookAt(scene.position);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \nvar ambientLight = new THREE.AmbientLight(0x0c0c0c);\nscene.add(ambientLight);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, -10);\nspotLight.castShadow = true;\nscene.add(spotLight);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\ndocument.body.appendChild(renderer.domElement);\n\nrenderer.render(scene, camera);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\nfunction addCube() {\n\n  // \n  var cubeGeometry = new THREE.BoxGeometry(4, 4, 4);\n  var cubeMaterial = new THREE.MeshLambertMaterial({ color: 0xff0000 });\n  var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n\n  // cube.castShadow = true;\n\n  cube.position.x = -4 + Math.round(Math.random() * planeGeometry.parameters.width);\n  cube.position.y = 3 + Math.round(Math.random() * 5);\n  cube.position.z = 0 + Math.round(Math.random() * planeGeometry.parameters.height);\n\n  scene.add(cube);\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/01.jpeg\"/>\n\n### \n\n#### \n\n* THREE.Geometry   geom \n* geom.vertices \n* geom.faces \n\n#### \n\n* position \n* rotation \n* scale  x , y z \n* translateX x \n* translateY y \n* translateZ z \n\n\n\n{% codeblock lang:javascript %}\n// \n\nvar vertices = [\n  new THREE.Vector3(1, 3, 1),\n  new THREE.Vector3(1, 3, -1),\n  new THREE.Vector3(1, -1, 1),\n  new THREE.Vector3(1, -1, -1),\n  new THREE.Vector3(-1, 3, -1),\n  new THREE.Vector3(-1, 3, 1),\n  new THREE.Vector3(-1, -1, -1),\n  new THREE.Vector3(-1, -1, 1)\n];\n\n// \n\nvar faces = [\n\n  new THREE.Face3(0, 2, 1),\n  new THREE.Face3(2, 3, 1),\n\n  new THREE.Face3(4, 6, 5),\n  new THREE.Face3(6, 7, 5),\n\n  new THREE.Face3(4, 5, 1),\n  new THREE.Face3(5, 0, 1),\n\n  new THREE.Face3(7, 6, 2),\n  new THREE.Face3(6, 3, 2),\n\n  new THREE.Face3(5, 7, 0),\n  new THREE.Face3(7, 2, 0),\n\n  new THREE.Face3(1, 3, 4),\n  new THREE.Face3(3, 6, 4)\n];\n\nvar geom = new THREE.Geometry();\ngeom.vertices = vertices;\ngeom.faces = faces;\ngeom.computeFaceNormals();\n\nvar materials = [\n  new THREE.MeshLambertMaterial({\n    opacity: 0.5,\n    color: 0x44ff44,\n    transparent: true\n  }),\n  new THREE.MeshBasicMaterial({ color: 0x000000, wireframe: true })\n];\n\nvar mesh = THREE.SceneUtils.createMultiMaterialObject(geom, materials);\nmesh.children.forEach(function(e) {\n  e.castShadow = true;\n});\nscene.add(mesh);\n\ndocument.body.appendChild(renderer.domElement);\nrenderer.render(scene, camera);\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/2.jpeg\"/>\n\n### \n\n#### PerspectiveCamera\n\n* fov  \n* aspect   window.innerWidth / window.innerHeight \n* near  0.1 \n* far  1000  \n\n#### OrthographicCamera\n\n* left \n* right \n* top \n* bottom \n* near \n* far \n* camera.lookAt  \n\n\n\n{% codeblock lang:javascript %}\n\n// \nscene.fog = new THREE.Fog( 0xffffff, .005, 100 );\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/3.jpeg\"/>\n\n\n\n{% codeblock lang:javascript %}\nvar cubeGeometry = new THREE.BoxGeometry(4, 4, 4);\nfor (var j = 0; j < planeGeometry.parameters.height / 5; j++) {\n  for (var i = 0; i < planeGeometry.parameters.width / 5; i++) {\n    var rnd = Math.random() * 0.75 + 0.25;\n    var cubeMaterial = new THREE.MeshLambertMaterial();\n    cubeMaterial.color = new THREE.Color(rnd, 0, 0);\n    var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n    cube.position.z = -(planeGeometry.parameters.height / 2) + 2 + (j * 5);\n    cube.position.x = -(planeGeometry.parameters.width / 2) + 2 + (i * 5);\n    cube.position.y = 2;\n    scene.add(cube);\n  }\n}\n\n// \n\nvar controls = new function() {\n  this.perspective = 'Perspective';\n  this.switchCamera = function() {\n    if (camera instanceof THREE.PerspectiveCamera) {\n      camera = new THREE.OrthographicCamera(\n        window.innerWidth / -16,\n        window.innerWidth / 16,\n        window.innerHeight / 16,\n        window.innerHeight / -16, -200, 500\n      );\n      camera.position.x = -20;\n      camera.position.y = 60;\n      camera.position.z = 50;\n      camera.lookAt(scene.position);\n      this.perspective = 'Orthographic';\n    } else {\n      this.perspective = 'Perspective';\n      camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n      camera.position.x = -20;\n      camera.position.y = 60;\n      camera.position.z = 50;\n      camera.lookAt(scene.position);\n    }\n  }\n};\n\nsetInterval(function(){controls.switchCamera();},2000)\n\nfunction render() {\n  renderer.render(scene, camera);\n}\n\nrender();\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/13","source":"_posts/webgl-2017-07-14.md","raw":"---\ntitle: Three.js--\ncomments: true\ntoc: true\ndate: 2017-07-14 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n    - 'three.js'\n---\n\n### \n\n#### \n\n* \n* \n* \n\n#### \n\n* scene.add()  \n* scene.remove()  \n* scene.getChildByName()  \n\n#### \n\n* fog  \n* overrideMaterial  \n* children \n\n<!-- more -->\n\n\n\n{% codeblock lang:javascript %}\n// \nvar scene = new THREE.Scene();\n\n// \nvar camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, .1, 1000);\n\n// \nvar renderer = new THREE.WebGLRenderer();\n\nrenderer.setClearColor(new THREE.Color(0xEEEEEE, 1.0));\n\nrenderer.setSize(window.innerWidth, window.innerHeight);\n\n// \nrenderer.shadowMapEnabled = true;\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \nvar planeGeometry = new THREE.PlaneGeometry(60, 20, 1, 1);\n\n// \nvar planeMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });\nvar plane = new THREE.Mesh(planeGeometry, planeMaterial);\n\nplane.receiveShadow = true;\n\nplane.rotation.x = -.5 * Math.PI;\nplane.position.x = 16;\nplane.position.y = 0;\nplane.position.z = 0;\n\nscene.add(plane);\n{% endcodeblock %}\n\n\n{% codeblock lang:javascript %}\ncamera.position.x = -30;\ncamera.position.y = 40;\ncamera.position.z = 30;\ncamera.lookAt(scene.position);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\n// \nvar ambientLight = new THREE.AmbientLight(0x0c0c0c);\nscene.add(ambientLight);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, -10);\nspotLight.castShadow = true;\nscene.add(spotLight);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\ndocument.body.appendChild(renderer.domElement);\n\nrenderer.render(scene, camera);\n{% endcodeblock %}\n\n\n\n{% codeblock lang:javascript %}\nfunction addCube() {\n\n  // \n  var cubeGeometry = new THREE.BoxGeometry(4, 4, 4);\n  var cubeMaterial = new THREE.MeshLambertMaterial({ color: 0xff0000 });\n  var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n\n  // cube.castShadow = true;\n\n  cube.position.x = -4 + Math.round(Math.random() * planeGeometry.parameters.width);\n  cube.position.y = 3 + Math.round(Math.random() * 5);\n  cube.position.z = 0 + Math.round(Math.random() * planeGeometry.parameters.height);\n\n  scene.add(cube);\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/01.jpeg\"/>\n\n### \n\n#### \n\n* THREE.Geometry   geom \n* geom.vertices \n* geom.faces \n\n#### \n\n* position \n* rotation \n* scale  x , y z \n* translateX x \n* translateY y \n* translateZ z \n\n\n\n{% codeblock lang:javascript %}\n// \n\nvar vertices = [\n  new THREE.Vector3(1, 3, 1),\n  new THREE.Vector3(1, 3, -1),\n  new THREE.Vector3(1, -1, 1),\n  new THREE.Vector3(1, -1, -1),\n  new THREE.Vector3(-1, 3, -1),\n  new THREE.Vector3(-1, 3, 1),\n  new THREE.Vector3(-1, -1, -1),\n  new THREE.Vector3(-1, -1, 1)\n];\n\n// \n\nvar faces = [\n\n  new THREE.Face3(0, 2, 1),\n  new THREE.Face3(2, 3, 1),\n\n  new THREE.Face3(4, 6, 5),\n  new THREE.Face3(6, 7, 5),\n\n  new THREE.Face3(4, 5, 1),\n  new THREE.Face3(5, 0, 1),\n\n  new THREE.Face3(7, 6, 2),\n  new THREE.Face3(6, 3, 2),\n\n  new THREE.Face3(5, 7, 0),\n  new THREE.Face3(7, 2, 0),\n\n  new THREE.Face3(1, 3, 4),\n  new THREE.Face3(3, 6, 4)\n];\n\nvar geom = new THREE.Geometry();\ngeom.vertices = vertices;\ngeom.faces = faces;\ngeom.computeFaceNormals();\n\nvar materials = [\n  new THREE.MeshLambertMaterial({\n    opacity: 0.5,\n    color: 0x44ff44,\n    transparent: true\n  }),\n  new THREE.MeshBasicMaterial({ color: 0x000000, wireframe: true })\n];\n\nvar mesh = THREE.SceneUtils.createMultiMaterialObject(geom, materials);\nmesh.children.forEach(function(e) {\n  e.castShadow = true;\n});\nscene.add(mesh);\n\ndocument.body.appendChild(renderer.domElement);\nrenderer.render(scene, camera);\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/2.jpeg\"/>\n\n### \n\n#### PerspectiveCamera\n\n* fov  \n* aspect   window.innerWidth / window.innerHeight \n* near  0.1 \n* far  1000  \n\n#### OrthographicCamera\n\n* left \n* right \n* top \n* bottom \n* near \n* far \n* camera.lookAt  \n\n\n\n{% codeblock lang:javascript %}\n\n// \nscene.fog = new THREE.Fog( 0xffffff, .005, 100 );\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/3.jpeg\"/>\n\n\n\n{% codeblock lang:javascript %}\nvar cubeGeometry = new THREE.BoxGeometry(4, 4, 4);\nfor (var j = 0; j < planeGeometry.parameters.height / 5; j++) {\n  for (var i = 0; i < planeGeometry.parameters.width / 5; i++) {\n    var rnd = Math.random() * 0.75 + 0.25;\n    var cubeMaterial = new THREE.MeshLambertMaterial();\n    cubeMaterial.color = new THREE.Color(rnd, 0, 0);\n    var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n    cube.position.z = -(planeGeometry.parameters.height / 2) + 2 + (j * 5);\n    cube.position.x = -(planeGeometry.parameters.width / 2) + 2 + (i * 5);\n    cube.position.y = 2;\n    scene.add(cube);\n  }\n}\n\n// \n\nvar controls = new function() {\n  this.perspective = 'Perspective';\n  this.switchCamera = function() {\n    if (camera instanceof THREE.PerspectiveCamera) {\n      camera = new THREE.OrthographicCamera(\n        window.innerWidth / -16,\n        window.innerWidth / 16,\n        window.innerHeight / 16,\n        window.innerHeight / -16, -200, 500\n      );\n      camera.position.x = -20;\n      camera.position.y = 60;\n      camera.position.z = 50;\n      camera.lookAt(scene.position);\n      this.perspective = 'Orthographic';\n    } else {\n      this.perspective = 'Perspective';\n      camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n      camera.position.x = -20;\n      camera.position.y = 60;\n      camera.position.z = 50;\n      camera.lookAt(scene.position);\n    }\n  }\n};\n\nsetInterval(function(){controls.switchCamera();},2000)\n\nfunction render() {\n  renderer.render(scene, camera);\n}\n\nrender();\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-14/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/13","slug":"webgl-2017-07-14","published":1,"updated":"2017-11-12T11:21:30.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1jg001csvldhxt452cb","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>scene.add()  </li>\n<li>scene.remove()  </li>\n<li>scene.getChildByName()  </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>fog  </li>\n<li>overrideMaterial  </li>\n<li>children </li>\n</ul>\n<a id=\"more\"></a>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> scene = <span class=\"keyword\">new</span> THREE.Scene();</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">60</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">.1</span>, <span class=\"number\">1000</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> renderer = <span class=\"keyword\">new</span> THREE.WebGLRenderer();</div><div class=\"line\"></div><div class=\"line\">renderer.setClearColor(<span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0xEEEEEE</span>, <span class=\"number\">1.0</span>));</div><div class=\"line\"></div><div class=\"line\">renderer.setSize(<span class=\"built_in\">window</span>.innerWidth, <span class=\"built_in\">window</span>.innerHeight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">renderer.shadowMapEnabled = <span class=\"literal\">true</span>;</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> planeGeometry = <span class=\"keyword\">new</span> THREE.PlaneGeometry(<span class=\"number\">60</span>, <span class=\"number\">20</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> planeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0xffffff</span> &#125;);</div><div class=\"line\"><span class=\"keyword\">var</span> plane = <span class=\"keyword\">new</span> THREE.Mesh(planeGeometry, planeMaterial);</div><div class=\"line\"></div><div class=\"line\">plane.receiveShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">plane.rotation.x = <span class=\"number\">-.5</span> * <span class=\"built_in\">Math</span>.PI;</div><div class=\"line\">plane.position.x = <span class=\"number\">16</span>;</div><div class=\"line\">plane.position.y = <span class=\"number\">0</span>;</div><div class=\"line\">plane.position.z = <span class=\"number\">0</span>;</div><div class=\"line\"></div><div class=\"line\">scene.add(plane);</div></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">camera.position.x = <span class=\"number\">-30</span>;</div><div class=\"line\">camera.position.y = <span class=\"number\">40</span>;</div><div class=\"line\">camera.position.z = <span class=\"number\">30</span>;</div><div class=\"line\">camera.lookAt(scene.position);</div></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> ambientLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"number\">0x0c0c0c</span>);</div><div class=\"line\">scene.add(ambientLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">-10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">scene.add(spotLight);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">renderer.render(scene, camera);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCube</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">4</span>, <span class=\"number\">4</span>, <span class=\"number\">4</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0xff0000</span> &#125;);</div><div class=\"line\">  <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">// cube.castShadow = true;</span></div><div class=\"line\"></div><div class=\"line\">  cube.position.x = <span class=\"number\">-4</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * planeGeometry.parameters.width);</div><div class=\"line\">  cube.position.y = <span class=\"number\">3</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">5</span>);</div><div class=\"line\">  cube.position.z = <span class=\"number\">0</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * planeGeometry.parameters.height);</div><div class=\"line\"></div><div class=\"line\">  scene.add(cube);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/01.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>THREE.Geometry   geom </li>\n<li>geom.vertices </li>\n<li>geom.faces </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>position </li>\n<li>rotation </li>\n<li>scale  x , y z </li>\n<li>translateX x </li>\n<li>translateY y </li>\n<li>translateZ z </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> vertices = [</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">3</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>)</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> faces = [</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">5</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">0</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">3</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>)</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">geom.vertices = vertices;</div><div class=\"line\">geom.faces = faces;</div><div class=\"line\">geom.computeFaceNormals();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> materials = [</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123;</div><div class=\"line\">    opacity: <span class=\"number\">0.5</span>,</div><div class=\"line\">    color: <span class=\"number\">0x44ff44</span>,</div><div class=\"line\">    transparent: <span class=\"literal\">true</span></div><div class=\"line\">  &#125;),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.MeshBasicMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0x000000</span>, <span class=\"attr\">wireframe</span>: <span class=\"literal\">true</span> &#125;)</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mesh = THREE.SceneUtils.createMultiMaterialObject(geom, materials);</div><div class=\"line\">mesh.children.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">  e.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">&#125;);</div><div class=\"line\">scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\">renderer.render(scene, camera);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"PerspectiveCamera\"><a href=\"#PerspectiveCamera\" class=\"headerlink\" title=\"PerspectiveCamera\"></a>PerspectiveCamera</h4><ul>\n<li>fov  </li>\n<li>aspect   window.innerWidth / window.innerHeight </li>\n<li>near  0.1 </li>\n<li>far  1000  </li>\n</ul>\n<h4 id=\"OrthographicCamera\"><a href=\"#OrthographicCamera\" class=\"headerlink\" title=\"OrthographicCamera\"></a>OrthographicCamera</h4><ul>\n<li>left </li>\n<li>right </li>\n<li>top </li>\n<li>bottom </li>\n<li>near </li>\n<li>far </li>\n<li>camera.lookAt  </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">scene.fog = <span class=\"keyword\">new</span> THREE.Fog( <span class=\"number\">0xffffff</span>, <span class=\"number\">.005</span>, <span class=\"number\">100</span> );</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/3.jpeg\"></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">4</span>, <span class=\"number\">4</span>, <span class=\"number\">4</span>);</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; planeGeometry.parameters.height / <span class=\"number\">5</span>; j++) &#123;</div><div class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; planeGeometry.parameters.width / <span class=\"number\">5</span>; i++) &#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> rnd = <span class=\"built_in\">Math</span>.random() * <span class=\"number\">0.75</span> + <span class=\"number\">0.25</span>;</div><div class=\"line\">    <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial();</div><div class=\"line\">    cubeMaterial.color = <span class=\"keyword\">new</span> THREE.Color(rnd, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\">    cube.position.z = -(planeGeometry.parameters.height / <span class=\"number\">2</span>) + <span class=\"number\">2</span> + (j * <span class=\"number\">5</span>);</div><div class=\"line\">    cube.position.x = -(planeGeometry.parameters.width / <span class=\"number\">2</span>) + <span class=\"number\">2</span> + (i * <span class=\"number\">5</span>);</div><div class=\"line\">    cube.position.y = <span class=\"number\">2</span>;</div><div class=\"line\">    scene.add(cube);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> controls = <span class=\"keyword\">new</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.perspective = <span class=\"string\">'Perspective'</span>;</div><div class=\"line\">  <span class=\"keyword\">this</span>.switchCamera = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (camera <span class=\"keyword\">instanceof</span> THREE.PerspectiveCamera) &#123;</div><div class=\"line\">      camera = <span class=\"keyword\">new</span> THREE.OrthographicCamera(</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerWidth / <span class=\"number\">-16</span>,</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerWidth / <span class=\"number\">16</span>,</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerHeight / <span class=\"number\">16</span>,</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerHeight / <span class=\"number\">-16</span>, <span class=\"number\">-200</span>, <span class=\"number\">500</span></div><div class=\"line\">      );</div><div class=\"line\">      camera.position.x = <span class=\"number\">-20</span>;</div><div class=\"line\">      camera.position.y = <span class=\"number\">60</span>;</div><div class=\"line\">      camera.position.z = <span class=\"number\">50</span>;</div><div class=\"line\">      camera.lookAt(scene.position);</div><div class=\"line\">      <span class=\"keyword\">this</span>.perspective = <span class=\"string\">'Orthographic'</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">this</span>.perspective = <span class=\"string\">'Perspective'</span>;</div><div class=\"line\">      camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">45</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">0.1</span>, <span class=\"number\">1000</span>);</div><div class=\"line\">      camera.position.x = <span class=\"number\">-20</span>;</div><div class=\"line\">      camera.position.y = <span class=\"number\">60</span>;</div><div class=\"line\">      camera.position.z = <span class=\"number\">50</span>;</div><div class=\"line\">      camera.lookAt(scene.position);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\">setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;controls.switchCamera();&#125;,<span class=\"number\">2000</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  renderer.render(scene, camera);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">render();</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/13\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/13</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>scene.add()  </li>\n<li>scene.remove()  </li>\n<li>scene.getChildByName()  </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>fog  </li>\n<li>overrideMaterial  </li>\n<li>children </li>\n</ul>","more":"<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> scene = <span class=\"keyword\">new</span> THREE.Scene();</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">60</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">.1</span>, <span class=\"number\">1000</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> renderer = <span class=\"keyword\">new</span> THREE.WebGLRenderer();</div><div class=\"line\"></div><div class=\"line\">renderer.setClearColor(<span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0xEEEEEE</span>, <span class=\"number\">1.0</span>));</div><div class=\"line\"></div><div class=\"line\">renderer.setSize(<span class=\"built_in\">window</span>.innerWidth, <span class=\"built_in\">window</span>.innerHeight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">renderer.shadowMapEnabled = <span class=\"literal\">true</span>;</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> planeGeometry = <span class=\"keyword\">new</span> THREE.PlaneGeometry(<span class=\"number\">60</span>, <span class=\"number\">20</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> planeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0xffffff</span> &#125;);</div><div class=\"line\"><span class=\"keyword\">var</span> plane = <span class=\"keyword\">new</span> THREE.Mesh(planeGeometry, planeMaterial);</div><div class=\"line\"></div><div class=\"line\">plane.receiveShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">plane.rotation.x = <span class=\"number\">-.5</span> * <span class=\"built_in\">Math</span>.PI;</div><div class=\"line\">plane.position.x = <span class=\"number\">16</span>;</div><div class=\"line\">plane.position.y = <span class=\"number\">0</span>;</div><div class=\"line\">plane.position.z = <span class=\"number\">0</span>;</div><div class=\"line\"></div><div class=\"line\">scene.add(plane);</div></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">camera.position.x = <span class=\"number\">-30</span>;</div><div class=\"line\">camera.position.y = <span class=\"number\">40</span>;</div><div class=\"line\">camera.position.z = <span class=\"number\">30</span>;</div><div class=\"line\">camera.lookAt(scene.position);</div></pre></td></tr></table></figure></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> ambientLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"number\">0x0c0c0c</span>);</div><div class=\"line\">scene.add(ambientLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">-10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">scene.add(spotLight);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">renderer.render(scene, camera);</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCube</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">4</span>, <span class=\"number\">4</span>, <span class=\"number\">4</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0xff0000</span> &#125;);</div><div class=\"line\">  <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">// cube.castShadow = true;</span></div><div class=\"line\"></div><div class=\"line\">  cube.position.x = <span class=\"number\">-4</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * planeGeometry.parameters.width);</div><div class=\"line\">  cube.position.y = <span class=\"number\">3</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">5</span>);</div><div class=\"line\">  cube.position.z = <span class=\"number\">0</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * planeGeometry.parameters.height);</div><div class=\"line\"></div><div class=\"line\">  scene.add(cube);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/01.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>THREE.Geometry   geom </li>\n<li>geom.vertices </li>\n<li>geom.faces </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>position </li>\n<li>rotation </li>\n<li>scale  x , y z </li>\n<li>translateX x </li>\n<li>translateY y </li>\n<li>translateZ z </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> vertices = [</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">3</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Vector3(<span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>)</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> faces = [</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">4</span>, <span class=\"number\">6</span>, <span class=\"number\">5</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">5</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">1</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">7</span>, <span class=\"number\">6</span>, <span class=\"number\">2</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">0</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">7</span>, <span class=\"number\">2</span>, <span class=\"number\">0</span>),</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.Face3(<span class=\"number\">3</span>, <span class=\"number\">6</span>, <span class=\"number\">4</span>)</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">geom.vertices = vertices;</div><div class=\"line\">geom.faces = faces;</div><div class=\"line\">geom.computeFaceNormals();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> materials = [</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123;</div><div class=\"line\">    opacity: <span class=\"number\">0.5</span>,</div><div class=\"line\">    color: <span class=\"number\">0x44ff44</span>,</div><div class=\"line\">    transparent: <span class=\"literal\">true</span></div><div class=\"line\">  &#125;),</div><div class=\"line\">  <span class=\"keyword\">new</span> THREE.MeshBasicMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0x000000</span>, <span class=\"attr\">wireframe</span>: <span class=\"literal\">true</span> &#125;)</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mesh = THREE.SceneUtils.createMultiMaterialObject(geom, materials);</div><div class=\"line\">mesh.children.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">  e.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">&#125;);</div><div class=\"line\">scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\">renderer.render(scene, camera);</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"PerspectiveCamera\"><a href=\"#PerspectiveCamera\" class=\"headerlink\" title=\"PerspectiveCamera\"></a>PerspectiveCamera</h4><ul>\n<li>fov  </li>\n<li>aspect   window.innerWidth / window.innerHeight </li>\n<li>near  0.1 </li>\n<li>far  1000  </li>\n</ul>\n<h4 id=\"OrthographicCamera\"><a href=\"#OrthographicCamera\" class=\"headerlink\" title=\"OrthographicCamera\"></a>OrthographicCamera</h4><ul>\n<li>left </li>\n<li>right </li>\n<li>top </li>\n<li>bottom </li>\n<li>near </li>\n<li>far </li>\n<li>camera.lookAt  </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">scene.fog = <span class=\"keyword\">new</span> THREE.Fog( <span class=\"number\">0xffffff</span>, <span class=\"number\">.005</span>, <span class=\"number\">100</span> );</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/3.jpeg\"></p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">4</span>, <span class=\"number\">4</span>, <span class=\"number\">4</span>);</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; planeGeometry.parameters.height / <span class=\"number\">5</span>; j++) &#123;</div><div class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; planeGeometry.parameters.width / <span class=\"number\">5</span>; i++) &#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> rnd = <span class=\"built_in\">Math</span>.random() * <span class=\"number\">0.75</span> + <span class=\"number\">0.25</span>;</div><div class=\"line\">    <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial();</div><div class=\"line\">    cubeMaterial.color = <span class=\"keyword\">new</span> THREE.Color(rnd, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</div><div class=\"line\">    <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\">    cube.position.z = -(planeGeometry.parameters.height / <span class=\"number\">2</span>) + <span class=\"number\">2</span> + (j * <span class=\"number\">5</span>);</div><div class=\"line\">    cube.position.x = -(planeGeometry.parameters.width / <span class=\"number\">2</span>) + <span class=\"number\">2</span> + (i * <span class=\"number\">5</span>);</div><div class=\"line\">    cube.position.y = <span class=\"number\">2</span>;</div><div class=\"line\">    scene.add(cube);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> controls = <span class=\"keyword\">new</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.perspective = <span class=\"string\">'Perspective'</span>;</div><div class=\"line\">  <span class=\"keyword\">this</span>.switchCamera = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (camera <span class=\"keyword\">instanceof</span> THREE.PerspectiveCamera) &#123;</div><div class=\"line\">      camera = <span class=\"keyword\">new</span> THREE.OrthographicCamera(</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerWidth / <span class=\"number\">-16</span>,</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerWidth / <span class=\"number\">16</span>,</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerHeight / <span class=\"number\">16</span>,</div><div class=\"line\">        <span class=\"built_in\">window</span>.innerHeight / <span class=\"number\">-16</span>, <span class=\"number\">-200</span>, <span class=\"number\">500</span></div><div class=\"line\">      );</div><div class=\"line\">      camera.position.x = <span class=\"number\">-20</span>;</div><div class=\"line\">      camera.position.y = <span class=\"number\">60</span>;</div><div class=\"line\">      camera.position.z = <span class=\"number\">50</span>;</div><div class=\"line\">      camera.lookAt(scene.position);</div><div class=\"line\">      <span class=\"keyword\">this</span>.perspective = <span class=\"string\">'Orthographic'</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">this</span>.perspective = <span class=\"string\">'Perspective'</span>;</div><div class=\"line\">      camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">45</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">0.1</span>, <span class=\"number\">1000</span>);</div><div class=\"line\">      camera.position.x = <span class=\"number\">-20</span>;</div><div class=\"line\">      camera.position.y = <span class=\"number\">60</span>;</div><div class=\"line\">      camera.position.z = <span class=\"number\">50</span>;</div><div class=\"line\">      camera.lookAt(scene.position);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\">setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;controls.switchCamera();&#125;,<span class=\"number\">2000</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  renderer.render(scene, camera);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">render();</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-14/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/13\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/13</a></p>"},{"title":"Three.js--","comments":1,"toc":true,"date":"2017-07-16T13:09:11.000Z","_content":"\n### \n\n* \n* \n* \n* \n* \n* Phong \n* \n\n#### \n\n* id \n* name \n* opacity \n* transparent \n* overdraw \n* visible \n* needsUpdate \n* \n* \n\n<!-- more -->\n\n### \n\n* \n* \n* \n\n#### \n\n* color \n* wireframe  true \n* fog  \n\n\n\n{% codeblock lang:javascript %}\n\nvar shareObj = share();\n\nvar cubeGeometry = new THREE.BoxGeometry(5, 5, 5);\nvar cubeMaterial = new THREE.MeshLambertMaterial({ color: 0xff0000 });\nvar cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\ncube.castShadow = true;\n\n\nvar sphereGeometry = new THREE.SphereGeometry(5, 20, 20);\nvar sphereMaterial = new THREE.MeshLambertMaterial({ color: 0x770077,wireframe:true });\nvar sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\n\nsphere.position.set(0,3,2);\n\ncube.position = sphere.position;\n\nsphere.castShadow = true;\n\nshareObj.scene.add(sphere);\nshareObj.scene.add(cube);\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\nvar ambiLight = new THREE.AmbientLight('#1c1c1c');\nshareObj.scene.add(ambiLight);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40,60,10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n  cube.rotation.y  += 0.01;\n  sphere.rotation.y  += 0.01;\n  requestAnimationFrame(render);\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/1.jpeg\"/>\n\n### \n\n* \n* \n* \n\n#### \n\n* wireframe \n* writeframeLinewidth \n\n\n\n{% codeblock lang:javascript %}\n\nvar scene = new THREE.Scene;\nscene.overrideMaterial = new THREE.MeshDepthMaterial();\n\nvar camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 10, 130);\n\nvar renderer = new THREE.WebGLRenderer();\nrenderer.setClearColor(new THREE.Color(0x000000, 1.0));\nrenderer.setSize(window.innerWidth, window.innerHeight);\n\ncamera.position.set(-50, 40, 50);\ncamera.lookAt(scene.position);\n\n// \nfunction addCube() {\n  var cubeSize = Math.ceil(3 + (Math.random() * 3));\n  var cubeGeometry = new THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);\n  var cubeMaterial = new THREE.MeshLambertMaterial({\n    color: Math.random() * 0xffffff\n  });\n  var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n  cube.castShadow = true;\n  cube.position.set(\n    -60 + Math.round(Math.random() * 100),\n    Math.round(Math.random() * 10),\n    -100 + Math.round(Math.random() * 150)\n  );\n  scene.add(cube)\n}\n\n\nfor (var i = 0; i < 100; i++) {\n  addCube();\n}\n\ndocument.body.appendChild(renderer.domElement);\n\nrender();\n\nfunction render() {\n  requestAnimationFrame(render);\n\n  scene.traverse(function(e) {\n    if (e instanceof THREE.Mesh) {\n      e.rotation.x += 0.02;\n      e.rotation.y += 0.02;\n      e.rotation.z += 0.02;\n    }\n  });\n\n  renderer.render(scene, camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/2.jpeg\"/>\n\n### \n\n* \n*   THREE.SceneUtils.createMultiMaterialObject\n\n\n\n{% codeblock lang:javascript %}\nvar scene = new THREE.Scene;\nvar camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 10, 130);\n\nvar renderer = new THREE.WebGLRenderer();\nrenderer.setClearColor(new THREE.Color(0x000000, 1.0));\nrenderer.setSize(window.innerWidth, window.innerHeight);\n\ncamera.position.set(-50, 40, 50);\ncamera.lookAt(scene.position);\n\n// \nfunction addCube() {\n  var cubeSize = Math.ceil(3 + (Math.random() * 3));\n  var cubeGeometry = new THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);\n  // \n  var cubeMaterial = new THREE.MeshDepthMaterial();\n  // \n  var colorMaterial = new THREE.MeshBasicMaterial({\n      color:0x00ff00,\n      transparent:true,\n      blending:THREE.MultiplyBlending\n  });\n\n  var cube = new THREE.SceneUtils.createMultiMaterialObject(cubeGeometry,[\n     colorMaterial,cubeMaterial\n  ]);\n\n  cube.children[1].scale.set(0.99,0.99,0.99);\n  cube.castShadow = true;\n  cube.position.set(\n          -60 + Math.round(Math.random() * 100),\n          Math.round(Math.random() * 10),\n          -100 + Math.round(Math.random() * 150)\n\n  );\n\n  scene.add(cube);\n}\n\n\nfor (var i = 0; i < 100; i++) {\n  addCube();\n}\n\ndocument.body.appendChild(renderer.domElement);\n\nrender();\n\nfunction render() {\n  requestAnimationFrame(render);\n\n  scene.traverse(function(e) {\n    if (e instanceof THREE.Mesh) {\n      e.rotation.x += 0.02;\n      e.rotation.y += 0.02;\n      e.rotation.z += 0.02;\n    }\n  });\n\n  renderer.render(scene, camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/3.jpeg\"/>\n\n### \n\n* MeshNormalMaterial \n* \n\n#### \n\n* wireframe \n* wireframeLineWidth \n* shading \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nvar cubeGeometry = new THREE.BoxGeometry(5, 5, 5);\n// \nvar cubeMaterial = new THREE.MeshNormalMaterial({ color: 0x7777ff });\n\nvar cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n\nshareObj.scene.add(cube);\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\nvar ambiLight = new THREE.AmbientLight('#1c1c1c');\nshareObj.scene.add(ambiLight);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40,60,10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n  cube.rotation.y  += 0.01;\n  requestAnimationFrame(render);\n}\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/15\n","source":"_posts/webgl-2017-07-16.md","raw":"---\ntitle: Three.js--\ncomments: true\ntoc: true\ndate: 2017-07-16 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n    - 'three.js'\n---\n\n### \n\n* \n* \n* \n* \n* \n* Phong \n* \n\n#### \n\n* id \n* name \n* opacity \n* transparent \n* overdraw \n* visible \n* needsUpdate \n* \n* \n\n<!-- more -->\n\n### \n\n* \n* \n* \n\n#### \n\n* color \n* wireframe  true \n* fog  \n\n\n\n{% codeblock lang:javascript %}\n\nvar shareObj = share();\n\nvar cubeGeometry = new THREE.BoxGeometry(5, 5, 5);\nvar cubeMaterial = new THREE.MeshLambertMaterial({ color: 0xff0000 });\nvar cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\ncube.castShadow = true;\n\n\nvar sphereGeometry = new THREE.SphereGeometry(5, 20, 20);\nvar sphereMaterial = new THREE.MeshLambertMaterial({ color: 0x770077,wireframe:true });\nvar sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\n\nsphere.position.set(0,3,2);\n\ncube.position = sphere.position;\n\nsphere.castShadow = true;\n\nshareObj.scene.add(sphere);\nshareObj.scene.add(cube);\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\nvar ambiLight = new THREE.AmbientLight('#1c1c1c');\nshareObj.scene.add(ambiLight);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40,60,10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n  cube.rotation.y  += 0.01;\n  sphere.rotation.y  += 0.01;\n  requestAnimationFrame(render);\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/1.jpeg\"/>\n\n### \n\n* \n* \n* \n\n#### \n\n* wireframe \n* writeframeLinewidth \n\n\n\n{% codeblock lang:javascript %}\n\nvar scene = new THREE.Scene;\nscene.overrideMaterial = new THREE.MeshDepthMaterial();\n\nvar camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 10, 130);\n\nvar renderer = new THREE.WebGLRenderer();\nrenderer.setClearColor(new THREE.Color(0x000000, 1.0));\nrenderer.setSize(window.innerWidth, window.innerHeight);\n\ncamera.position.set(-50, 40, 50);\ncamera.lookAt(scene.position);\n\n// \nfunction addCube() {\n  var cubeSize = Math.ceil(3 + (Math.random() * 3));\n  var cubeGeometry = new THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);\n  var cubeMaterial = new THREE.MeshLambertMaterial({\n    color: Math.random() * 0xffffff\n  });\n  var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n  cube.castShadow = true;\n  cube.position.set(\n    -60 + Math.round(Math.random() * 100),\n    Math.round(Math.random() * 10),\n    -100 + Math.round(Math.random() * 150)\n  );\n  scene.add(cube)\n}\n\n\nfor (var i = 0; i < 100; i++) {\n  addCube();\n}\n\ndocument.body.appendChild(renderer.domElement);\n\nrender();\n\nfunction render() {\n  requestAnimationFrame(render);\n\n  scene.traverse(function(e) {\n    if (e instanceof THREE.Mesh) {\n      e.rotation.x += 0.02;\n      e.rotation.y += 0.02;\n      e.rotation.z += 0.02;\n    }\n  });\n\n  renderer.render(scene, camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/2.jpeg\"/>\n\n### \n\n* \n*   THREE.SceneUtils.createMultiMaterialObject\n\n\n\n{% codeblock lang:javascript %}\nvar scene = new THREE.Scene;\nvar camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 10, 130);\n\nvar renderer = new THREE.WebGLRenderer();\nrenderer.setClearColor(new THREE.Color(0x000000, 1.0));\nrenderer.setSize(window.innerWidth, window.innerHeight);\n\ncamera.position.set(-50, 40, 50);\ncamera.lookAt(scene.position);\n\n// \nfunction addCube() {\n  var cubeSize = Math.ceil(3 + (Math.random() * 3));\n  var cubeGeometry = new THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);\n  // \n  var cubeMaterial = new THREE.MeshDepthMaterial();\n  // \n  var colorMaterial = new THREE.MeshBasicMaterial({\n      color:0x00ff00,\n      transparent:true,\n      blending:THREE.MultiplyBlending\n  });\n\n  var cube = new THREE.SceneUtils.createMultiMaterialObject(cubeGeometry,[\n     colorMaterial,cubeMaterial\n  ]);\n\n  cube.children[1].scale.set(0.99,0.99,0.99);\n  cube.castShadow = true;\n  cube.position.set(\n          -60 + Math.round(Math.random() * 100),\n          Math.round(Math.random() * 10),\n          -100 + Math.round(Math.random() * 150)\n\n  );\n\n  scene.add(cube);\n}\n\n\nfor (var i = 0; i < 100; i++) {\n  addCube();\n}\n\ndocument.body.appendChild(renderer.domElement);\n\nrender();\n\nfunction render() {\n  requestAnimationFrame(render);\n\n  scene.traverse(function(e) {\n    if (e instanceof THREE.Mesh) {\n      e.rotation.x += 0.02;\n      e.rotation.y += 0.02;\n      e.rotation.z += 0.02;\n    }\n  });\n\n  renderer.render(scene, camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/3.jpeg\"/>\n\n### \n\n* MeshNormalMaterial \n* \n\n#### \n\n* wireframe \n* wireframeLineWidth \n* shading \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nvar cubeGeometry = new THREE.BoxGeometry(5, 5, 5);\n// \nvar cubeMaterial = new THREE.MeshNormalMaterial({ color: 0x7777ff });\n\nvar cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n\nshareObj.scene.add(cube);\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\nvar ambiLight = new THREE.AmbientLight('#1c1c1c');\nshareObj.scene.add(ambiLight);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40,60,10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n  cube.rotation.y  += 0.01;\n  requestAnimationFrame(render);\n}\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-16/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/15\n","slug":"webgl-2017-07-16","published":1,"updated":"2017-11-13T08:52:27.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1jj001esvldqpujewis","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Phong </li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>id </li>\n<li>name </li>\n<li>opacity </li>\n<li>transparent </li>\n<li>overdraw </li>\n<li>visible </li>\n<li>needsUpdate </li>\n<li></li>\n<li></li>\n</ul>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>wireframe  true </li>\n<li>fog  </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0xff0000</span> &#125;);</div><div class=\"line\"><span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\">cube.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> sphereGeometry = <span class=\"keyword\">new</span> THREE.SphereGeometry(<span class=\"number\">5</span>, <span class=\"number\">20</span>, <span class=\"number\">20</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> sphereMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0x770077</span>,<span class=\"attr\">wireframe</span>:<span class=\"literal\">true</span> &#125;);</div><div class=\"line\"><span class=\"keyword\">var</span> sphere = <span class=\"keyword\">new</span> THREE.Mesh(sphereGeometry, sphereMaterial);</div><div class=\"line\"></div><div class=\"line\">sphere.position.set(<span class=\"number\">0</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>);</div><div class=\"line\"></div><div class=\"line\">cube.position = sphere.position;</div><div class=\"line\"></div><div class=\"line\">sphere.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(sphere);</div><div class=\"line\">shareObj.scene.add(cube);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> ambiLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#1c1c1c'</span>);</div><div class=\"line\">shareObj.scene.add(ambiLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>,<span class=\"number\">60</span>,<span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\">  cube.rotation.y  += <span class=\"number\">0.01</span>;</div><div class=\"line\">  sphere.rotation.y  += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>wireframe </li>\n<li>writeframeLinewidth </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> scene = <span class=\"keyword\">new</span> THREE.Scene;</div><div class=\"line\">scene.overrideMaterial = <span class=\"keyword\">new</span> THREE.MeshDepthMaterial();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">50</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">10</span>, <span class=\"number\">130</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> renderer = <span class=\"keyword\">new</span> THREE.WebGLRenderer();</div><div class=\"line\">renderer.setClearColor(<span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x000000</span>, <span class=\"number\">1.0</span>));</div><div class=\"line\">renderer.setSize(<span class=\"built_in\">window</span>.innerWidth, <span class=\"built_in\">window</span>.innerHeight);</div><div class=\"line\"></div><div class=\"line\">camera.position.set(<span class=\"number\">-50</span>, <span class=\"number\">40</span>, <span class=\"number\">50</span>);</div><div class=\"line\">camera.lookAt(scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCube</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeSize = <span class=\"built_in\">Math</span>.ceil(<span class=\"number\">3</span> + (<span class=\"built_in\">Math</span>.random() * <span class=\"number\">3</span>));</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123;</div><div class=\"line\">    color: <span class=\"built_in\">Math</span>.random() * <span class=\"number\">0xffffff</span></div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\">  cube.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">  cube.position.set(</div><div class=\"line\">    <span class=\"number\">-60</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">100</span>),</div><div class=\"line\">    <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">10</span>),</div><div class=\"line\">    <span class=\"number\">-100</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">150</span>)</div><div class=\"line\">  );</div><div class=\"line\">  scene.add(cube)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</div><div class=\"line\">  addCube();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\">  scene.traverse(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (e <span class=\"keyword\">instanceof</span> THREE.Mesh) &#123;</div><div class=\"line\">      e.rotation.x += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.y += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.z += <span class=\"number\">0.02</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;);</div><div class=\"line\"></div><div class=\"line\">  renderer.render(scene, camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li>  THREE.SceneUtils.createMultiMaterialObject</li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> scene = <span class=\"keyword\">new</span> THREE.Scene;</div><div class=\"line\"><span class=\"keyword\">var</span> camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">45</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">10</span>, <span class=\"number\">130</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> renderer = <span class=\"keyword\">new</span> THREE.WebGLRenderer();</div><div class=\"line\">renderer.setClearColor(<span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x000000</span>, <span class=\"number\">1.0</span>));</div><div class=\"line\">renderer.setSize(<span class=\"built_in\">window</span>.innerWidth, <span class=\"built_in\">window</span>.innerHeight);</div><div class=\"line\"></div><div class=\"line\">camera.position.set(<span class=\"number\">-50</span>, <span class=\"number\">40</span>, <span class=\"number\">50</span>);</div><div class=\"line\">camera.lookAt(scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCube</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeSize = <span class=\"built_in\">Math</span>.ceil(<span class=\"number\">3</span> + (<span class=\"built_in\">Math</span>.random() * <span class=\"number\">3</span>));</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);</div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshDepthMaterial();</div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> colorMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial(&#123;</div><div class=\"line\">      color:<span class=\"number\">0x00ff00</span>,</div><div class=\"line\">      transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">      blending:THREE.MultiplyBlending</div><div class=\"line\">  &#125;);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.SceneUtils.createMultiMaterialObject(cubeGeometry,[</div><div class=\"line\">     colorMaterial,cubeMaterial</div><div class=\"line\">  ]);</div><div class=\"line\"></div><div class=\"line\">  cube.children[<span class=\"number\">1</span>].scale.set(<span class=\"number\">0.99</span>,<span class=\"number\">0.99</span>,<span class=\"number\">0.99</span>);</div><div class=\"line\">  cube.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">  cube.position.set(</div><div class=\"line\">          <span class=\"number\">-60</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">100</span>),</div><div class=\"line\">          <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">10</span>),</div><div class=\"line\">          <span class=\"number\">-100</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">150</span>)</div><div class=\"line\"></div><div class=\"line\">  );</div><div class=\"line\"></div><div class=\"line\">  scene.add(cube);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</div><div class=\"line\">  addCube();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\">  scene.traverse(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (e <span class=\"keyword\">instanceof</span> THREE.Mesh) &#123;</div><div class=\"line\">      e.rotation.x += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.y += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.z += <span class=\"number\">0.02</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;);</div><div class=\"line\"></div><div class=\"line\">  renderer.render(scene, camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>MeshNormalMaterial </li>\n<li></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>wireframe </li>\n<li>wireframeLineWidth </li>\n<li>shading </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>);</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0x7777ff</span> &#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(cube);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> ambiLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#1c1c1c'</span>);</div><div class=\"line\">shareObj.scene.add(ambiLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>,<span class=\"number\">60</span>,<span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\">  cube.rotation.y  += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/15\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/15</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>Phong </li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>id </li>\n<li>name </li>\n<li>opacity </li>\n<li>transparent </li>\n<li>overdraw </li>\n<li>visible </li>\n<li>needsUpdate </li>\n<li></li>\n<li></li>\n</ul>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>wireframe  true </li>\n<li>fog  </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0xff0000</span> &#125;);</div><div class=\"line\"><span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\">cube.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> sphereGeometry = <span class=\"keyword\">new</span> THREE.SphereGeometry(<span class=\"number\">5</span>, <span class=\"number\">20</span>, <span class=\"number\">20</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> sphereMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0x770077</span>,<span class=\"attr\">wireframe</span>:<span class=\"literal\">true</span> &#125;);</div><div class=\"line\"><span class=\"keyword\">var</span> sphere = <span class=\"keyword\">new</span> THREE.Mesh(sphereGeometry, sphereMaterial);</div><div class=\"line\"></div><div class=\"line\">sphere.position.set(<span class=\"number\">0</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>);</div><div class=\"line\"></div><div class=\"line\">cube.position = sphere.position;</div><div class=\"line\"></div><div class=\"line\">sphere.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(sphere);</div><div class=\"line\">shareObj.scene.add(cube);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> ambiLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#1c1c1c'</span>);</div><div class=\"line\">shareObj.scene.add(ambiLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>,<span class=\"number\">60</span>,<span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\">  cube.rotation.y  += <span class=\"number\">0.01</span>;</div><div class=\"line\">  sphere.rotation.y  += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>wireframe </li>\n<li>writeframeLinewidth </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> scene = <span class=\"keyword\">new</span> THREE.Scene;</div><div class=\"line\">scene.overrideMaterial = <span class=\"keyword\">new</span> THREE.MeshDepthMaterial();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">50</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">10</span>, <span class=\"number\">130</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> renderer = <span class=\"keyword\">new</span> THREE.WebGLRenderer();</div><div class=\"line\">renderer.setClearColor(<span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x000000</span>, <span class=\"number\">1.0</span>));</div><div class=\"line\">renderer.setSize(<span class=\"built_in\">window</span>.innerWidth, <span class=\"built_in\">window</span>.innerHeight);</div><div class=\"line\"></div><div class=\"line\">camera.position.set(<span class=\"number\">-50</span>, <span class=\"number\">40</span>, <span class=\"number\">50</span>);</div><div class=\"line\">camera.lookAt(scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCube</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeSize = <span class=\"built_in\">Math</span>.ceil(<span class=\"number\">3</span> + (<span class=\"built_in\">Math</span>.random() * <span class=\"number\">3</span>));</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshLambertMaterial(&#123;</div><div class=\"line\">    color: <span class=\"built_in\">Math</span>.random() * <span class=\"number\">0xffffff</span></div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\">  cube.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">  cube.position.set(</div><div class=\"line\">    <span class=\"number\">-60</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">100</span>),</div><div class=\"line\">    <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">10</span>),</div><div class=\"line\">    <span class=\"number\">-100</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">150</span>)</div><div class=\"line\">  );</div><div class=\"line\">  scene.add(cube)</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</div><div class=\"line\">  addCube();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\">  scene.traverse(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (e <span class=\"keyword\">instanceof</span> THREE.Mesh) &#123;</div><div class=\"line\">      e.rotation.x += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.y += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.z += <span class=\"number\">0.02</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;);</div><div class=\"line\"></div><div class=\"line\">  renderer.render(scene, camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li>  THREE.SceneUtils.createMultiMaterialObject</li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> scene = <span class=\"keyword\">new</span> THREE.Scene;</div><div class=\"line\"><span class=\"keyword\">var</span> camera = <span class=\"keyword\">new</span> THREE.PerspectiveCamera(<span class=\"number\">45</span>, <span class=\"built_in\">window</span>.innerWidth / <span class=\"built_in\">window</span>.innerHeight, <span class=\"number\">10</span>, <span class=\"number\">130</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> renderer = <span class=\"keyword\">new</span> THREE.WebGLRenderer();</div><div class=\"line\">renderer.setClearColor(<span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x000000</span>, <span class=\"number\">1.0</span>));</div><div class=\"line\">renderer.setSize(<span class=\"built_in\">window</span>.innerWidth, <span class=\"built_in\">window</span>.innerHeight);</div><div class=\"line\"></div><div class=\"line\">camera.position.set(<span class=\"number\">-50</span>, <span class=\"number\">40</span>, <span class=\"number\">50</span>);</div><div class=\"line\">camera.lookAt(scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addCube</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeSize = <span class=\"built_in\">Math</span>.ceil(<span class=\"number\">3</span> + (<span class=\"built_in\">Math</span>.random() * <span class=\"number\">3</span>));</div><div class=\"line\">  <span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);</div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshDepthMaterial();</div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> colorMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial(&#123;</div><div class=\"line\">      color:<span class=\"number\">0x00ff00</span>,</div><div class=\"line\">      transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">      blending:THREE.MultiplyBlending</div><div class=\"line\">  &#125;);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.SceneUtils.createMultiMaterialObject(cubeGeometry,[</div><div class=\"line\">     colorMaterial,cubeMaterial</div><div class=\"line\">  ]);</div><div class=\"line\"></div><div class=\"line\">  cube.children[<span class=\"number\">1</span>].scale.set(<span class=\"number\">0.99</span>,<span class=\"number\">0.99</span>,<span class=\"number\">0.99</span>);</div><div class=\"line\">  cube.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\">  cube.position.set(</div><div class=\"line\">          <span class=\"number\">-60</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">100</span>),</div><div class=\"line\">          <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">10</span>),</div><div class=\"line\">          <span class=\"number\">-100</span> + <span class=\"built_in\">Math</span>.round(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">150</span>)</div><div class=\"line\"></div><div class=\"line\">  );</div><div class=\"line\"></div><div class=\"line\">  scene.add(cube);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</div><div class=\"line\">  addCube();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\">  scene.traverse(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (e <span class=\"keyword\">instanceof</span> THREE.Mesh) &#123;</div><div class=\"line\">      e.rotation.x += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.y += <span class=\"number\">0.02</span>;</div><div class=\"line\">      e.rotation.z += <span class=\"number\">0.02</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;);</div><div class=\"line\"></div><div class=\"line\">  renderer.render(scene, camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>MeshNormalMaterial </li>\n<li></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>wireframe </li>\n<li>wireframeLineWidth </li>\n<li>shading </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> cubeGeometry = <span class=\"keyword\">new</span> THREE.BoxGeometry(<span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>);</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> cubeMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial(&#123; <span class=\"attr\">color</span>: <span class=\"number\">0x7777ff</span> &#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> cube = <span class=\"keyword\">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(cube);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> ambiLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#1c1c1c'</span>);</div><div class=\"line\">shareObj.scene.add(ambiLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>,<span class=\"number\">60</span>,<span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\">  cube.rotation.y  += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-16/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/15\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/15</a></p>"},{"title":"Three.js--","comments":1,"toc":true,"date":"2017-07-15T13:09:11.000Z","_content":"\n### \n\n#### \n\n* AmbientLight  \n* PointLight \n* SpotLight \n* DirectionalLight \n* HemisphereLight \n* AreaLight \n* LensFlare \n\n<!-- more -->\n\n### \n\n*  AmbientLight \n* \n* \n\n#### three.color \n\n* add(color)  \n* clone() \n\n\n\n{% codeblock lang:javascript %}\n// \nshareObj.scene.add(new THREE.AmbientLight('#f00'))\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/1.jpeg\"/>\n\n### \n\n*  PointLight \n* \n*  GPU \n\n#### \n\n* color \n* intensity \n* distance \n* position \n\n\n\n{% codeblock lang:javascript %}\n// \n\nvar pointLight = new THREE.PointLight(0xffffff);\npointLight.position.set(-40,60,10);\n\nshareObj.scene.add(pointLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render(){\n  requestAnimationFrame(render);\n  pointLight.position.z += 0.2;\n  shareObj.renderer.render(shareObj.scene,shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/2.jpeg\"/>\n\n### \n\n*  SpotLight \n* \n* \n\n#### \n\n* castShadow  true  \n* target \n* angle \n\n\n\n{% codeblock lang:javascript %}\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nspotLight.target = cube;\nspotLight.angle = Math.PI / 10;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nvar angleNUM = 3;\n\ndocument.onkeydown = function(event) {\n  console.log(event.keyCode);\n  switch (event.keyCode) {\n    case 38:\n      angleNUM += 1;\n      break;\n    case 40:\n      angleNUM -= 1;\n      if (angleNUM < 1) {\n        angleNUM = 1;\n      }\n      break;\n\n    case 37:\n      spotLight.position.x += 0.2;\n      break;\n    case 39:\n      spotLight.position.x -= 0.2;\n\n      break;\n  }\n};\n\nfunction render() {\n\n  spotLight.angle = Math.PI / angleNUM;\n  requestAnimationFrame(render);\n\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\nrender();\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/3.jpeg\"/>\n\n### \n\n*  DirectinalLight \n* \n\n#### \n\n* castShadowtarget  angle \n*  shadowCameraVisible shadowDarknessshadowMapWidth  shadowMapHeight \n\n\n\n{% codeblock lang:javascript %}\nvar ambiLight = new THREE.AmbientLight('#1c1c1c');\nshareObj.scene.add(ambiLight);\n\nvar target = new THREE.Object3D();\ntarget.position.set(5, 0, 0);\n\nvar directionalLight = new THREE.DirectionalLight('#ff5818');\ndirectionalLight.position.set(-40, 60, -11);\ndirectionalLight.castShadow = true;\n\ndirectionalLight.shadowCameraFar = 200;\ndirectionalLight.shadowCameraNear = 3;\n\ndirectionalLight.intensity = 0.5;\n\ndirectionalLight.shadowMapWidth = 1000;\ndirectionalLight.shadowMapHeight = 2000;\ndirectionalLight.target = target;\n\ndocument.body.appendChild(shareObj.renderer.domElement);\nshareObj.scene.add(directionalLight);\n\n\ndocument.onkeydown = function(event) {\n  switch (event.keyCode) {\n    case 37:\n      directionalLight.intensity += .1;\n      break;\n    case 39:\n      directionalLight.intensity -= .1;\n      if (directionalLight.intensity > 0) {\n        directionalLight.intensity = .1;\n      }\n\n      break;\n  }\n};\n\nrender();\n\nfunction render() {\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n  requestAnimationFrame(render);\n}\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/14","source":"_posts/webgl-2017-07-15.md","raw":"---\ntitle: Three.js--\ncomments: true\ntoc: true\ndate: 2017-07-15 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n    - 'three.js'\n---\n\n### \n\n#### \n\n* AmbientLight  \n* PointLight \n* SpotLight \n* DirectionalLight \n* HemisphereLight \n* AreaLight \n* LensFlare \n\n<!-- more -->\n\n### \n\n*  AmbientLight \n* \n* \n\n#### three.color \n\n* add(color)  \n* clone() \n\n\n\n{% codeblock lang:javascript %}\n// \nshareObj.scene.add(new THREE.AmbientLight('#f00'))\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/1.jpeg\"/>\n\n### \n\n*  PointLight \n* \n*  GPU \n\n#### \n\n* color \n* intensity \n* distance \n* position \n\n\n\n{% codeblock lang:javascript %}\n// \n\nvar pointLight = new THREE.PointLight(0xffffff);\npointLight.position.set(-40,60,10);\n\nshareObj.scene.add(pointLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render(){\n  requestAnimationFrame(render);\n  pointLight.position.z += 0.2;\n  shareObj.renderer.render(shareObj.scene,shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/2.jpeg\"/>\n\n### \n\n*  SpotLight \n* \n* \n\n#### \n\n* castShadow  true  \n* target \n* angle \n\n\n\n{% codeblock lang:javascript %}\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nspotLight.target = cube;\nspotLight.angle = Math.PI / 10;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nvar angleNUM = 3;\n\ndocument.onkeydown = function(event) {\n  console.log(event.keyCode);\n  switch (event.keyCode) {\n    case 38:\n      angleNUM += 1;\n      break;\n    case 40:\n      angleNUM -= 1;\n      if (angleNUM < 1) {\n        angleNUM = 1;\n      }\n      break;\n\n    case 37:\n      spotLight.position.x += 0.2;\n      break;\n    case 39:\n      spotLight.position.x -= 0.2;\n\n      break;\n  }\n};\n\nfunction render() {\n\n  spotLight.angle = Math.PI / angleNUM;\n  requestAnimationFrame(render);\n\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\nrender();\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/3.jpeg\"/>\n\n### \n\n*  DirectinalLight \n* \n\n#### \n\n* castShadowtarget  angle \n*  shadowCameraVisible shadowDarknessshadowMapWidth  shadowMapHeight \n\n\n\n{% codeblock lang:javascript %}\nvar ambiLight = new THREE.AmbientLight('#1c1c1c');\nshareObj.scene.add(ambiLight);\n\nvar target = new THREE.Object3D();\ntarget.position.set(5, 0, 0);\n\nvar directionalLight = new THREE.DirectionalLight('#ff5818');\ndirectionalLight.position.set(-40, 60, -11);\ndirectionalLight.castShadow = true;\n\ndirectionalLight.shadowCameraFar = 200;\ndirectionalLight.shadowCameraNear = 3;\n\ndirectionalLight.intensity = 0.5;\n\ndirectionalLight.shadowMapWidth = 1000;\ndirectionalLight.shadowMapHeight = 2000;\ndirectionalLight.target = target;\n\ndocument.body.appendChild(shareObj.renderer.domElement);\nshareObj.scene.add(directionalLight);\n\n\ndocument.onkeydown = function(event) {\n  switch (event.keyCode) {\n    case 37:\n      directionalLight.intensity += .1;\n      break;\n    case 39:\n      directionalLight.intensity -= .1;\n      if (directionalLight.intensity > 0) {\n        directionalLight.intensity = .1;\n      }\n\n      break;\n  }\n};\n\nrender();\n\nfunction render() {\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n  requestAnimationFrame(render);\n}\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-15/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/14","slug":"webgl-2017-07-15","published":1,"updated":"2017-11-12T13:56:17.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1jl001gsvld8m4r4oua","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>AmbientLight  </li>\n<li>PointLight </li>\n<li>SpotLight </li>\n<li>DirectionalLight </li>\n<li>HemisphereLight </li>\n<li>AreaLight </li>\n<li>LensFlare </li>\n</ul>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> AmbientLight </li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"three-color-\"><a href=\"#three-color-\" class=\"headerlink\" title=\"three.color \"></a>three.color </h4><ul>\n<li>add(color)  </li>\n<li>clone() </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">shareObj.scene.add(<span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#f00'</span>))</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> PointLight </li>\n<li></li>\n<li> GPU </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>intensity </li>\n<li>distance </li>\n<li>position </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> pointLight = <span class=\"keyword\">new</span> THREE.PointLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">pointLight.position.set(<span class=\"number\">-40</span>,<span class=\"number\">60</span>,<span class=\"number\">10</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(pointLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  pointLight.position.z += <span class=\"number\">0.2</span>;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene,shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> SpotLight </li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>castShadow  true  </li>\n<li>target </li>\n<li>angle </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">spotLight.target = cube;</div><div class=\"line\">spotLight.angle = <span class=\"built_in\">Math</span>.PI / <span class=\"number\">10</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> angleNUM = <span class=\"number\">3</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.onkeydown = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(event.keyCode);</div><div class=\"line\">  <span class=\"keyword\">switch</span> (event.keyCode) &#123;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">38</span>:</div><div class=\"line\">      angleNUM += <span class=\"number\">1</span>;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">40</span>:</div><div class=\"line\">      angleNUM -= <span class=\"number\">1</span>;</div><div class=\"line\">      <span class=\"keyword\">if</span> (angleNUM &lt; <span class=\"number\">1</span>) &#123;</div><div class=\"line\">        angleNUM = <span class=\"number\">1</span>;</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">37</span>:</div><div class=\"line\">      spotLight.position.x += <span class=\"number\">0.2</span>;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">39</span>:</div><div class=\"line\">      spotLight.position.x -= <span class=\"number\">0.2</span>;</div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  spotLight.angle = <span class=\"built_in\">Math</span>.PI / angleNUM;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">render();</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> DirectinalLight </li>\n<li></li>\n</ul>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>castShadowtarget  angle </li>\n<li> shadowCameraVisible shadowDarknessshadowMapWidth  shadowMapHeight </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> ambiLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#1c1c1c'</span>);</div><div class=\"line\">shareObj.scene.add(ambiLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> target = <span class=\"keyword\">new</span> THREE.Object3D();</div><div class=\"line\">target.position.set(<span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> directionalLight = <span class=\"keyword\">new</span> THREE.DirectionalLight(<span class=\"string\">'#ff5818'</span>);</div><div class=\"line\">directionalLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">-11</span>);</div><div class=\"line\">directionalLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">directionalLight.shadowCameraFar = <span class=\"number\">200</span>;</div><div class=\"line\">directionalLight.shadowCameraNear = <span class=\"number\">3</span>;</div><div class=\"line\"></div><div class=\"line\">directionalLight.intensity = <span class=\"number\">0.5</span>;</div><div class=\"line\"></div><div class=\"line\">directionalLight.shadowMapWidth = <span class=\"number\">1000</span>;</div><div class=\"line\">directionalLight.shadowMapHeight = <span class=\"number\">2000</span>;</div><div class=\"line\">directionalLight.target = target;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\">shareObj.scene.add(directionalLight);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.onkeydown = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">switch</span> (event.keyCode) &#123;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">37</span>:</div><div class=\"line\">      directionalLight.intensity += <span class=\"number\">.1</span>;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">39</span>:</div><div class=\"line\">      directionalLight.intensity -= <span class=\"number\">.1</span>;</div><div class=\"line\">      <span class=\"keyword\">if</span> (directionalLight.intensity &gt; <span class=\"number\">0</span>) &#123;</div><div class=\"line\">        directionalLight.intensity = <span class=\"number\">.1</span>;</div><div class=\"line\">      &#125;</div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/14\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/14</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>AmbientLight  </li>\n<li>PointLight </li>\n<li>SpotLight </li>\n<li>DirectionalLight </li>\n<li>HemisphereLight </li>\n<li>AreaLight </li>\n<li>LensFlare </li>\n</ul>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> AmbientLight </li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"three-color-\"><a href=\"#three-color-\" class=\"headerlink\" title=\"three.color \"></a>three.color </h4><ul>\n<li>add(color)  </li>\n<li>clone() </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\">shareObj.scene.add(<span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#f00'</span>))</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> PointLight </li>\n<li></li>\n<li> GPU </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>intensity </li>\n<li>distance </li>\n<li>position </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> pointLight = <span class=\"keyword\">new</span> THREE.PointLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">pointLight.position.set(<span class=\"number\">-40</span>,<span class=\"number\">60</span>,<span class=\"number\">10</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(pointLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  pointLight.position.z += <span class=\"number\">0.2</span>;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene,shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> SpotLight </li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>castShadow  true  </li>\n<li>target </li>\n<li>angle </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">spotLight.target = cube;</div><div class=\"line\">spotLight.angle = <span class=\"built_in\">Math</span>.PI / <span class=\"number\">10</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> angleNUM = <span class=\"number\">3</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.onkeydown = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(event.keyCode);</div><div class=\"line\">  <span class=\"keyword\">switch</span> (event.keyCode) &#123;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">38</span>:</div><div class=\"line\">      angleNUM += <span class=\"number\">1</span>;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">40</span>:</div><div class=\"line\">      angleNUM -= <span class=\"number\">1</span>;</div><div class=\"line\">      <span class=\"keyword\">if</span> (angleNUM &lt; <span class=\"number\">1</span>) &#123;</div><div class=\"line\">        angleNUM = <span class=\"number\">1</span>;</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">37</span>:</div><div class=\"line\">      spotLight.position.x += <span class=\"number\">0.2</span>;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">39</span>:</div><div class=\"line\">      spotLight.position.x -= <span class=\"number\">0.2</span>;</div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  spotLight.angle = <span class=\"built_in\">Math</span>.PI / angleNUM;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">render();</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li> DirectinalLight </li>\n<li></li>\n</ul>\n<h4 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>castShadowtarget  angle </li>\n<li> shadowCameraVisible shadowDarknessshadowMapWidth  shadowMapHeight </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> ambiLight = <span class=\"keyword\">new</span> THREE.AmbientLight(<span class=\"string\">'#1c1c1c'</span>);</div><div class=\"line\">shareObj.scene.add(ambiLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> target = <span class=\"keyword\">new</span> THREE.Object3D();</div><div class=\"line\">target.position.set(<span class=\"number\">5</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> directionalLight = <span class=\"keyword\">new</span> THREE.DirectionalLight(<span class=\"string\">'#ff5818'</span>);</div><div class=\"line\">directionalLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">-11</span>);</div><div class=\"line\">directionalLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">directionalLight.shadowCameraFar = <span class=\"number\">200</span>;</div><div class=\"line\">directionalLight.shadowCameraNear = <span class=\"number\">3</span>;</div><div class=\"line\"></div><div class=\"line\">directionalLight.intensity = <span class=\"number\">0.5</span>;</div><div class=\"line\"></div><div class=\"line\">directionalLight.shadowMapWidth = <span class=\"number\">1000</span>;</div><div class=\"line\">directionalLight.shadowMapHeight = <span class=\"number\">2000</span>;</div><div class=\"line\">directionalLight.target = target;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\">shareObj.scene.add(directionalLight);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.onkeydown = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">switch</span> (event.keyCode) &#123;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">37</span>:</div><div class=\"line\">      directionalLight.intensity += <span class=\"number\">.1</span>;</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">39</span>:</div><div class=\"line\">      directionalLight.intensity -= <span class=\"number\">.1</span>;</div><div class=\"line\">      <span class=\"keyword\">if</span> (directionalLight.intensity &gt; <span class=\"number\">0</span>) &#123;</div><div class=\"line\">        directionalLight.intensity = <span class=\"number\">.1</span>;</div><div class=\"line\">      &#125;</div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-15/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/14\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/14</a></p>"},{"title":"Three.js--","comments":1,"toc":true,"date":"2017-07-17T13:09:11.000Z","_content":"\n### \n\n####  PlaneGeometry\n\n* width \n* height \n* wSegments \n* hSegments \n\n\n\n<!-- more -->\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\nvar plane = createMesh(new THREE.PlaneGeometry(12, 15, 10, 15));\nshareObj.scene.add(plane);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  plane.rotation.x += 0.01;\n  plane.rotation.z += 0.01;\n  plane.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/1.jpeg\"/>\n\n####  CircleGeometry\n\n* radius \n* segments \n* start \n* length \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\nvar circle = createMesh(new THREE.CircleGeometry(4,10,0.3 * Math.PI, 0.3 * Math.PI));\nshareObj.scene.add(circle);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  circle.rotation.x += 0.01;\n  circle.rotation.z += 0.01;\n  circle.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/2.jpeg\"/>\n\n### \n\n####  SphereGeometry\n\n* radius \n* widthSegments \n* heightSegments \n* phistart  x \n* thetaStart  y \n* theLength \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\n// \nvar sphere = createMesh(new THREE.SphereGeometry(10,50,50,0,2 * Math.PI));\nshareObj.scene.add(sphere);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  sphere.rotation.x += 0.01;\n  sphere.rotation.z += 0.01;\n  sphere.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/3.jpeg\"/>\n\n####  CylinderGeometry\n\n* radiusTop \n* radiusBottom \n* height \n* segmentsX  x \n* segmentsY  y \n* segmentsZ  z \n* openEnded \n\n####  TorusGeometry \n\n* radius \n* tube \n* radialSegments \n* tubularSegments \n* arc \n\n####  TorusKnotGeometry\n\n* radius \n* tube \n* radialSegments \n* tubularSegments \n* detail \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\nvar mesh;\nvar sphere = createMesh(new THREE.SphereGeometry(10,50,50,0, 2 * Math.PI));\nvar cylinder = createMesh(new THREE.CylinderGeometry(20,20,20,20,100))\nvar torus = createMesh(new THREE.TorusGeometry(10,2,20,10,Math.PI * 2));\nvar knot = createMesh(new THREE.TorusKnotGeometry(10,1,64,8,2,9,1))\n\nmesh = sphere;\n\n$('#sphere').click(function(){\n    shareObj.scene.remove(mesh);\n    mesh = sphere;\n    shareObj.scene.add(mesh);\n\n\n});\n\n$('#cylinder').click(function(){\n    shareObj.scene.remove(mesh);\n\n    mesh = cylinder;\n    shareObj.scene.add(mesh);\n\n});\n\n$('#torus').click(function(){\n    shareObj.scene.remove(mesh);\n\n    mesh = torus;\n    shareObj.scene.add(mesh);\n\n});\n\n$('#knot').click(function(){\n    shareObj.scene.remove(mesh);\n\n    mesh = knot;\n    shareObj.scene.add(mesh);\n\n});\n\nshareObj.scene.add(mesh);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\n$(\"#webgl-scene\").append(shareObj.renderer.domElement)\n\nrender();\n\nfunction render() {\n  sphere.rotation.y += 0.01;\n\n  cylinder.rotation.y += 0.01;\n\n  torus.rotation.y += 0.01;\n\n  knot.rotation.y += 0.01;\n\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/4.jpeg\"/>\n\n### \n\n####  PolyhedronGeometry\n\n* vertices \n* faces \n* radius \n* detail \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\nvar vertices = [\n    1, 1, 1,\n    -1, -1, 1,\n    -1, 1, -1,\n    1, -1, -1\n];\n\nvar faces = [\n    2, 1, 0,\n    0, 3, 2,\n    1, 3, 0,\n    2, 3, 1\n];\n\n// \nvar polyhedron = createMesh(new THREE.PolyhedronGeometry(vertices,faces,10));\nshareObj.scene.add(polyhedron);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  polyhedron.rotation.x += 0.01;\n  polyhedron.rotation.z += 0.01;\n  polyhedron.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/5.jpeg\"/>\n\n#### \n\n* IcosahedronGeometry \n* TetrahedronGeometry \n* Octahedron \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\nvar mesh = null;\nvar size = 10;\nvar z20 = createMesh(new THREE.IcosahedronGeometry(size));\nvar z4 = createMesh(new THREE.TetrahedronGeometry(size));\nvar z8 = createMesh(new THREE.OctahedronGeometry(size));\nmesh = z20;\n\n$(\"#z4\").click(function(e){\n    shareObj.scene.remove(mesh);\n    mesh = z4;\n    shareObj.scene.add(mesh);\n})\n\n$(\"#z8\").click(function(e){\n    shareObj.scene.remove(mesh);\n    mesh = z8;\n    shareObj.scene.add(mesh);\n})\n\n$(\"#z20\").click(function(e){\n    shareObj.scene.remove(mesh);\n    mesh = z20;\n    shareObj.scene.add(mesh);\n})\nshareObj.scene.add(mesh);\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\n$(\"#webgl-scene\").append(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n\n  z4.rotation.y += 0.01;\n  z8.rotation.y += 0.01;\n  z20.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/6.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/16\n","source":"_posts/webgl-2017-07-17.md","raw":"---\ntitle: Three.js--\ncomments: true\ntoc: true\ndate: 2017-07-17 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n    - 'three.js'\n---\n\n### \n\n####  PlaneGeometry\n\n* width \n* height \n* wSegments \n* hSegments \n\n\n\n<!-- more -->\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\nvar plane = createMesh(new THREE.PlaneGeometry(12, 15, 10, 15));\nshareObj.scene.add(plane);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  plane.rotation.x += 0.01;\n  plane.rotation.z += 0.01;\n  plane.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/1.jpeg\"/>\n\n####  CircleGeometry\n\n* radius \n* segments \n* start \n* length \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\nvar circle = createMesh(new THREE.CircleGeometry(4,10,0.3 * Math.PI, 0.3 * Math.PI));\nshareObj.scene.add(circle);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  circle.rotation.x += 0.01;\n  circle.rotation.z += 0.01;\n  circle.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/2.jpeg\"/>\n\n### \n\n####  SphereGeometry\n\n* radius \n* widthSegments \n* heightSegments \n* phistart  x \n* thetaStart  y \n* theLength \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\n// \nvar sphere = createMesh(new THREE.SphereGeometry(10,50,50,0,2 * Math.PI));\nshareObj.scene.add(sphere);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  sphere.rotation.x += 0.01;\n  sphere.rotation.z += 0.01;\n  sphere.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/3.jpeg\"/>\n\n####  CylinderGeometry\n\n* radiusTop \n* radiusBottom \n* height \n* segmentsX  x \n* segmentsY  y \n* segmentsZ  z \n* openEnded \n\n####  TorusGeometry \n\n* radius \n* tube \n* radialSegments \n* tubularSegments \n* arc \n\n####  TorusKnotGeometry\n\n* radius \n* tube \n* radialSegments \n* tubularSegments \n* detail \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\nvar mesh;\nvar sphere = createMesh(new THREE.SphereGeometry(10,50,50,0, 2 * Math.PI));\nvar cylinder = createMesh(new THREE.CylinderGeometry(20,20,20,20,100))\nvar torus = createMesh(new THREE.TorusGeometry(10,2,20,10,Math.PI * 2));\nvar knot = createMesh(new THREE.TorusKnotGeometry(10,1,64,8,2,9,1))\n\nmesh = sphere;\n\n$('#sphere').click(function(){\n    shareObj.scene.remove(mesh);\n    mesh = sphere;\n    shareObj.scene.add(mesh);\n\n\n});\n\n$('#cylinder').click(function(){\n    shareObj.scene.remove(mesh);\n\n    mesh = cylinder;\n    shareObj.scene.add(mesh);\n\n});\n\n$('#torus').click(function(){\n    shareObj.scene.remove(mesh);\n\n    mesh = torus;\n    shareObj.scene.add(mesh);\n\n});\n\n$('#knot').click(function(){\n    shareObj.scene.remove(mesh);\n\n    mesh = knot;\n    shareObj.scene.add(mesh);\n\n});\n\nshareObj.scene.add(mesh);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\n$(\"#webgl-scene\").append(shareObj.renderer.domElement)\n\nrender();\n\nfunction render() {\n  sphere.rotation.y += 0.01;\n\n  cylinder.rotation.y += 0.01;\n\n  torus.rotation.y += 0.01;\n\n  knot.rotation.y += 0.01;\n\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/4.jpeg\"/>\n\n### \n\n####  PolyhedronGeometry\n\n* vertices \n* faces \n* radius \n* detail \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share();\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\nvar vertices = [\n    1, 1, 1,\n    -1, -1, 1,\n    -1, 1, -1,\n    1, -1, -1\n];\n\nvar faces = [\n    2, 1, 0,\n    0, 3, 2,\n    1, 3, 0,\n    2, 3, 1\n];\n\n// \nvar polyhedron = createMesh(new THREE.PolyhedronGeometry(vertices,faces,10));\nshareObj.scene.add(polyhedron);\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  polyhedron.rotation.x += 0.01;\n  polyhedron.rotation.z += 0.01;\n  polyhedron.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/5.jpeg\"/>\n\n#### \n\n* IcosahedronGeometry \n* TetrahedronGeometry \n* Octahedron \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(-25, 30, 25);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction createMesh(geom) {\n  var meshMaterial = new THREE.MeshNormalMaterial();\n  var wireFrameMaterial = new THREE.MeshBasicMaterial();\n  wireFrameMaterial.wireframe = true;\n  return THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);\n}\n\nvar mesh = null;\nvar size = 10;\nvar z20 = createMesh(new THREE.IcosahedronGeometry(size));\nvar z4 = createMesh(new THREE.TetrahedronGeometry(size));\nvar z8 = createMesh(new THREE.OctahedronGeometry(size));\nmesh = z20;\n\n$(\"#z4\").click(function(e){\n    shareObj.scene.remove(mesh);\n    mesh = z4;\n    shareObj.scene.add(mesh);\n})\n\n$(\"#z8\").click(function(e){\n    shareObj.scene.remove(mesh);\n    mesh = z8;\n    shareObj.scene.add(mesh);\n})\n\n$(\"#z20\").click(function(e){\n    shareObj.scene.remove(mesh);\n    mesh = z20;\n    shareObj.scene.add(mesh);\n})\nshareObj.scene.add(mesh);\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\n$(\"#webgl-scene\").append(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n\n  z4.rotation.y += 0.01;\n  z8.rotation.y += 0.01;\n  z20.rotation.y += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-17/6.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/16\n","slug":"webgl-2017-07-17","published":1,"updated":"2017-11-14T13:40:35.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1jn001jsvld9t8y1f4g","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-PlaneGeometry\"><a href=\"#-PlaneGeometry\" class=\"headerlink\" title=\" PlaneGeometry\"></a> PlaneGeometry</h4><ul>\n<li>width </li>\n<li>height </li>\n<li>wSegments </li>\n<li>hSegments </li>\n</ul>\n<p></p>\n<a id=\"more\"></a>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> plane = createMesh(<span class=\"keyword\">new</span> THREE.PlaneGeometry(<span class=\"number\">12</span>, <span class=\"number\">15</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>));</div><div class=\"line\">shareObj.scene.add(plane);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  plane.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  plane.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  plane.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/1.jpeg\"></p>\n<h4 id=\"-CircleGeometry\"><a href=\"#-CircleGeometry\" class=\"headerlink\" title=\" CircleGeometry\"></a> CircleGeometry</h4><ul>\n<li>radius </li>\n<li>segments </li>\n<li>start </li>\n<li>length </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> circle = createMesh(<span class=\"keyword\">new</span> THREE.CircleGeometry(<span class=\"number\">4</span>,<span class=\"number\">10</span>,<span class=\"number\">0.3</span> * <span class=\"built_in\">Math</span>.PI, <span class=\"number\">0.3</span> * <span class=\"built_in\">Math</span>.PI));</div><div class=\"line\">shareObj.scene.add(circle);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  circle.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  circle.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  circle.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-SphereGeometry\"><a href=\"#-SphereGeometry\" class=\"headerlink\" title=\" SphereGeometry\"></a> SphereGeometry</h4><ul>\n<li>radius </li>\n<li>widthSegments </li>\n<li>heightSegments </li>\n<li>phistart  x </li>\n<li>thetaStart  y </li>\n<li>theLength </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> sphere = createMesh(<span class=\"keyword\">new</span> THREE.SphereGeometry(<span class=\"number\">10</span>,<span class=\"number\">50</span>,<span class=\"number\">50</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span> * <span class=\"built_in\">Math</span>.PI));</div><div class=\"line\">shareObj.scene.add(sphere);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  sphere.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  sphere.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  sphere.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/3.jpeg\"></p>\n<h4 id=\"-CylinderGeometry\"><a href=\"#-CylinderGeometry\" class=\"headerlink\" title=\" CylinderGeometry\"></a> CylinderGeometry</h4><ul>\n<li>radiusTop </li>\n<li>radiusBottom </li>\n<li>height </li>\n<li>segmentsX  x </li>\n<li>segmentsY  y </li>\n<li>segmentsZ  z </li>\n<li>openEnded </li>\n</ul>\n<h4 id=\"TorusGeometry-\"><a href=\"#TorusGeometry-\" class=\"headerlink\" title=\"TorusGeometry \"></a>TorusGeometry </h4><ul>\n<li>radius </li>\n<li>tube </li>\n<li>radialSegments </li>\n<li>tubularSegments </li>\n<li>arc </li>\n</ul>\n<h4 id=\"-TorusKnotGeometry\"><a href=\"#-TorusKnotGeometry\" class=\"headerlink\" title=\" TorusKnotGeometry\"></a> TorusKnotGeometry</h4><ul>\n<li>radius </li>\n<li>tube </li>\n<li>radialSegments </li>\n<li>tubularSegments </li>\n<li>detail </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mesh;</div><div class=\"line\"><span class=\"keyword\">var</span> sphere = createMesh(<span class=\"keyword\">new</span> THREE.SphereGeometry(<span class=\"number\">10</span>,<span class=\"number\">50</span>,<span class=\"number\">50</span>,<span class=\"number\">0</span>, <span class=\"number\">2</span> * <span class=\"built_in\">Math</span>.PI));</div><div class=\"line\"><span class=\"keyword\">var</span> cylinder = createMesh(<span class=\"keyword\">new</span> THREE.CylinderGeometry(<span class=\"number\">20</span>,<span class=\"number\">20</span>,<span class=\"number\">20</span>,<span class=\"number\">20</span>,<span class=\"number\">100</span>))</div><div class=\"line\"><span class=\"keyword\">var</span> torus = createMesh(<span class=\"keyword\">new</span> THREE.TorusGeometry(<span class=\"number\">10</span>,<span class=\"number\">2</span>,<span class=\"number\">20</span>,<span class=\"number\">10</span>,<span class=\"built_in\">Math</span>.PI * <span class=\"number\">2</span>));</div><div class=\"line\"><span class=\"keyword\">var</span> knot = createMesh(<span class=\"keyword\">new</span> THREE.TorusKnotGeometry(<span class=\"number\">10</span>,<span class=\"number\">1</span>,<span class=\"number\">64</span>,<span class=\"number\">8</span>,<span class=\"number\">2</span>,<span class=\"number\">9</span>,<span class=\"number\">1</span>))</div><div class=\"line\"></div><div class=\"line\">mesh = sphere;</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#sphere'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = sphere;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#cylinder'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\"></div><div class=\"line\">    mesh = cylinder;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#torus'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\"></div><div class=\"line\">    mesh = torus;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#knot'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\"></div><div class=\"line\">    mesh = knot;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#webgl-scene\"</span>).append(shareObj.renderer.domElement)</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  sphere.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  cylinder.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  torus.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  knot.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/4.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-PolyhedronGeometry\"><a href=\"#-PolyhedronGeometry\" class=\"headerlink\" title=\" PolyhedronGeometry\"></a> PolyhedronGeometry</h4><ul>\n<li>vertices </li>\n<li>faces </li>\n<li>radius </li>\n<li>detail </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> vertices = [</div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>,</div><div class=\"line\">    <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>,</div><div class=\"line\">    <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">-1</span>,</div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span></div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> faces = [</div><div class=\"line\">    <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>,</div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>,</div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>,</div><div class=\"line\">    <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span></div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> polyhedron = createMesh(<span class=\"keyword\">new</span> THREE.PolyhedronGeometry(vertices,faces,<span class=\"number\">10</span>));</div><div class=\"line\">shareObj.scene.add(polyhedron);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  polyhedron.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  polyhedron.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  polyhedron.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/5.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>IcosahedronGeometry </li>\n<li>TetrahedronGeometry </li>\n<li>Octahedron </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mesh = <span class=\"literal\">null</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> size = <span class=\"number\">10</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> z20 = createMesh(<span class=\"keyword\">new</span> THREE.IcosahedronGeometry(size));</div><div class=\"line\"><span class=\"keyword\">var</span> z4 = createMesh(<span class=\"keyword\">new</span> THREE.TetrahedronGeometry(size));</div><div class=\"line\"><span class=\"keyword\">var</span> z8 = createMesh(<span class=\"keyword\">new</span> THREE.OctahedronGeometry(size));</div><div class=\"line\">mesh = z20;</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#z4\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = z4;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#z8\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = z8;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#z20\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = z20;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\">&#125;)</div><div class=\"line\">shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#webgl-scene\"</span>).append(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  z4.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  z8.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  z20.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/6.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/16\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/16</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-PlaneGeometry\"><a href=\"#-PlaneGeometry\" class=\"headerlink\" title=\" PlaneGeometry\"></a> PlaneGeometry</h4><ul>\n<li>width </li>\n<li>height </li>\n<li>wSegments </li>\n<li>hSegments </li>\n</ul>\n<p></p>","more":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> plane = createMesh(<span class=\"keyword\">new</span> THREE.PlaneGeometry(<span class=\"number\">12</span>, <span class=\"number\">15</span>, <span class=\"number\">10</span>, <span class=\"number\">15</span>));</div><div class=\"line\">shareObj.scene.add(plane);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  plane.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  plane.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  plane.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/1.jpeg\"></p>\n<h4 id=\"-CircleGeometry\"><a href=\"#-CircleGeometry\" class=\"headerlink\" title=\" CircleGeometry\"></a> CircleGeometry</h4><ul>\n<li>radius </li>\n<li>segments </li>\n<li>start </li>\n<li>length </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> circle = createMesh(<span class=\"keyword\">new</span> THREE.CircleGeometry(<span class=\"number\">4</span>,<span class=\"number\">10</span>,<span class=\"number\">0.3</span> * <span class=\"built_in\">Math</span>.PI, <span class=\"number\">0.3</span> * <span class=\"built_in\">Math</span>.PI));</div><div class=\"line\">shareObj.scene.add(circle);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  circle.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  circle.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  circle.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/2.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-SphereGeometry\"><a href=\"#-SphereGeometry\" class=\"headerlink\" title=\" SphereGeometry\"></a> SphereGeometry</h4><ul>\n<li>radius </li>\n<li>widthSegments </li>\n<li>heightSegments </li>\n<li>phistart  x </li>\n<li>thetaStart  y </li>\n<li>theLength </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> sphere = createMesh(<span class=\"keyword\">new</span> THREE.SphereGeometry(<span class=\"number\">10</span>,<span class=\"number\">50</span>,<span class=\"number\">50</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span> * <span class=\"built_in\">Math</span>.PI));</div><div class=\"line\">shareObj.scene.add(sphere);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  sphere.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  sphere.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  sphere.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/3.jpeg\"></p>\n<h4 id=\"-CylinderGeometry\"><a href=\"#-CylinderGeometry\" class=\"headerlink\" title=\" CylinderGeometry\"></a> CylinderGeometry</h4><ul>\n<li>radiusTop </li>\n<li>radiusBottom </li>\n<li>height </li>\n<li>segmentsX  x </li>\n<li>segmentsY  y </li>\n<li>segmentsZ  z </li>\n<li>openEnded </li>\n</ul>\n<h4 id=\"TorusGeometry-\"><a href=\"#TorusGeometry-\" class=\"headerlink\" title=\"TorusGeometry \"></a>TorusGeometry </h4><ul>\n<li>radius </li>\n<li>tube </li>\n<li>radialSegments </li>\n<li>tubularSegments </li>\n<li>arc </li>\n</ul>\n<h4 id=\"-TorusKnotGeometry\"><a href=\"#-TorusKnotGeometry\" class=\"headerlink\" title=\" TorusKnotGeometry\"></a> TorusKnotGeometry</h4><ul>\n<li>radius </li>\n<li>tube </li>\n<li>radialSegments </li>\n<li>tubularSegments </li>\n<li>detail </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mesh;</div><div class=\"line\"><span class=\"keyword\">var</span> sphere = createMesh(<span class=\"keyword\">new</span> THREE.SphereGeometry(<span class=\"number\">10</span>,<span class=\"number\">50</span>,<span class=\"number\">50</span>,<span class=\"number\">0</span>, <span class=\"number\">2</span> * <span class=\"built_in\">Math</span>.PI));</div><div class=\"line\"><span class=\"keyword\">var</span> cylinder = createMesh(<span class=\"keyword\">new</span> THREE.CylinderGeometry(<span class=\"number\">20</span>,<span class=\"number\">20</span>,<span class=\"number\">20</span>,<span class=\"number\">20</span>,<span class=\"number\">100</span>))</div><div class=\"line\"><span class=\"keyword\">var</span> torus = createMesh(<span class=\"keyword\">new</span> THREE.TorusGeometry(<span class=\"number\">10</span>,<span class=\"number\">2</span>,<span class=\"number\">20</span>,<span class=\"number\">10</span>,<span class=\"built_in\">Math</span>.PI * <span class=\"number\">2</span>));</div><div class=\"line\"><span class=\"keyword\">var</span> knot = createMesh(<span class=\"keyword\">new</span> THREE.TorusKnotGeometry(<span class=\"number\">10</span>,<span class=\"number\">1</span>,<span class=\"number\">64</span>,<span class=\"number\">8</span>,<span class=\"number\">2</span>,<span class=\"number\">9</span>,<span class=\"number\">1</span>))</div><div class=\"line\"></div><div class=\"line\">mesh = sphere;</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#sphere'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = sphere;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#cylinder'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\"></div><div class=\"line\">    mesh = cylinder;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#torus'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\"></div><div class=\"line\">    mesh = torus;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">'#knot'</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\"></div><div class=\"line\">    mesh = knot;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#webgl-scene\"</span>).append(shareObj.renderer.domElement)</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  sphere.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  cylinder.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  torus.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  knot.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/4.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-PolyhedronGeometry\"><a href=\"#-PolyhedronGeometry\" class=\"headerlink\" title=\" PolyhedronGeometry\"></a> PolyhedronGeometry</h4><ul>\n<li>vertices </li>\n<li>faces </li>\n<li>radius </li>\n<li>detail </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share();</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> vertices = [</div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>,</div><div class=\"line\">    <span class=\"number\">-1</span>, <span class=\"number\">-1</span>, <span class=\"number\">1</span>,</div><div class=\"line\">    <span class=\"number\">-1</span>, <span class=\"number\">1</span>, <span class=\"number\">-1</span>,</div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span></div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> faces = [</div><div class=\"line\">    <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>,</div><div class=\"line\">    <span class=\"number\">0</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>,</div><div class=\"line\">    <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>,</div><div class=\"line\">    <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span></div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">var</span> polyhedron = createMesh(<span class=\"keyword\">new</span> THREE.PolyhedronGeometry(vertices,faces,<span class=\"number\">10</span>));</div><div class=\"line\">shareObj.scene.add(polyhedron);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  polyhedron.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  polyhedron.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  polyhedron.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/5.jpeg\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>IcosahedronGeometry </li>\n<li>TetrahedronGeometry </li>\n<li>Octahedron </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">-25</span>, <span class=\"number\">30</span>, <span class=\"number\">25</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createMesh</span>(<span class=\"params\">geom</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> meshMaterial = <span class=\"keyword\">new</span> THREE.MeshNormalMaterial();</div><div class=\"line\">  <span class=\"keyword\">var</span> wireFrameMaterial = <span class=\"keyword\">new</span> THREE.MeshBasicMaterial();</div><div class=\"line\">  wireFrameMaterial.wireframe = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMaterial]);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> mesh = <span class=\"literal\">null</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> size = <span class=\"number\">10</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> z20 = createMesh(<span class=\"keyword\">new</span> THREE.IcosahedronGeometry(size));</div><div class=\"line\"><span class=\"keyword\">var</span> z4 = createMesh(<span class=\"keyword\">new</span> THREE.TetrahedronGeometry(size));</div><div class=\"line\"><span class=\"keyword\">var</span> z8 = createMesh(<span class=\"keyword\">new</span> THREE.OctahedronGeometry(size));</div><div class=\"line\">mesh = z20;</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#z4\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = z4;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#z8\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = z8;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#z20\"</span>).click(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    shareObj.scene.remove(mesh);</div><div class=\"line\">    mesh = z20;</div><div class=\"line\">    shareObj.scene.add(mesh);</div><div class=\"line\">&#125;)</div><div class=\"line\">shareObj.scene.add(mesh);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\">$(<span class=\"string\">\"#webgl-scene\"</span>).append(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  z4.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  z8.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  z20.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-17/6.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/16\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/16</a></p>"},{"title":"Three.js--","comments":1,"toc":true,"date":"2017-07-18T13:09:11.000Z","_content":"\n### \n\n#### \n\n*  THREE.Particle \n*  CanvasRenderer \n* WebGLRenderer  THREE.ParticleSystem \n\n#### \n\n* color \n* map \n* size \n\n<!-- more -->\n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 115);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\ncreateSprites();\nvar cloud;\n// \nfunction createSprites(){\n  var geom = new THREE.Geometry();\n  var material = new THREE.PointsMaterial({\n    size:5,\n    vertexColors:true,\n    opacity:.5,\n    transparent:true,\n    sizeAttenuation:true,\n    color:0xffffff\n  });\n  for(var x = -5;x<5;x++){\n    for(var y = -5;y<5;y++){\n      var particle = new THREE.Vector3(x*10,y*10,0);\n      geom.vertices.push(particle);\n      var color = new THREE.Color(0x00ffff);\n      color.setHSL(color.getHSL().h,color.getHSL().s,Math.random() * color.getHSL().l);\n      geom.colors.push(color);\n    }\n  }\n  cloud = new THREE.Points(geom,material);\n  shareObj.scene.add(cloud);\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  cloud.rotation.x += 0.01;\n  cloud.rotation.y += 0.01;\n  cloud.rotation.z += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/1.jpeg\"/>\n\n### \n\n#### ParticleCanvasMaterial \n\n* color \n* program \n* opacity \n* transparent  \n\n#### WebGLRenderer \n\n*  ParticleCanvasMaterial\n*  ParticleBasicMaterial\n*  map canvas\n\n#### \n\n* ImageUtils.loadTexture \n*  map \n*  blending \n\ncanvas\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 65);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction getTexture(){\n  var canvas = document.createElement('canvas');\n  canvas.width = 32;\n  canvas.height = 32;\n\n  var ctx = canvas.getContext('2d');\n  ctx.translate(-81,-84);\n  ctx.fillStyle = 'white';\n  ctx.beginPath();\n  ctx.moveTo(91,96);\n  ctx.bezierCurveTo(88,96,87,99,87,101);\n  ctx.bezierCurveTo(87,103,88,106,91,106);\n  ctx.bezierCurveTo(94,106,95,103,95,101);\n  ctx.bezierCurveTo(95,99,94,96,91,96);\n\n  ctx.moveTo(103,96);\n  ctx.bezierCurveTo(100,96,99,99,99,101);\n  ctx.bezierCurveTo(99,103,100,106,103,106);\n  ctx.bezierCurveTo(106,106,107,103,107,101)\n  ctx.bezierCurveTo(107,99,106,96,103,96);\n\n  ctx.fill();\n\n  var texture = new THREE.Texture(canvas);\n  texture.needsUpdate = true;\n  return texture;\n\n}\n\ncreateSprites();\nvar cloud;\n// \nfunction createSprites(){\n  var geom = new THREE.Geometry();\n  var material = new THREE.PointsMaterial({\n    size:5,\n    vertexColors:true,\n    opacity:.5,\n    transparent:true,\n    sizeAttenuation:true,\n    color:0xffffff,\n    map: getTexture()\n  });\n  for(var x = -5;x<5;x++){\n    for(var y = -5;y<5;y++){\n      var particle = new THREE.Vector3(x*10,y*10,0);\n      geom.vertices.push(particle);\n      var color = new THREE.Color(0x00ffff);\n      color.setHSL(color.getHSL().h,color.getHSL().s,Math.random() * color.getHSL().l);\n      geom.colors.push(color);\n    }\n  }\n  cloud = new THREE.Points(geom,material);\n  shareObj.scene.add(cloud);\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  cloud.rotation.x += 0.01;\n  cloud.rotation.y += 0.01;\n  cloud.rotation.z += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/2.jpeg\"/>\n\npng\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 65);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\ncreateSprites();\nvar cloud;\n// \nfunction createSprites(){\n  if(cloud){\n      shareObj.scene.remove(cloud);\n  }\n  var texture = new THREE.ImageUtils.loadTexture('./yudi.png');\n  var geom = new THREE.Geometry();\n  var material = new THREE.PointsMaterial({\n    size:10,\n    transparent:true,\n    opacity : 0.3,\n    map:texture,\n    // blending:THREE.AdditiveBlending,\n    sizeAttenuation:true,\n    color:0xffffff\n  });\n  var range = 600;\n  for(var i = 0;i<1000;i++){\n      var particle = new THREE.Vector3(\n        Math.random() * range - range/2,\n        Math.random() * range - range/2,\n        Math.random() * range - range/2\n      );\n      particle.velocityY = 0.1 + Math.random() /5;\n      particle.velocityX = (Math.random()-0.5) / 3;\n      geom.vertices.push(particle);\n  }\n  cloud = new THREE.Points(geom,material);\n  cloud.sortParticles = true;\n  shareObj.scene.add(cloud);\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\nvar startTime = Date.now();\n\nfunction render() {\n\n  if(Date.now() - startTime > 80){\n      createSprites();\n      startTime = Date.now();\n\n  }\n\n  requestAnimationFrame(render);\n  // \n  var vertices = cloud.geometry.vertices;\n  vertices.forEach(function(v){\n      v.y = v.y - v.velocityY;\n      v.x = v.x - v.velocityX;\n      if(v.y <= 0 ) v.y = 60;\n      if(v.x <= -20 || v.x >= 20) v.velocityX = v.velocityX -1;\n  });\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/3.jpeg\"/>\n\n### \n\n####   THREE.Sprit \n\n*  HUD\n* \n\n#### \n\n* color \n* map \n* blending \n* useScreenCoordinates \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 65);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\ncreateSprites();\nvar group;\n// \nfunction createSprites(){\n  group = new THREE.Object3D();\n  var range = 200;\n  for(var i=0;i<500;i++){\n      group.add(createSprite(10,false,0.6,0xffffff,i%5,range));\n\n  }\n  shareObj.scene.add(group);\n}\n\nfunction getTexture(){\n   return new THREE.ImageUtils.loadTexture('./yudi.png');\n}\n\nfunction createSprite(size,transparent,opacity,color,spriteNumber,range){\n    var spriteMaterial = new THREE.SpriteMaterial({\n       opacity:opacity,\n        color:color,\n        transparent:transparent,\n        map:getTexture()\n\n    });\n\n    spriteMaterial.map.offset = new THREE.Vector2(0.2 * spriteNumber, 0 );\n    spriteMaterial.map.repeat = new THREE.Vector2(1/5,1);\n    spriteMaterial.depthTest = false;\n    // spriteMaterial.blending = THREE.AdditiveBlending;\n    // \n    var sprite = new THREE.Sprite(spriteMaterial);\n    // \n    sprite.scale.set(size,size,size);\n    sprite.position.set(\n            Math.random() * range - range/2,\n            Math.random() * range - range/2,\n            Math.random() * range - range/2\n    );\n    sprite.velocityX = 5;\n    return sprite;\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render(){\n    group.rotation.x += 0.01;\n\n    requestAnimationFrame(render);\n\n\n    shareObj.renderer.render(shareObj.scene,shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/17\n","source":"_posts/webgl-2017-07-18.md","raw":"---\ntitle: Three.js--\ncomments: true\ntoc: true\ndate: 2017-07-18 21:09:11\ntags:\n    - 'javascript'\n    - 'webgl'\n    - 'three.js'\n---\n\n### \n\n#### \n\n*  THREE.Particle \n*  CanvasRenderer \n* WebGLRenderer  THREE.ParticleSystem \n\n#### \n\n* color \n* map \n* size \n\n<!-- more -->\n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 115);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\ncreateSprites();\nvar cloud;\n// \nfunction createSprites(){\n  var geom = new THREE.Geometry();\n  var material = new THREE.PointsMaterial({\n    size:5,\n    vertexColors:true,\n    opacity:.5,\n    transparent:true,\n    sizeAttenuation:true,\n    color:0xffffff\n  });\n  for(var x = -5;x<5;x++){\n    for(var y = -5;y<5;y++){\n      var particle = new THREE.Vector3(x*10,y*10,0);\n      geom.vertices.push(particle);\n      var color = new THREE.Color(0x00ffff);\n      color.setHSL(color.getHSL().h,color.getHSL().s,Math.random() * color.getHSL().l);\n      geom.colors.push(color);\n    }\n  }\n  cloud = new THREE.Points(geom,material);\n  shareObj.scene.add(cloud);\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  cloud.rotation.x += 0.01;\n  cloud.rotation.y += 0.01;\n  cloud.rotation.z += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/1.jpeg\"/>\n\n### \n\n#### ParticleCanvasMaterial \n\n* color \n* program \n* opacity \n* transparent  \n\n#### WebGLRenderer \n\n*  ParticleCanvasMaterial\n*  ParticleBasicMaterial\n*  map canvas\n\n#### \n\n* ImageUtils.loadTexture \n*  map \n*  blending \n\ncanvas\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 65);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\n// \nfunction getTexture(){\n  var canvas = document.createElement('canvas');\n  canvas.width = 32;\n  canvas.height = 32;\n\n  var ctx = canvas.getContext('2d');\n  ctx.translate(-81,-84);\n  ctx.fillStyle = 'white';\n  ctx.beginPath();\n  ctx.moveTo(91,96);\n  ctx.bezierCurveTo(88,96,87,99,87,101);\n  ctx.bezierCurveTo(87,103,88,106,91,106);\n  ctx.bezierCurveTo(94,106,95,103,95,101);\n  ctx.bezierCurveTo(95,99,94,96,91,96);\n\n  ctx.moveTo(103,96);\n  ctx.bezierCurveTo(100,96,99,99,99,101);\n  ctx.bezierCurveTo(99,103,100,106,103,106);\n  ctx.bezierCurveTo(106,106,107,103,107,101)\n  ctx.bezierCurveTo(107,99,106,96,103,96);\n\n  ctx.fill();\n\n  var texture = new THREE.Texture(canvas);\n  texture.needsUpdate = true;\n  return texture;\n\n}\n\ncreateSprites();\nvar cloud;\n// \nfunction createSprites(){\n  var geom = new THREE.Geometry();\n  var material = new THREE.PointsMaterial({\n    size:5,\n    vertexColors:true,\n    opacity:.5,\n    transparent:true,\n    sizeAttenuation:true,\n    color:0xffffff,\n    map: getTexture()\n  });\n  for(var x = -5;x<5;x++){\n    for(var y = -5;y<5;y++){\n      var particle = new THREE.Vector3(x*10,y*10,0);\n      geom.vertices.push(particle);\n      var color = new THREE.Color(0x00ffff);\n      color.setHSL(color.getHSL().h,color.getHSL().s,Math.random() * color.getHSL().l);\n      geom.colors.push(color);\n    }\n  }\n  cloud = new THREE.Points(geom,material);\n  shareObj.scene.add(cloud);\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render() {\n  cloud.rotation.x += 0.01;\n  cloud.rotation.y += 0.01;\n  cloud.rotation.z += 0.01;\n  requestAnimationFrame(render);\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/2.jpeg\"/>\n\npng\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 65);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\ncreateSprites();\nvar cloud;\n// \nfunction createSprites(){\n  if(cloud){\n      shareObj.scene.remove(cloud);\n  }\n  var texture = new THREE.ImageUtils.loadTexture('./yudi.png');\n  var geom = new THREE.Geometry();\n  var material = new THREE.PointsMaterial({\n    size:10,\n    transparent:true,\n    opacity : 0.3,\n    map:texture,\n    // blending:THREE.AdditiveBlending,\n    sizeAttenuation:true,\n    color:0xffffff\n  });\n  var range = 600;\n  for(var i = 0;i<1000;i++){\n      var particle = new THREE.Vector3(\n        Math.random() * range - range/2,\n        Math.random() * range - range/2,\n        Math.random() * range - range/2\n      );\n      particle.velocityY = 0.1 + Math.random() /5;\n      particle.velocityX = (Math.random()-0.5) / 3;\n      geom.vertices.push(particle);\n  }\n  cloud = new THREE.Points(geom,material);\n  cloud.sortParticles = true;\n  shareObj.scene.add(cloud);\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\nvar startTime = Date.now();\n\nfunction render() {\n\n  if(Date.now() - startTime > 80){\n      createSprites();\n      startTime = Date.now();\n\n  }\n\n  requestAnimationFrame(render);\n  // \n  var vertices = cloud.geometry.vertices;\n  vertices.forEach(function(v){\n      v.y = v.y - v.velocityY;\n      v.x = v.x - v.velocityX;\n      if(v.y <= 0 ) v.y = 60;\n      if(v.x <= -20 || v.x >= 20) v.velocityX = v.velocityX -1;\n  });\n  shareObj.renderer.render(shareObj.scene, shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/3.jpeg\"/>\n\n### \n\n####   THREE.Sprit \n\n*  HUD\n* \n\n#### \n\n* color \n* map \n* blending \n* useScreenCoordinates \n\n\n\n{% codeblock lang:javascript %}\nvar shareObj = share(false);\n\nshareObj.camera.position.set(0, 0, 65);\n\nshareObj.camera.lookAt(shareObj.scene.position);\n\ncreateSprites();\nvar group;\n// \nfunction createSprites(){\n  group = new THREE.Object3D();\n  var range = 200;\n  for(var i=0;i<500;i++){\n      group.add(createSprite(10,false,0.6,0xffffff,i%5,range));\n\n  }\n  shareObj.scene.add(group);\n}\n\nfunction getTexture(){\n   return new THREE.ImageUtils.loadTexture('./yudi.png');\n}\n\nfunction createSprite(size,transparent,opacity,color,spriteNumber,range){\n    var spriteMaterial = new THREE.SpriteMaterial({\n       opacity:opacity,\n        color:color,\n        transparent:transparent,\n        map:getTexture()\n\n    });\n\n    spriteMaterial.map.offset = new THREE.Vector2(0.2 * spriteNumber, 0 );\n    spriteMaterial.map.repeat = new THREE.Vector2(1/5,1);\n    spriteMaterial.depthTest = false;\n    // spriteMaterial.blending = THREE.AdditiveBlending;\n    // \n    var sprite = new THREE.Sprite(spriteMaterial);\n    // \n    sprite.scale.set(size,size,size);\n    sprite.position.set(\n            Math.random() * range - range/2,\n            Math.random() * range - range/2,\n            Math.random() * range - range/2\n    );\n    sprite.velocityX = 5;\n    return sprite;\n}\n\n\nvar spotLight = new THREE.SpotLight(0xffffff);\nspotLight.position.set(-40, 60, 10);\nspotLight.castShadow = true;\n\nshareObj.scene.add(spotLight);\n\ndocument.body.appendChild(shareObj.renderer.domElement);\n\nrender();\n\nfunction render(){\n    group.rotation.x += 0.01;\n\n    requestAnimationFrame(render);\n\n\n    shareObj.renderer.render(shareObj.scene,shareObj.camera);\n\n}\n{% endcodeblock %}\n\n\n\n<img width=\"500\" src=\"webgl-2017-07-18/4.jpeg\"/>\n\n https://github.com/wqzwh/webgl-code/tree/master/17\n","slug":"webgl-2017-07-18","published":1,"updated":"2017-11-16T09:54:35.000Z","layout":"post","photos":[],"link":"","_id":"cja2ay1jp001lsvld6ecio4dt","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> THREE.Particle </li>\n<li> CanvasRenderer </li>\n<li>WebGLRenderer  THREE.ParticleSystem </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>map </li>\n<li>size </li>\n</ul>\n<a id=\"more\"></a>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">115</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> cloud;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">  <span class=\"keyword\">var</span> material = <span class=\"keyword\">new</span> THREE.PointsMaterial(&#123;</div><div class=\"line\">    size:<span class=\"number\">5</span>,</div><div class=\"line\">    vertexColors:<span class=\"literal\">true</span>,</div><div class=\"line\">    opacity:<span class=\"number\">.5</span>,</div><div class=\"line\">    transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">    sizeAttenuation:<span class=\"literal\">true</span>,</div><div class=\"line\">    color:<span class=\"number\">0xffffff</span></div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> x = <span class=\"number\">-5</span>;x&lt;<span class=\"number\">5</span>;x++)&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> y = <span class=\"number\">-5</span>;y&lt;<span class=\"number\">5</span>;y++)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> particle = <span class=\"keyword\">new</span> THREE.Vector3(x*<span class=\"number\">10</span>,y*<span class=\"number\">10</span>,<span class=\"number\">0</span>);</div><div class=\"line\">      geom.vertices.push(particle);</div><div class=\"line\">      <span class=\"keyword\">var</span> color = <span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x00ffff</span>);</div><div class=\"line\">      color.setHSL(color.getHSL().h,color.getHSL().s,<span class=\"built_in\">Math</span>.random() * color.getHSL().l);</div><div class=\"line\">      geom.colors.push(color);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  cloud = <span class=\"keyword\">new</span> THREE.Points(geom,material);</div><div class=\"line\">  shareObj.scene.add(cloud);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  cloud.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"ParticleCanvasMaterial-\"><a href=\"#ParticleCanvasMaterial-\" class=\"headerlink\" title=\"ParticleCanvasMaterial \"></a>ParticleCanvasMaterial </h4><ul>\n<li>color </li>\n<li>program </li>\n<li>opacity </li>\n<li>transparent  </li>\n</ul>\n<h4 id=\"WebGLRenderer-\"><a href=\"#WebGLRenderer-\" class=\"headerlink\" title=\"WebGLRenderer \"></a>WebGLRenderer </h4><ul>\n<li> ParticleCanvasMaterial</li>\n<li> ParticleBasicMaterial</li>\n<li> map canvas</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>ImageUtils.loadTexture </li>\n<li> map </li>\n<li> blending </li>\n</ul>\n<p>canvas</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">65</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTexture</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</div><div class=\"line\">  canvas.width = <span class=\"number\">32</span>;</div><div class=\"line\">  canvas.height = <span class=\"number\">32</span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">var</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</div><div class=\"line\">  ctx.translate(<span class=\"number\">-81</span>,<span class=\"number\">-84</span>);</div><div class=\"line\">  ctx.fillStyle = <span class=\"string\">'white'</span>;</div><div class=\"line\">  ctx.beginPath();</div><div class=\"line\">  ctx.moveTo(<span class=\"number\">91</span>,<span class=\"number\">96</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">88</span>,<span class=\"number\">96</span>,<span class=\"number\">87</span>,<span class=\"number\">99</span>,<span class=\"number\">87</span>,<span class=\"number\">101</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">87</span>,<span class=\"number\">103</span>,<span class=\"number\">88</span>,<span class=\"number\">106</span>,<span class=\"number\">91</span>,<span class=\"number\">106</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">94</span>,<span class=\"number\">106</span>,<span class=\"number\">95</span>,<span class=\"number\">103</span>,<span class=\"number\">95</span>,<span class=\"number\">101</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">95</span>,<span class=\"number\">99</span>,<span class=\"number\">94</span>,<span class=\"number\">96</span>,<span class=\"number\">91</span>,<span class=\"number\">96</span>);</div><div class=\"line\"></div><div class=\"line\">  ctx.moveTo(<span class=\"number\">103</span>,<span class=\"number\">96</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">100</span>,<span class=\"number\">96</span>,<span class=\"number\">99</span>,<span class=\"number\">99</span>,<span class=\"number\">99</span>,<span class=\"number\">101</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">99</span>,<span class=\"number\">103</span>,<span class=\"number\">100</span>,<span class=\"number\">106</span>,<span class=\"number\">103</span>,<span class=\"number\">106</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">106</span>,<span class=\"number\">106</span>,<span class=\"number\">107</span>,<span class=\"number\">103</span>,<span class=\"number\">107</span>,<span class=\"number\">101</span>)</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">107</span>,<span class=\"number\">99</span>,<span class=\"number\">106</span>,<span class=\"number\">96</span>,<span class=\"number\">103</span>,<span class=\"number\">96</span>);</div><div class=\"line\"></div><div class=\"line\">  ctx.fill();</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">var</span> texture = <span class=\"keyword\">new</span> THREE.Texture(canvas);</div><div class=\"line\">  texture.needsUpdate = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> texture;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> cloud;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">  <span class=\"keyword\">var</span> material = <span class=\"keyword\">new</span> THREE.PointsMaterial(&#123;</div><div class=\"line\">    size:<span class=\"number\">5</span>,</div><div class=\"line\">    vertexColors:<span class=\"literal\">true</span>,</div><div class=\"line\">    opacity:<span class=\"number\">.5</span>,</div><div class=\"line\">    transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">    sizeAttenuation:<span class=\"literal\">true</span>,</div><div class=\"line\">    color:<span class=\"number\">0xffffff</span>,</div><div class=\"line\">    map: getTexture()</div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> x = <span class=\"number\">-5</span>;x&lt;<span class=\"number\">5</span>;x++)&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> y = <span class=\"number\">-5</span>;y&lt;<span class=\"number\">5</span>;y++)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> particle = <span class=\"keyword\">new</span> THREE.Vector3(x*<span class=\"number\">10</span>,y*<span class=\"number\">10</span>,<span class=\"number\">0</span>);</div><div class=\"line\">      geom.vertices.push(particle);</div><div class=\"line\">      <span class=\"keyword\">var</span> color = <span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x00ffff</span>);</div><div class=\"line\">      color.setHSL(color.getHSL().h,color.getHSL().s,<span class=\"built_in\">Math</span>.random() * color.getHSL().l);</div><div class=\"line\">      geom.colors.push(color);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  cloud = <span class=\"keyword\">new</span> THREE.Points(geom,material);</div><div class=\"line\">  shareObj.scene.add(cloud);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  cloud.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/2.jpeg\"></p>\n<p>png</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">65</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> cloud;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(cloud)&#123;</div><div class=\"line\">      shareObj.scene.remove(cloud);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> texture = <span class=\"keyword\">new</span> THREE.ImageUtils.loadTexture(<span class=\"string\">'./yudi.png'</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">  <span class=\"keyword\">var</span> material = <span class=\"keyword\">new</span> THREE.PointsMaterial(&#123;</div><div class=\"line\">    size:<span class=\"number\">10</span>,</div><div class=\"line\">    transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">    opacity : <span class=\"number\">0.3</span>,</div><div class=\"line\">    map:texture,</div><div class=\"line\">    <span class=\"comment\">// blending:THREE.AdditiveBlending,</span></div><div class=\"line\">    sizeAttenuation:<span class=\"literal\">true</span>,</div><div class=\"line\">    color:<span class=\"number\">0xffffff</span></div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">var</span> range = <span class=\"number\">600</span>;</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;i&lt;<span class=\"number\">1000</span>;i++)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> particle = <span class=\"keyword\">new</span> THREE.Vector3(</div><div class=\"line\">        <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">        <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">        <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span></div><div class=\"line\">      );</div><div class=\"line\">      particle.velocityY = <span class=\"number\">0.1</span> + <span class=\"built_in\">Math</span>.random() /<span class=\"number\">5</span>;</div><div class=\"line\">      particle.velocityX = (<span class=\"built_in\">Math</span>.random()<span class=\"number\">-0.5</span>) / <span class=\"number\">3</span>;</div><div class=\"line\">      geom.vertices.push(particle);</div><div class=\"line\">  &#125;</div><div class=\"line\">  cloud = <span class=\"keyword\">new</span> THREE.Points(geom,material);</div><div class=\"line\">  cloud.sortParticles = <span class=\"literal\">true</span>;</div><div class=\"line\">  shareObj.scene.add(cloud);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"><span class=\"keyword\">var</span> startTime = <span class=\"built_in\">Date</span>.now();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"built_in\">Date</span>.now() - startTime &gt; <span class=\"number\">80</span>)&#123;</div><div class=\"line\">      createSprites();</div><div class=\"line\">      startTime = <span class=\"built_in\">Date</span>.now();</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> vertices = cloud.geometry.vertices;</div><div class=\"line\">  vertices.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">v</span>)</span>&#123;</div><div class=\"line\">      v.y = v.y - v.velocityY;</div><div class=\"line\">      v.x = v.x - v.velocityX;</div><div class=\"line\">      <span class=\"keyword\">if</span>(v.y &lt;= <span class=\"number\">0</span> ) v.y = <span class=\"number\">60</span>;</div><div class=\"line\">      <span class=\"keyword\">if</span>(v.x &lt;= <span class=\"number\">-20</span> || v.x &gt;= <span class=\"number\">20</span>) v.velocityX = v.velocityX <span class=\"number\">-1</span>;</div><div class=\"line\">  &#125;);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-THREE-Sprit-\"><a href=\"#-THREE-Sprit-\" class=\"headerlink\" title=\" THREE.Sprit \"></a> THREE.Sprit </h4><ul>\n<li> HUD</li>\n<li></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>map </li>\n<li>blending </li>\n<li>useScreenCoordinates </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">65</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> group;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  group = <span class=\"keyword\">new</span> THREE.Object3D();</div><div class=\"line\">  <span class=\"keyword\">var</span> range = <span class=\"number\">200</span>;</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">500</span>;i++)&#123;</div><div class=\"line\">      group.add(createSprite(<span class=\"number\">10</span>,<span class=\"literal\">false</span>,<span class=\"number\">0.6</span>,<span class=\"number\">0xffffff</span>,i%<span class=\"number\">5</span>,range));</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  shareObj.scene.add(group);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTexture</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">   <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> THREE.ImageUtils.loadTexture(<span class=\"string\">'./yudi.png'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprite</span>(<span class=\"params\">size,transparent,opacity,color,spriteNumber,range</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> spriteMaterial = <span class=\"keyword\">new</span> THREE.SpriteMaterial(&#123;</div><div class=\"line\">       opacity:opacity,</div><div class=\"line\">        color:color,</div><div class=\"line\">        transparent:transparent,</div><div class=\"line\">        map:getTexture()</div><div class=\"line\"></div><div class=\"line\">    &#125;);</div><div class=\"line\"></div><div class=\"line\">    spriteMaterial.map.offset = <span class=\"keyword\">new</span> THREE.Vector2(<span class=\"number\">0.2</span> * spriteNumber, <span class=\"number\">0</span> );</div><div class=\"line\">    spriteMaterial.map.repeat = <span class=\"keyword\">new</span> THREE.Vector2(<span class=\"number\">1</span>/<span class=\"number\">5</span>,<span class=\"number\">1</span>);</div><div class=\"line\">    spriteMaterial.depthTest = <span class=\"literal\">false</span>;</div><div class=\"line\">    <span class=\"comment\">// spriteMaterial.blending = THREE.AdditiveBlending;</span></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">var</span> sprite = <span class=\"keyword\">new</span> THREE.Sprite(spriteMaterial);</div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    sprite.scale.set(size,size,size);</div><div class=\"line\">    sprite.position.set(</div><div class=\"line\">            <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">            <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">            <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span></div><div class=\"line\">    );</div><div class=\"line\">    sprite.velocityX = <span class=\"number\">5</span>;</div><div class=\"line\">    <span class=\"keyword\">return</span> sprite;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    group.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">    requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    shareObj.renderer.render(shareObj.scene,shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/17\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/17</a></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> THREE.Particle </li>\n<li> CanvasRenderer </li>\n<li>WebGLRenderer  THREE.ParticleSystem </li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>map </li>\n<li>size </li>\n</ul>","more":"<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">115</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> cloud;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">  <span class=\"keyword\">var</span> material = <span class=\"keyword\">new</span> THREE.PointsMaterial(&#123;</div><div class=\"line\">    size:<span class=\"number\">5</span>,</div><div class=\"line\">    vertexColors:<span class=\"literal\">true</span>,</div><div class=\"line\">    opacity:<span class=\"number\">.5</span>,</div><div class=\"line\">    transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">    sizeAttenuation:<span class=\"literal\">true</span>,</div><div class=\"line\">    color:<span class=\"number\">0xffffff</span></div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> x = <span class=\"number\">-5</span>;x&lt;<span class=\"number\">5</span>;x++)&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> y = <span class=\"number\">-5</span>;y&lt;<span class=\"number\">5</span>;y++)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> particle = <span class=\"keyword\">new</span> THREE.Vector3(x*<span class=\"number\">10</span>,y*<span class=\"number\">10</span>,<span class=\"number\">0</span>);</div><div class=\"line\">      geom.vertices.push(particle);</div><div class=\"line\">      <span class=\"keyword\">var</span> color = <span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x00ffff</span>);</div><div class=\"line\">      color.setHSL(color.getHSL().h,color.getHSL().s,<span class=\"built_in\">Math</span>.random() * color.getHSL().l);</div><div class=\"line\">      geom.colors.push(color);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  cloud = <span class=\"keyword\">new</span> THREE.Points(geom,material);</div><div class=\"line\">  shareObj.scene.add(cloud);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  cloud.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/1.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"ParticleCanvasMaterial-\"><a href=\"#ParticleCanvasMaterial-\" class=\"headerlink\" title=\"ParticleCanvasMaterial \"></a>ParticleCanvasMaterial </h4><ul>\n<li>color </li>\n<li>program </li>\n<li>opacity </li>\n<li>transparent  </li>\n</ul>\n<h4 id=\"WebGLRenderer-\"><a href=\"#WebGLRenderer-\" class=\"headerlink\" title=\"WebGLRenderer \"></a>WebGLRenderer </h4><ul>\n<li> ParticleCanvasMaterial</li>\n<li> ParticleBasicMaterial</li>\n<li> map canvas</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>ImageUtils.loadTexture </li>\n<li> map </li>\n<li> blending </li>\n</ul>\n<p>canvas</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">65</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTexture</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</div><div class=\"line\">  canvas.width = <span class=\"number\">32</span>;</div><div class=\"line\">  canvas.height = <span class=\"number\">32</span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">var</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</div><div class=\"line\">  ctx.translate(<span class=\"number\">-81</span>,<span class=\"number\">-84</span>);</div><div class=\"line\">  ctx.fillStyle = <span class=\"string\">'white'</span>;</div><div class=\"line\">  ctx.beginPath();</div><div class=\"line\">  ctx.moveTo(<span class=\"number\">91</span>,<span class=\"number\">96</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">88</span>,<span class=\"number\">96</span>,<span class=\"number\">87</span>,<span class=\"number\">99</span>,<span class=\"number\">87</span>,<span class=\"number\">101</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">87</span>,<span class=\"number\">103</span>,<span class=\"number\">88</span>,<span class=\"number\">106</span>,<span class=\"number\">91</span>,<span class=\"number\">106</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">94</span>,<span class=\"number\">106</span>,<span class=\"number\">95</span>,<span class=\"number\">103</span>,<span class=\"number\">95</span>,<span class=\"number\">101</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">95</span>,<span class=\"number\">99</span>,<span class=\"number\">94</span>,<span class=\"number\">96</span>,<span class=\"number\">91</span>,<span class=\"number\">96</span>);</div><div class=\"line\"></div><div class=\"line\">  ctx.moveTo(<span class=\"number\">103</span>,<span class=\"number\">96</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">100</span>,<span class=\"number\">96</span>,<span class=\"number\">99</span>,<span class=\"number\">99</span>,<span class=\"number\">99</span>,<span class=\"number\">101</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">99</span>,<span class=\"number\">103</span>,<span class=\"number\">100</span>,<span class=\"number\">106</span>,<span class=\"number\">103</span>,<span class=\"number\">106</span>);</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">106</span>,<span class=\"number\">106</span>,<span class=\"number\">107</span>,<span class=\"number\">103</span>,<span class=\"number\">107</span>,<span class=\"number\">101</span>)</div><div class=\"line\">  ctx.bezierCurveTo(<span class=\"number\">107</span>,<span class=\"number\">99</span>,<span class=\"number\">106</span>,<span class=\"number\">96</span>,<span class=\"number\">103</span>,<span class=\"number\">96</span>);</div><div class=\"line\"></div><div class=\"line\">  ctx.fill();</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">var</span> texture = <span class=\"keyword\">new</span> THREE.Texture(canvas);</div><div class=\"line\">  texture.needsUpdate = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> texture;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> cloud;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">  <span class=\"keyword\">var</span> material = <span class=\"keyword\">new</span> THREE.PointsMaterial(&#123;</div><div class=\"line\">    size:<span class=\"number\">5</span>,</div><div class=\"line\">    vertexColors:<span class=\"literal\">true</span>,</div><div class=\"line\">    opacity:<span class=\"number\">.5</span>,</div><div class=\"line\">    transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">    sizeAttenuation:<span class=\"literal\">true</span>,</div><div class=\"line\">    color:<span class=\"number\">0xffffff</span>,</div><div class=\"line\">    map: getTexture()</div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> x = <span class=\"number\">-5</span>;x&lt;<span class=\"number\">5</span>;x++)&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> y = <span class=\"number\">-5</span>;y&lt;<span class=\"number\">5</span>;y++)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> particle = <span class=\"keyword\">new</span> THREE.Vector3(x*<span class=\"number\">10</span>,y*<span class=\"number\">10</span>,<span class=\"number\">0</span>);</div><div class=\"line\">      geom.vertices.push(particle);</div><div class=\"line\">      <span class=\"keyword\">var</span> color = <span class=\"keyword\">new</span> THREE.Color(<span class=\"number\">0x00ffff</span>);</div><div class=\"line\">      color.setHSL(color.getHSL().h,color.getHSL().s,<span class=\"built_in\">Math</span>.random() * color.getHSL().l);</div><div class=\"line\">      geom.colors.push(color);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  cloud = <span class=\"keyword\">new</span> THREE.Points(geom,material);</div><div class=\"line\">  shareObj.scene.add(cloud);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  cloud.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.y += <span class=\"number\">0.01</span>;</div><div class=\"line\">  cloud.rotation.z += <span class=\"number\">0.01</span>;</div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/2.jpeg\"></p>\n<p>png</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">65</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> cloud;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(cloud)&#123;</div><div class=\"line\">      shareObj.scene.remove(cloud);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> texture = <span class=\"keyword\">new</span> THREE.ImageUtils.loadTexture(<span class=\"string\">'./yudi.png'</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> geom = <span class=\"keyword\">new</span> THREE.Geometry();</div><div class=\"line\">  <span class=\"keyword\">var</span> material = <span class=\"keyword\">new</span> THREE.PointsMaterial(&#123;</div><div class=\"line\">    size:<span class=\"number\">10</span>,</div><div class=\"line\">    transparent:<span class=\"literal\">true</span>,</div><div class=\"line\">    opacity : <span class=\"number\">0.3</span>,</div><div class=\"line\">    map:texture,</div><div class=\"line\">    <span class=\"comment\">// blending:THREE.AdditiveBlending,</span></div><div class=\"line\">    sizeAttenuation:<span class=\"literal\">true</span>,</div><div class=\"line\">    color:<span class=\"number\">0xffffff</span></div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"keyword\">var</span> range = <span class=\"number\">600</span>;</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>;i&lt;<span class=\"number\">1000</span>;i++)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> particle = <span class=\"keyword\">new</span> THREE.Vector3(</div><div class=\"line\">        <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">        <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">        <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span></div><div class=\"line\">      );</div><div class=\"line\">      particle.velocityY = <span class=\"number\">0.1</span> + <span class=\"built_in\">Math</span>.random() /<span class=\"number\">5</span>;</div><div class=\"line\">      particle.velocityX = (<span class=\"built_in\">Math</span>.random()<span class=\"number\">-0.5</span>) / <span class=\"number\">3</span>;</div><div class=\"line\">      geom.vertices.push(particle);</div><div class=\"line\">  &#125;</div><div class=\"line\">  cloud = <span class=\"keyword\">new</span> THREE.Points(geom,material);</div><div class=\"line\">  cloud.sortParticles = <span class=\"literal\">true</span>;</div><div class=\"line\">  shareObj.scene.add(cloud);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"><span class=\"keyword\">var</span> startTime = <span class=\"built_in\">Date</span>.now();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"built_in\">Date</span>.now() - startTime &gt; <span class=\"number\">80</span>)&#123;</div><div class=\"line\">      createSprites();</div><div class=\"line\">      startTime = <span class=\"built_in\">Date</span>.now();</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  requestAnimationFrame(render);</div><div class=\"line\">  <span class=\"comment\">// </span></div><div class=\"line\">  <span class=\"keyword\">var</span> vertices = cloud.geometry.vertices;</div><div class=\"line\">  vertices.forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">v</span>)</span>&#123;</div><div class=\"line\">      v.y = v.y - v.velocityY;</div><div class=\"line\">      v.x = v.x - v.velocityX;</div><div class=\"line\">      <span class=\"keyword\">if</span>(v.y &lt;= <span class=\"number\">0</span> ) v.y = <span class=\"number\">60</span>;</div><div class=\"line\">      <span class=\"keyword\">if</span>(v.x &lt;= <span class=\"number\">-20</span> || v.x &gt;= <span class=\"number\">20</span>) v.velocityX = v.velocityX <span class=\"number\">-1</span>;</div><div class=\"line\">  &#125;);</div><div class=\"line\">  shareObj.renderer.render(shareObj.scene, shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/3.jpeg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-THREE-Sprit-\"><a href=\"#-THREE-Sprit-\" class=\"headerlink\" title=\" THREE.Sprit \"></a> THREE.Sprit </h4><ul>\n<li> HUD</li>\n<li></li>\n</ul>\n<h4 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>color </li>\n<li>map </li>\n<li>blending </li>\n<li>useScreenCoordinates </li>\n</ul>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> shareObj = share(<span class=\"literal\">false</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.position.set(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">65</span>);</div><div class=\"line\"></div><div class=\"line\">shareObj.camera.lookAt(shareObj.scene.position);</div><div class=\"line\"></div><div class=\"line\">createSprites();</div><div class=\"line\"><span class=\"keyword\">var</span> group;</div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprites</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  group = <span class=\"keyword\">new</span> THREE.Object3D();</div><div class=\"line\">  <span class=\"keyword\">var</span> range = <span class=\"number\">200</span>;</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">500</span>;i++)&#123;</div><div class=\"line\">      group.add(createSprite(<span class=\"number\">10</span>,<span class=\"literal\">false</span>,<span class=\"number\">0.6</span>,<span class=\"number\">0xffffff</span>,i%<span class=\"number\">5</span>,range));</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  shareObj.scene.add(group);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getTexture</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">   <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> THREE.ImageUtils.loadTexture(<span class=\"string\">'./yudi.png'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createSprite</span>(<span class=\"params\">size,transparent,opacity,color,spriteNumber,range</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> spriteMaterial = <span class=\"keyword\">new</span> THREE.SpriteMaterial(&#123;</div><div class=\"line\">       opacity:opacity,</div><div class=\"line\">        color:color,</div><div class=\"line\">        transparent:transparent,</div><div class=\"line\">        map:getTexture()</div><div class=\"line\"></div><div class=\"line\">    &#125;);</div><div class=\"line\"></div><div class=\"line\">    spriteMaterial.map.offset = <span class=\"keyword\">new</span> THREE.Vector2(<span class=\"number\">0.2</span> * spriteNumber, <span class=\"number\">0</span> );</div><div class=\"line\">    spriteMaterial.map.repeat = <span class=\"keyword\">new</span> THREE.Vector2(<span class=\"number\">1</span>/<span class=\"number\">5</span>,<span class=\"number\">1</span>);</div><div class=\"line\">    spriteMaterial.depthTest = <span class=\"literal\">false</span>;</div><div class=\"line\">    <span class=\"comment\">// spriteMaterial.blending = THREE.AdditiveBlending;</span></div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    <span class=\"keyword\">var</span> sprite = <span class=\"keyword\">new</span> THREE.Sprite(spriteMaterial);</div><div class=\"line\">    <span class=\"comment\">// </span></div><div class=\"line\">    sprite.scale.set(size,size,size);</div><div class=\"line\">    sprite.position.set(</div><div class=\"line\">            <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">            <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span>,</div><div class=\"line\">            <span class=\"built_in\">Math</span>.random() * range - range/<span class=\"number\">2</span></div><div class=\"line\">    );</div><div class=\"line\">    sprite.velocityX = <span class=\"number\">5</span>;</div><div class=\"line\">    <span class=\"keyword\">return</span> sprite;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> spotLight = <span class=\"keyword\">new</span> THREE.SpotLight(<span class=\"number\">0xffffff</span>);</div><div class=\"line\">spotLight.position.set(<span class=\"number\">-40</span>, <span class=\"number\">60</span>, <span class=\"number\">10</span>);</div><div class=\"line\">spotLight.castShadow = <span class=\"literal\">true</span>;</div><div class=\"line\"></div><div class=\"line\">shareObj.scene.add(spotLight);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(shareObj.renderer.domElement);</div><div class=\"line\"></div><div class=\"line\">render();</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    group.rotation.x += <span class=\"number\">0.01</span>;</div><div class=\"line\"></div><div class=\"line\">    requestAnimationFrame(render);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    shareObj.renderer.render(shareObj.scene,shareObj.camera);</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<p><img width=\"500\" src=\"/webgl-2017-07-18/4.jpeg\"></p>\n<p> <a href=\"https://github.com/wqzwh/webgl-code/tree/master/17\" target=\"_blank\" rel=\"external\">https://github.com/wqzwh/webgl-code/tree/master/17</a></p>"}],"PostAsset":[{"_id":"source/_posts/vue-ssr2/1.jpeg","slug":"1.jpeg","post":"cja2ay1in000lsvlddj2j8fdp","modified":1,"renderable":0},{"_id":"source/_posts/webgl-2017-07-01/02.jpeg","slug":"02.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","modified":1,"renderable":0},{"_id":"source/_posts/webgl-2017-07-08/1.jpeg","slug":"1.jpeg","post":"cja2ay1j00012svldhjc4rd91","modified":1,"renderable":0},{"_id":"source/_posts/ajax/111.png","post":"cja2ay1ic000bsvldeaixeg5e","slug":"111.png","modified":1,"renderable":1},{"_id":"source/_posts/vue-ssr3/11.jpeg","post":"cja2ay1il000jsvldlo8a5ug1","slug":"11.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-09/1.jpeg","post":"cja2ay1j20014svld3toriggf","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-12/1.jpeg","post":"cja2ay1j50017svld22pe6foj","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-11/01.jpeg","post":"cja2ay1hk0006svld785nah9l","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-11/02.jpeg","post":"cja2ay1hk0006svld785nah9l","slug":"02.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/vue-ssr/11.png","post":"cja2ay1ih000hsvldbb33gfze","slug":"11.png","modified":1,"renderable":1},{"_id":"source/_posts/vue-ssr/22.jpeg","post":"cja2ay1ih000hsvldbb33gfze","slug":"22.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-02/01.jpeg","post":"cja2ay1ir000rsvldsxn1vvyy","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-02/02.jpeg","post":"cja2ay1ir000rsvldsxn1vvyy","slug":"02.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-10/1.jpeg","post":"cja2ay1iz000zsvldiarnlxb3","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-10/2.jpeg","post":"cja2ay1iz000zsvldiarnlxb3","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-05-07/1.png","post":"cja2ay1i80009svldo5821v1e","slug":"1.png","modified":1,"renderable":1},{"_id":"source/_posts/2017-05-07/2.png","post":"cja2ay1i80009svldo5821v1e","slug":"2.png","modified":1,"renderable":1},{"_id":"source/_posts/2017-05-07/3.png","post":"cja2ay1i80009svldo5821v1e","slug":"3.png","modified":1,"renderable":1},{"_id":"source/_posts/vue-ssr2/2.jpeg","post":"cja2ay1in000lsvlddj2j8fdp","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/vue-ssr2/3.jpeg","post":"cja2ay1in000lsvlddj2j8fdp","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/vue-ssr2/4.jpeg","post":"cja2ay1in000lsvlddj2j8fdp","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-04/01.jpeg","post":"cja2ay1it000tsvldchb0ni3a","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-04/02.jpeg","post":"cja2ay1it000tsvldchb0ni3a","slug":"02.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-04/03.jpeg","post":"cja2ay1it000tsvldchb0ni3a","slug":"03.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-04/04.jpeg","post":"cja2ay1it000tsvldchb0ni3a","slug":"04.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-13/1.jpeg","post":"cja2ay1jf001bsvldhmh6oggf","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-13/2.jpeg","post":"cja2ay1jf001bsvldhmh6oggf","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-13/3.jpeg","post":"cja2ay1jf001bsvldhmh6oggf","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-13/4.jpeg","post":"cja2ay1jf001bsvldhmh6oggf","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-14/01.jpeg","post":"cja2ay1jg001csvldhxt452cb","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-14/2.jpeg","post":"cja2ay1jg001csvldhxt452cb","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-14/3.jpeg","post":"cja2ay1jg001csvldhxt452cb","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-14/4.jpeg","post":"cja2ay1jg001csvldhxt452cb","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-16/1.jpeg","post":"cja2ay1jj001esvldqpujewis","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-16/2.jpeg","post":"cja2ay1jj001esvldqpujewis","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-16/3.jpeg","post":"cja2ay1jj001esvldqpujewis","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-16/4.jpeg","post":"cja2ay1jj001esvldqpujewis","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-15/1.jpeg","post":"cja2ay1jl001gsvld8m4r4oua","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-15/2.jpeg","post":"cja2ay1jl001gsvld8m4r4oua","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-15/3.jpeg","post":"cja2ay1jl001gsvld8m4r4oua","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-15/4.jpeg","post":"cja2ay1jl001gsvld8m4r4oua","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-18/1.jpeg","post":"cja2ay1jp001lsvld6ecio4dt","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-18/2.jpeg","post":"cja2ay1jp001lsvld6ecio4dt","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-18/3.jpeg","post":"cja2ay1jp001lsvld6ecio4dt","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-18/4.jpeg","post":"cja2ay1jp001lsvld6ecio4dt","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-03/01.jpeg","post":"cja2ay1iv000vsvld5unm59uf","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-03/02.jpeg","post":"cja2ay1iv000vsvld5unm59uf","slug":"02.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-03/03.jpeg","post":"cja2ay1iv000vsvld5unm59uf","slug":"03.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-03/04.jpeg","post":"cja2ay1iv000vsvld5unm59uf","slug":"04.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-03/05.jpeg","post":"cja2ay1iv000vsvld5unm59uf","slug":"05.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-06/1.jpeg","post":"cja2ay1ix000xsvldxu2epzrn","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-06/2.jpeg","post":"cja2ay1ix000xsvldxu2epzrn","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-06/3.jpeg","post":"cja2ay1ix000xsvldxu2epzrn","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-06/4.jpeg","post":"cja2ay1ix000xsvldxu2epzrn","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-06/5.jpeg","post":"cja2ay1ix000xsvldxu2epzrn","slug":"5.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-12/01.jpeg","post":"cja2ay1ie000dsvldnf59xr0v","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-12/02.jpeg","post":"cja2ay1ie000dsvldnf59xr0v","slug":"02.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-12/03.jpeg","post":"cja2ay1ie000dsvldnf59xr0v","slug":"03.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-12/04.jpeg","post":"cja2ay1ie000dsvldnf59xr0v","slug":"04.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-12/05.jpeg","post":"cja2ay1ie000dsvldnf59xr0v","slug":"05.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/2017-06-12/06.jpeg","post":"cja2ay1ie000dsvldnf59xr0v","slug":"06.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-08/2.jpeg","post":"cja2ay1j00012svldhjc4rd91","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-08/3.jpeg","post":"cja2ay1j00012svldhjc4rd91","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-08/5.jpeg","post":"cja2ay1j00012svldhjc4rd91","slug":"5.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-08/6.jpeg","post":"cja2ay1j00012svldhjc4rd91","slug":"6.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-08/7.jpeg","post":"cja2ay1j00012svldhjc4rd91","slug":"7.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-17/1.jpeg","post":"cja2ay1jn001jsvld9t8y1f4g","slug":"1.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-17/2.jpeg","post":"cja2ay1jn001jsvld9t8y1f4g","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-17/3.jpeg","post":"cja2ay1jn001jsvld9t8y1f4g","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-17/4.jpeg","post":"cja2ay1jn001jsvld9t8y1f4g","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-17/5.jpeg","post":"cja2ay1jn001jsvld9t8y1f4g","slug":"5.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-17/6.jpeg","post":"cja2ay1jn001jsvld9t8y1f4g","slug":"6.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/01.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/2.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"2.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/3.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"3.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/4.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"4.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/5.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"5.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/6.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"6.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/7.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"7.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/8.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"8.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-11/9.jpeg","post":"cja2ay1jc0019svldh03ce6s6","slug":"9.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/01.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"01.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/03.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"03.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/04.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"04.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/05.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"05.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/06.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"06.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/07.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"07.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/08.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"08.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/09.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"09.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/10.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"10.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/11.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"11.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/12.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"12.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/13.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"13.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/14.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"14.jpeg","modified":1,"renderable":1},{"_id":"source/_posts/webgl-2017-07-01/15.jpeg","post":"cja2ay1ip000nsvldwhx7o9on","slug":"15.jpeg","modified":1,"renderable":1}],"PostCategory":[{"post_id":"cja2ay1ic000bsvldeaixeg5e","category_id":"cja2ay1ih000gsvldc54j7avx","_id":"cja2ay1ir000qsvlde1wsj7kn"}],"PostTag":[{"post_id":"cja2ay1gp0000svldxa2io39l","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1id000csvldsce5ipv6"},{"post_id":"cja2ay1gp0000svldxa2io39l","tag_id":"cja2ay1hm0007svlduhq30qjd","_id":"cja2ay1ig000esvld3u8bq8hs"},{"post_id":"cja2ay1i80009svldo5821v1e","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1ij000isvld4ids0oj2"},{"post_id":"cja2ay1gx0002svld9levqfg8","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1ip000msvld81zcsst6"},{"post_id":"cja2ay1gx0002svld9levqfg8","tag_id":"cja2ay1ig000fsvldwrlu3sth","_id":"cja2ay1ir000osvldal5ji9a8"},{"post_id":"cja2ay1h30004svld6fq4uv3w","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1it000ssvldl6gln96k"},{"post_id":"cja2ay1he0005svld8w412zy4","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1ix000wsvldint8yui9"},{"post_id":"cja2ay1he0005svld8w412zy4","tag_id":"cja2ay1ir000psvldqw8xzfia","_id":"cja2ay1iz000ysvlduunr746t"},{"post_id":"cja2ay1hk0006svld785nah9l","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1j00011svld3e13hv64"},{"post_id":"cja2ay1hk0006svld785nah9l","tag_id":"cja2ay1iv000usvld5pr4jl0m","_id":"cja2ay1j20013svldaciqamc0"},{"post_id":"cja2ay1hs0008svldfhsoibwp","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1j50016svldl1dvpmt1"},{"post_id":"cja2ay1hs0008svldfhsoibwp","tag_id":"cja2ay1iv000usvld5pr4jl0m","_id":"cja2ay1ja0018svld6fkr9tkm"},{"post_id":"cja2ay1ic000bsvldeaixeg5e","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jk001fsvld2t41f9e7"},{"post_id":"cja2ay1ic000bsvldeaixeg5e","tag_id":"cja2ay1ir000psvldqw8xzfia","_id":"cja2ay1jm001hsvldhdgq96u8"},{"post_id":"cja2ay1ic000bsvldeaixeg5e","tag_id":"cja2ay1je001asvldtcs86rg1","_id":"cja2ay1jp001ksvld7nnv7ydr"},{"post_id":"cja2ay1ie000dsvldnf59xr0v","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jr001msvld7h3kwg5c"},{"post_id":"cja2ay1ie000dsvldnf59xr0v","tag_id":"cja2ay1iv000usvld5pr4jl0m","_id":"cja2ay1js001osvldsdqb6l4y"},{"post_id":"cja2ay1ih000hsvldbb33gfze","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jt001psvldlp2ivzrf"},{"post_id":"cja2ay1ih000hsvldbb33gfze","tag_id":"cja2ay1jm001isvldbkjq4pfi","_id":"cja2ay1jt001rsvldn09en075"},{"post_id":"cja2ay1il000jsvldlo8a5ug1","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jt001ssvldwgus3u3d"},{"post_id":"cja2ay1il000jsvldlo8a5ug1","tag_id":"cja2ay1jm001isvldbkjq4pfi","_id":"cja2ay1ju001usvldw5sr4icq"},{"post_id":"cja2ay1in000lsvlddj2j8fdp","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1ju001vsvldat8m3d1q"},{"post_id":"cja2ay1in000lsvlddj2j8fdp","tag_id":"cja2ay1jm001isvldbkjq4pfi","_id":"cja2ay1ju001xsvld1rxa1c9p"},{"post_id":"cja2ay1ip000nsvldwhx7o9on","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1ju001ysvldgurtmrxj"},{"post_id":"cja2ay1ip000nsvldwhx7o9on","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jv0020svldwkag8opm"},{"post_id":"cja2ay1ir000rsvldsxn1vvyy","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jv0021svld39ythby2"},{"post_id":"cja2ay1ir000rsvldsxn1vvyy","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jv0023svldehl52rzw"},{"post_id":"cja2ay1it000tsvldchb0ni3a","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jw0024svld26uascg3"},{"post_id":"cja2ay1it000tsvldchb0ni3a","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jx0026svldsk9t3xzv"},{"post_id":"cja2ay1iv000vsvld5unm59uf","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jx0027svld78eme88l"},{"post_id":"cja2ay1iv000vsvld5unm59uf","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jx0029svld7ked989t"},{"post_id":"cja2ay1ix000xsvldxu2epzrn","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jx002asvldy9132f32"},{"post_id":"cja2ay1ix000xsvldxu2epzrn","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jy002csvldfyje2yco"},{"post_id":"cja2ay1iz000zsvldiarnlxb3","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jy002dsvldfpctph32"},{"post_id":"cja2ay1iz000zsvldiarnlxb3","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jy002fsvldatybpdcq"},{"post_id":"cja2ay1j00012svldhjc4rd91","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jy002gsvldb02rm3ln"},{"post_id":"cja2ay1j00012svldhjc4rd91","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jz002isvldj5l6tgqu"},{"post_id":"cja2ay1j20014svld3toriggf","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1jz002jsvldusq1tr10"},{"post_id":"cja2ay1j20014svld3toriggf","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1jz002lsvldvbh4xswd"},{"post_id":"cja2ay1j50017svld22pe6foj","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k0002msvldvjs18dlv"},{"post_id":"cja2ay1j50017svld22pe6foj","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k0002osvld2s6lpdga"},{"post_id":"cja2ay1jc0019svldh03ce6s6","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k0002psvldj5u76z3j"},{"post_id":"cja2ay1jc0019svldh03ce6s6","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k1002rsvldh4bxt8ly"},{"post_id":"cja2ay1jf001bsvldhmh6oggf","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k1002ssvld8b3tkpwa"},{"post_id":"cja2ay1jf001bsvldhmh6oggf","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k2002usvldrn50eo8j"},{"post_id":"cja2ay1jg001csvldhxt452cb","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k2002wsvld6r41yhvm"},{"post_id":"cja2ay1jg001csvldhxt452cb","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k3002xsvldpjum628h"},{"post_id":"cja2ay1jg001csvldhxt452cb","tag_id":"cja2ay1k1002tsvldrrj4cema","_id":"cja2ay1k3002zsvld5v5zi4em"},{"post_id":"cja2ay1jj001esvldqpujewis","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k40031svldno4pkka6"},{"post_id":"cja2ay1jj001esvldqpujewis","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k50032svlds8tcshvk"},{"post_id":"cja2ay1jj001esvldqpujewis","tag_id":"cja2ay1k1002tsvldrrj4cema","_id":"cja2ay1k50034svldq3ic8cw9"},{"post_id":"cja2ay1jl001gsvld8m4r4oua","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k60036svldjahsmkkf"},{"post_id":"cja2ay1jl001gsvld8m4r4oua","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k60037svldf75pz5gx"},{"post_id":"cja2ay1jl001gsvld8m4r4oua","tag_id":"cja2ay1k1002tsvldrrj4cema","_id":"cja2ay1k70039svldbjqdarhx"},{"post_id":"cja2ay1jn001jsvld9t8y1f4g","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k7003bsvldqb7akdyy"},{"post_id":"cja2ay1jn001jsvld9t8y1f4g","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k7003csvldlz3zvmjj"},{"post_id":"cja2ay1jn001jsvld9t8y1f4g","tag_id":"cja2ay1k1002tsvldrrj4cema","_id":"cja2ay1k7003esvldk946dfuj"},{"post_id":"cja2ay1jp001lsvld6ecio4dt","tag_id":"cja2ay1h00003svldg0j8nf2g","_id":"cja2ay1k8003fsvldjlsbh1m6"},{"post_id":"cja2ay1jp001lsvld6ecio4dt","tag_id":"cja2ay1jt001tsvldgi07i2ur","_id":"cja2ay1k8003gsvld1n3dx3lf"},{"post_id":"cja2ay1jp001lsvld6ecio4dt","tag_id":"cja2ay1k1002tsvldrrj4cema","_id":"cja2ay1k8003hsvldh157daik"}],"Tag":[{"name":"javascript","_id":"cja2ay1h00003svldg0j8nf2g"},{"name":"node","_id":"cja2ay1hm0007svlduhq30qjd"},{"name":"es6","_id":"cja2ay1ig000fsvldwrlu3sth"},{"name":"ajax","_id":"cja2ay1ir000psvldqw8xzfia"},{"name":"react","_id":"cja2ay1iv000usvld5pr4jl0m"},{"name":"302","_id":"cja2ay1je001asvldtcs86rg1"},{"name":"vue","_id":"cja2ay1jm001isvldbkjq4pfi"},{"name":"webgl","_id":"cja2ay1jt001tsvldgi07i2ur"},{"name":"three.js","_id":"cja2ay1k1002tsvldrrj4cema"}]}}